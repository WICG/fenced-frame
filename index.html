<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>Fenced Frame</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <link href="https://www.w3.org/StyleSheets/TR/2021/cg-draft" rel="stylesheet">
  <meta content="Bikeshed version 82ce88815, updated Thu Sep 7 16:33:55 2023 -0700" name="generator">
  <link href="https://wicg.github.io/fenced-frame/" rel="canonical">
  <meta content="67d2fa4cf68932c39f8c411fb52213779922483b" name="document-revision">
<style>
/* Put nice boxes around each algorithm. */
[data-algorithm]:not(.heading) {
  padding: .5em;
  border: thin solid #ddd; border-radius: .5em;
  margin: .5em calc(-0.5em - 1px);
}
[data-algorithm]:not(.heading) > :first-child {
  margin-top: 0;
}
[data-algorithm]:not(.heading) > :last-child {
  margin-bottom: 0;
}
[data-algorithm] [data-algorithm] {
  margin: 1em 0;
}

.selected-text-file-an-issue {
  position: fixed;
  bottom: 0;
  right: 0;
  background: rgba(255, 255, 255, 0.8);
  font-size: smaller;
  padding: 4px 10px;
  z-index: 4;
}

dfn var {
  font-style: italic;
}

table {
  margin: 1em 0;
}

/* WHATWG-style <hr>s, instead of WICG-style. Specific selector is necessary to override WICG styles. */
:not(.head) > :not(.head) + hr {
  display: block;
  background: none;
  border: none;
  padding: 0;
  margin: 3em 0;
  height: auto;
}
:not(.head) > :not(.head) + hr::before {
  content: none;
}

/* WHATWG-style element definition class */
.element {
  background: #EEFFEE;
}
dt {
  margin-top: 12px;
  color: black;
}
dl, dd {
  padding-left: .5em;
}

/* domintro from https://resources.whatwg.org/standard.css */
.domintro {
  position: relative;
  color: green;
  background: #DDFFDD;
  margin: 2.5em 0 2em 0;
  padding: 1.5em 1em 0.5em 2em;
}

.domintro dt, .domintro dt * {
  color: black;
  font-size: inherit;
}
.domintro dd {
  margin: 0.5em 0 1em 2em; padding: 0;
}
.domintro dd p {
  margin: 0.5em 0;
}
.domintro::before {
  content: 'For web developers (non-normative)';
  background: green;
  color: white;
  padding: 0.15em 0.25em;
  font-style: normal;
  position: absolute;
  top: -0.8em;
  left: -0.8em;
}

/* .XXX from https://resources.whatwg.org/standard.css */
.XXX {
  color: #D50606;
  background: white;
  border: solid #D50606;
}
</style>
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    white-space: pre;
    display: inline-block;
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled[role="button"] { cursor: pointer; }
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    white-space: pre;
    display: inline-block;
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled[role="button"] { cursor: pointer; }
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */

            pre.idl.highlight {
                background: var(--borderedblock-bg, var(--def-bg));
            }
            
</style>
<style>/* Boilerplate: style-syntax-highlighting */

code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */


@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
<style>/* Boilerplate: style-var-click-highlighting */
/*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)
*/
var { cursor: pointer; }
var.selected0 { background-color: #F4D200; box-shadow: 0 0 0 2px #F4D200; }
var.selected1 { background-color: #FF87A2; box-shadow: 0 0 0 2px #FF87A2; }
var.selected2 { background-color: #96E885; box-shadow: 0 0 0 2px #96E885; }
var.selected3 { background-color: #3EEED2; box-shadow: 0 0 0 2px #3EEED2; }
var.selected4 { background-color: #EACFB6; box-shadow: 0 0 0 2px #EACFB6; }
var.selected5 { background-color: #82DDFF; box-shadow: 0 0 0 2px #82DDFF; }
var.selected6 { background-color: #FFBCF2; box-shadow: 0 0 0 2px #FFBCF2; }
</style>
<style>/* Boilerplate: style-wpt */
:root {
    --wpt-border: hsl(0, 0%, 60%);
    --wpt-bg: hsl(0, 0%, 95%);
    --wpt-text: var(--text);
    --wptheading-text: hsl(0, 0%, 30%);
}
@media (prefers-color-scheme: dark) {
    :root {
        --wpt-border: hsl(0, 0%, 30%);
        --wpt-bg: var(--borderedblock-bg);
        --wpt-text: var(--text);
        --wptheading-text: hsl(0, 0%, 60%);
    }
}
.wpt-tests-block {
    list-style: none;
    border-left: .5em solid var(--wpt-border);
    background: var(--wpt-bg);
    color: var(--wpt-text);
    margin: 1em auto;
    padding: .5em;
}
.wpt-tests-block summary {
    color: var(--wptheading-text);
    font-weight: normal;
    text-transform: uppercase;
}
.wpt-tests-block summary::marker{
    color: var(--wpt-border);
}
.wpt-tests-block summary:hover::marker{
    color: var(--wpt-text);
}
/*
   The only content  of a wpt test block in its closed state is the <summary>,
   which contains the word TESTS,
   and that is absolutely positioned.
   In that closed state, wpt test blocks are styled
   to have a top margin whose height is exactly equal
   to the height of the absolutely positioned <summary>,
   and no other background/padding/margin/border.
   The wpt test block elements will therefore allow the maring
   of the previous/next block elements
   to collapse through them;
   if this combined margin would be larger than its own top margin,
   it stays as is,
   and therefore the pre-existing vertical rhythm of the document is undisturbed.
   If that combined margin would be smaller, it is grown to that size.
   This means that the wpt test block ensures
   that there's always enough vertical space to insert the summary,
   without adding more than is needed.
*/
.wpt-tests-block:not([open]){
    padding: 0;
    border: none;
    background: none;
    font-size: 0.75em;
    line-height: 1;
    position: relative;
    margin: 1em 0 0;
}
.wpt-tests-block:not([open]) summary {
    position: absolute;
    right: 0;
    bottom: 0;
}
/*
   It is possible that both the last child of a block element
   and the block element itself
   would be annotated with a <wpt> block each.
   If the block element has a padding or a border,
   that's fine, but otherwise
   the bottom margin of the block and of its last child would collapse
   and both <wpt> elements would overlap, being both placed there.
   To avoid that, add 1px of padding to the <wpt> element annotating the last child
   to prevent the bottom margin of the block and of its last child from collapsing
   (and as much negative margin,
   as wel only want to prevent margin collapsing,
   but are not trying to actually take more space).
*/
.wpt-tests-block:not([open]):last-child {
    padding-bottom: 1px;
    margin-bottom: -1px;
}
/*
   Exception to the previous rule:
   don't do that in non-last list items,
   because it's not necessary,
   and would therefore consume more space than strictly needed.
   Lists must have list items as children, not <wpt> elements,
   so a <wpt> element cannot be a sibling of a list item,
   and the collision that the previous rule avoids cannot happen.
*/
li:not(:last-child) > .wpt-tests-block:not([open]):last-child,
dd:not(:last-child) > .wpt-tests-block:not([open]):last-child {
    padding-bottom: 0;
    margin-bottom: 0;
}
.wpt-tests-block:not([open]):not(:hover){
    opacity: 0.5;
}
.wpt-tests-list {
    list-style: none;
    display: grid;
    margin: 0;
    padding: 0;
    grid-template-columns: 1fr max-content auto auto;
    grid-column-gap: .5em;
}
.wpt-tests-block hr:last-child {
    display: none;
}
.wpt-test {
    display: contents;
}
.wpt-test > a {
    text-decoration: underline;
    border: none;
}
.wpt-test > .wpt-name { grid-column: 1; }
.wpt-test > .wpt-results { grid-column: 2; }
.wpt-test > .wpt-live { grid-column: 3; }
.wpt-test > .wpt-source { grid-column: 4; }

.wpt-test > .wpt-results {
    display: flex;
    gap: .1em;
}
.wpt-test .wpt-result {
    display: inline-block;
    height: 1em;
    width: 1em;
    border-radius: 50%;
    position: relative;
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2021/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">Fenced Frame</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types#CG-DRAFT">Draft Community Group Report</a>, <time class="dt-updated" datetime="2024-08-29">29 August 2024</time></p>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://wicg.github.io/fenced-frame/">https://wicg.github.io/fenced-frame/</a>
     <dt class="editor">Editor:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-url url" href="https://domfarolino.com">Dominic Farolino</a> (<a class="p-org org" href="https://www.google.com/">Google</a>) <a class="u-email email" href="mailto:domfarolino@gmail.com">domfarolino@gmail.com</a>
     <dt>Participate:
     <dd><a href="https://github.com/WICG/fenced-frame">GitHub WICG/fenced-frame</a> (<a href="https://github.com/WICG/fenced-frame/issues/new">new issue</a>, <a href="https://github.com/WICG/fenced-frame/issues?state=open">open issues</a>)
     <dt>Commits:
     <dd><a href="https://github.com/WICG/fenced-frame/commits/master/spec.bs">GitHub spec.bs commits</a>
     <dt>Test Suite:
     <dd class="wpt-overview"><a href="https://wpt.fyi/results/fenced-frame/">https://wpt.fyi/results/fenced-frame/</a>
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> © 2024 the Contributors to the Fenced Frame Specification, published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a> under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>.
A human-readable <a href="http://www.w3.org/community/about/agreements/cla-deed/">summary</a> is available. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>The fenced frame enforces a boundary between the embedding page and the cross-site embedded document such that user data visible to the two sites is not able to be joined together.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> This specification was published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a>.
  It is not a W3C Standard nor is it on the W3C Standards Track.

  Please note that under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a> there is a limited opt-out and other conditions apply.

  Learn more about <a href="http://www.w3.org/community/">W3C Community and Business Groups</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#introduction"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li>
     <a href="#the-fencedframe-element"><span class="secno">2</span> <span class="content">The <span><code>fencedframe</code></span> element</span></a>
     <ol class="toc">
      <li><a href="#dimension-attributes"><span class="secno">2.1</span> <span class="content">Dimension attributes</span></a>
      <li><a href="#fenced-frame-config-map"><span class="secno">2.2</span> <span class="content">Fenced frame config mapping</span></a>
      <li>
       <a href="#fenced-frame-config-section"><span class="secno">2.3</span> <span class="content">Fenced frame configs</span></a>
       <ol class="toc">
        <li><a href="#fenced-frame-config-intro"><span class="secno">2.3.1</span> <span class="content">Introduction</span></a>
        <li><a href="#fenced-frame-config-use-cases"><span class="secno">2.3.2</span> <span class="content">Use cases</span></a>
        <li><a href="#fenced-frame-config-struct"><span class="secno">2.3.3</span> <span class="content">The <span>fenced frame config</span> <span>struct</span></span></a>
        <li><a href="#fenced-frame-config-instance-struct"><span class="secno">2.3.4</span> <span class="content">The <span>fenced frame config instance</span> <span>struct</span></span></a>
        <li><a href="#fenced-frame-config-interface"><span class="secno">2.3.5</span> <span class="content">The <code class="idl"><span>FencedFrameConfig</span></code> interface</span></a>
       </ol>
      <li><a href="#fence-interface"><span class="secno">2.4</span> <span class="content">The <code class="idl"><span>Fence</span></code> interface</span></a>
      <li><a href="#new-request-destination"><span class="secno">2.5</span> <span class="content">New <span>request</span> <span>destination</span></span></a>
      <li><a href="#automatic-reporting"><span class="secno">2.6</span> <span class="content">Automatic Reporting</span></a>
     </ol>
    <li>
     <a href="#html-integration"><span class="secno">3</span> <span class="content">HTML Integration</span></a>
     <ol class="toc">
      <li><a href="#window-extension"><span class="secno">3.1</span> <span class="content">Extensions to the <code class="idl"><span>Window</span></code> interface</span></a>
      <li><a href="#document-extension"><span class="secno">3.2</span> <span class="content"><code class="idl"><span>Document</span></code> supporting concepts</span></a>
      <li><a href="#creating-browsing-contexts-patch"><span class="secno">3.3</span> <span class="content">Modifications to creating browsing contexts</span></a>
      <li><a href="#local-scheme-policy-container-inheritance"><span class="secno">3.4</span> <span class="content">Policy container inheritance</span></a>
      <li>
       <a href="#nested-traversables"><span class="secno">3.5</span> <span class="content">Nested traversables</span></a>
       <ol class="toc">
        <li><a href="#nested-traversables-intro"><span class="secno">3.5.1</span> <span class="content">Introduction</span></a>
        <li><a href="#traversable-navigables"><span class="secno">3.5.2</span> <span class="content">Traversable navigables</span></a>
        <li><a href="#nested-traversables-inner"><span class="secno">3.5.3</span> <span class="content">Nested traversables</span></a>
        <li><a href="#top-level-traversables"><span class="secno">3.5.4</span> <span class="content">Top-level traversables</span></a>
       </ol>
      <li><a href="#navigable-traversing-algorithms"><span class="secno">3.6</span> <span class="content">Modifications to navigable-traversing algorithms</span></a>
      <li><a href="#focusing-changes"><span class="secno">3.7</span> <span class="content">Modifications to the focusing algorithms</span></a>
      <li>
       <a href="#navigation-patch"><span class="secno">3.8</span> <span class="content">Navigation</span></a>
       <ol class="toc">
        <li><a href="#supports-loading-mode"><span class="secno">3.8.1</span> <span class="content">The `<span><code>Supports-Loading-Mode</code></span>` HTTP response header</span></a>
        <li><a href="#allow-automatic-beacons"><span class="secno">3.8.2</span> <span class="content">The
`<span><code>Allow-Fenced-Frame-Automatic-Beacons</code></span>` HTTP response header</span></a>
        <li><a href="#allow-cross-origin-reporting"><span class="secno">3.8.3</span> <span class="content">The
`<span><code>Allow-Cross-Origin-Event-Reporting</code></span>` HTTP response header</span></a>
        <li><a href="#coop-coep"><span class="secno">3.8.4</span> <span class="content">COOP, COEP, and cross-origin isolation</span></a>
        <li><a href="#navigation-changes"><span class="secno">3.8.5</span> <span class="content">Actual navigation changes</span></a>
        <li><a href="#bcg-swap"><span class="secno">3.8.6</span> <span class="content">Browsing context group swap</span></a>
       </ol>
      <li><a href="#page-visibility"><span class="secno">3.9</span> <span class="content">Page visibility</span></a>
     </ol>
    <li>
     <a href="#interaction-with-other-specs"><span class="secno">4</span> <span class="content">Interactions with other specifications</span></a>
     <ol class="toc">
      <li><a href="#prerendering-monkeypatch"><span class="secno">4.1</span> <span class="content">Prerendering</span></a>
      <li>
       <a href="#csp-integration"><span class="secno">4.2</span> <span class="content">Content Security Policy</span></a>
       <ol class="toc">
        <li><a href="#csp-algorithms"><span class="secno">4.2.1</span> <span class="content">Algorithms</span></a>
        <li><a href="#new-csp-directive"><span class="secno">4.2.2</span> <span class="content">New fenced-frame-src <span title="Content Security Policy Level 3">[CSP]</span> <span>directive</span></span></a>
       </ol>
      <li>
       <a href="#permissions-policy-changes"><span class="secno">4.3</span> <span class="content">Permissions Policies</span></a>
       <ol class="toc">
        <li><a href="#permissions-policy-patches"><span class="secno">4.3.1</span> <span class="content">Algorithm patches</span></a>
       </ol>
      <li><a href="#cssom-monkeypatch"><span class="secno">4.4</span> <span class="content">CSSOM View</span></a>
     </ol>
    <li><a href="#security-and-privacy"><span class="secno">5</span> <span class="content">Security &amp; Privacy Considerations</span></a>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
<script async src="https://resources.whatwg.org/file-issue.js"></script>
   <h2 class="heading settled" data-level="1" id="introduction"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#introduction"></a></h2>
   <p><em>This section is non-normative.</em></p>
   <p>In a web that has its cookies and storage partitioned by top-frame site, there are occasions — such
as interest group based advertising as provided by the <a data-link-type="biblio" href="#biblio-protected-audience" title="Protected Audience API">[Protected-Audience]</a> API, or <a href="https://github.com/w3c/web-advertising/blob/main/support_for_advertising_use_cases.md#conversion-lift-measurement">Conversion
Lift
Measurements</a>)
— when it would be useful to display content from different partitions in the same page. This can
only be done in a privacy-preserving way if the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document">Document</a></code>s that contain data from different
partitions are isolated from each other, unable to communicate despite being re visually composed on
the same page. <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" id="ref-for-the-iframe-element">iframe</a></code> elements are not suitable for this, since they offer many intentional
communication channels with their embedder. This specification introduces the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe">fencedframe</a></code> element, a new element to embed <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①">Document</a></code>s on a page that explicitly prevents communication
between the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②">Document</a></code> and its embedder.</p>
   <p>This specification defines the new element, its integration with the rest of the web platform,
including <a href="#html-integration">§ 3 HTML Integration</a> and <a href="#interaction-with-other-specs">§ 4 Interactions with other specifications</a>, and its supporting primitives
like <code class="idl"><a data-link-type="idl" href="#fencedframeconfig" id="ref-for-fencedframeconfig">FencedFrameConfig</a></code>, which is the major input to the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe①">fencedframe</a></code> in place of normal <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url">URLs</a> and "<code>src</code>" attributes. Given that this specification defines a new element and its
integration with the rest of the platform, it should be read as largely a monkeypatch to the <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>, with its end goal to be merged into that standard, provided there is adequate
cross-browser support.</p>
   <h2 class="heading settled" data-level="2" id="the-fencedframe-element"><span class="secno">2. </span><span class="content">The <dfn class="dfn-paneled" data-dfn-type="element" data-export id="elementdef-fencedframe"><code>fencedframe</code></dfn> element</span><a class="self-link" href="#the-fencedframe-element"></a></h2>
   <dl class="element">
    <dt><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-element-categories" id="ref-for-concept-element-categories">Categories</a>:
    <dd><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#flow-content-2" id="ref-for-flow-content-2">Flow content</a>.
    <dd><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#phrasing-content-2" id="ref-for-phrasing-content-2">Phrasing content</a>.
    <dd><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#embedded-content-category" id="ref-for-embedded-content-category">Embedded content</a>.
    <dd><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#interactive-content-2" id="ref-for-interactive-content-2">Interactive content</a>.
    <dd><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#palpable-content-2" id="ref-for-palpable-content-2">Palpable content</a>.
    <dt><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-element-contexts" id="ref-for-concept-element-contexts">Contexts in which this element can be used</a>:
    <dd>Where <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#embedded-content-category" id="ref-for-embedded-content-category①">embedded content</a> is expected.
    <dt><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-element-content-model" id="ref-for-concept-element-content-model">Content model</a>:
    <dd><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-content-nothing" id="ref-for-concept-content-nothing">Nothing</a>.
    <dt><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-element-attributes" id="ref-for-concept-element-attributes">Content attributes</a>:
    <dd><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#global-attributes" id="ref-for-global-attributes">Global attributes</a>
    <dd><code><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedder-content-other.html#attr-dim-width" id="ref-for-attr-dim-width">width</a></code> — Horizontal dimension
    <dd><code><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedder-content-other.html#attr-dim-height" id="ref-for-attr-dim-height">height</a></code> — Vertical dimension
    <dd><code><code><a data-link-type="element-sub" href="#element-attrdef-fencedframe-allow" id="ref-for-element-attrdef-fencedframe-allow">allow</a></code></code> — <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#permissions-policy" id="ref-for-permissions-policy">Permissions policy</a> to be applied to the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe②">fencedframe</a></code>'s contents
    <dt><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-element-accessibility-considerations" id="ref-for-concept-element-accessibility-considerations">Accessibility considerations</a>:
    <dd>
     <p class="XXX">TODO</p>
    <dt><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-element-dom" id="ref-for-concept-element-dom">DOM interface</a>:
    <dd>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="idl-code" data-dfn-type="interface" data-export id="htmlfencedframeelement"><code><c- g>HTMLFencedFrameElement</c-></code><a class="self-link" href="#htmlfencedframeelement"></a></dfn> : <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/dom.html#htmlelement" id="ref-for-htmlelement"><c- n>HTMLElement</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/dom.html#htmlconstructor" id="ref-for-htmlconstructor"><c- g>HTMLConstructor</c-></a>] <dfn class="idl-code" data-dfn-for="HTMLFencedFrameElement" data-dfn-type="constructor" data-export data-lt="HTMLFencedFrameElement()|constructor()" id="dom-htmlfencedframeelement-htmlfencedframeelement"><code><c- g>constructor</c-></code><a class="self-link" href="#dom-htmlfencedframeelement-htmlfencedframeelement"></a></dfn>();

  [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="ref-for-cereactions"><c- g>CEReactions</c-></a>] <c- b>attribute</c-> <a data-link-type="idl-name" href="#fencedframeconfig" id="ref-for-fencedframeconfig①"><c- n>FencedFrameConfig</c-></a>? <a class="idl-code" data-link-type="attribute" data-type="FencedFrameConfig?" href="#dom-htmlfencedframeelement-config" id="ref-for-dom-htmlfencedframeelement-config"><c- g>config</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="ref-for-cereactions①"><c- g>CEReactions</c-></a>] <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="DOMString" href="#dom-htmlfencedframeelement-width" id="ref-for-dom-htmlfencedframeelement-width"><c- g>width</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="ref-for-cereactions②"><c- g>CEReactions</c-></a>] <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="DOMString" href="#dom-htmlfencedframeelement-height" id="ref-for-dom-htmlfencedframeelement-height"><c- g>height</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject" id="ref-for-SameObject"><c- g>SameObject</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#PutForwards" id="ref-for-PutForwards"><c- g>PutForwards</c-></a>=<a class="idl-code" data-link-type="attribute" href="https://dom.spec.whatwg.org/#dom-domtokenlist-value" id="ref-for-dom-domtokenlist-value"><c- n>value</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#domtokenlist" id="ref-for-domtokenlist"><c- n>DOMTokenList</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMTokenList" href="#dom-htmlfencedframeelement-sandbox" id="ref-for-dom-htmlfencedframeelement-sandbox"><c- g>sandbox</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="ref-for-cereactions③"><c- g>CEReactions</c-></a>] <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="DOMString" href="#dom-htmlfencedframeelement-allow" id="ref-for-dom-htmlfencedframeelement-allow"><c- g>allow</c-></a>;
};
</pre>
   </dl>
   <p>The <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe③">fencedframe</a></code> element <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#represents" id="ref-for-represents">represents</a> its <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable">fenced navigable</a>.</p>
   <p>Descendants of <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe④">fencedframe</a></code> elements represent nothing.</p>
   <p>Each <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑤">fencedframe</a></code> has a <dfn class="dfn-paneled" data-dfn-for="fencedframe" data-dfn-type="dfn" data-noexport id="fencedframe-config">config</dfn>, which is either a <code class="idl"><a data-link-type="idl" href="#fencedframeconfig" id="ref-for-fencedframeconfig②">FencedFrameConfig</a></code> or null. It is initially null.</p>
   <p>Each <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑥">fencedframe</a></code> has a <dfn class="dfn-paneled" data-dfn-for="fencedframe" data-dfn-type="dfn" data-noexport id="fencedframe-fencedframe-sandboxing-flag-set">fencedframe sandboxing flag set</dfn>, which is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#sandboxing-flag-set" id="ref-for-sandboxing-flag-set">sandboxing flag set</a>. Which flags in a <a data-link-type="dfn" href="#fencedframe-fencedframe-sandboxing-flag-set" id="ref-for-fencedframe-fencedframe-sandboxing-flag-set">fencedframe sandboxing flag set</a> are set
at any particular time is determined by the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑦">fencedframe</a></code> element’s <code><a data-link-type="element-sub" href="#element-attrdef-fencedframe-sandbox" id="ref-for-element-attrdef-fencedframe-sandbox">sandbox</a></code> attribute.</p>
   <div class="algorithm" data-algorithm="determine-sandbox-flags-patch">
     Modify the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#determining-the-creation-sandboxing-flags" id="ref-for-determining-the-creation-sandboxing-flags">determine the creation sandboxing flags</a> algorithm. Rewrite the second step in the
  union to be the following 2 steps: 
    <ul>
     <li data-md>
      <p>If <var>embedder</var> is an <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" id="ref-for-the-iframe-element①">iframe</a></code> element, then: the flags set on <var>embedder</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#iframe-sandboxing-flag-set" id="ref-for-iframe-sandboxing-flag-set">iframe sandboxing
flag set</a>.</p>
     <li data-md>
      <p>If <var>embedder</var> is a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑧">fencedframe</a></code> element, then: the flags set on <var>embedder</var>’s <a data-link-type="dfn" href="#fencedframe-fencedframe-sandboxing-flag-set" id="ref-for-fencedframe-fencedframe-sandboxing-flag-set①"> fencedframe sandboxing flag set</a>.</p>
    </ul>
   </div>
   <div class="algorithm" data-algorithm="insertion">
     When a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑨">fencedframe</a></code> element <var>element</var> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#insert-an-element-into-a-document" id="ref-for-insert-an-element-into-a-document">inserted into a
  document</a> whose <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#concept-document-bc" id="ref-for-concept-document-bc">browsing context</a> is non-null, run these steps: 
    <ol>
     <li data-md>
      <p>Let <var>nested traversable</var> be the result of <a data-link-type="dfn" href="#create-a-new-nested-traversable" id="ref-for-create-a-new-nested-traversable">creating a new
 nested traversable</a> for <var>element</var>.</p>
     <li data-md>
      <p>Set <var>nested traversable</var>’s <a data-link-type="dfn" href="https://wicg.github.io/nav-speculation/prerendering.html#navigable-loading-mode" id="ref-for-navigable-loading-mode">loading mode</a> to "<code>fencedframe</code>".</p>
     <li data-md>
      <p>If <var>element</var> has a <code><a data-link-type="element-sub" href="#element-attrdef-fencedframe-sandbox" id="ref-for-element-attrdef-fencedframe-sandbox①">sandbox</a></code> attribute, then <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#parse-a-sandboxing-directive" id="ref-for-parse-a-sandboxing-directive">parse a sandboxing directive</a> given the attribute’s value and <var>element</var>’s <a data-link-type="dfn" href="#fencedframe-fencedframe-sandboxing-flag-set" id="ref-for-fencedframe-fencedframe-sandboxing-flag-set②">fencedframe sandboxing flag set</a>.</p>
    </ol>
    <p class="issue" id="issue-8e3b9846"><a class="self-link" href="#issue-8e3b9846"></a> It’s not necessary to call the <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#url-and-history-update-steps">URL
  and history update steps</a> as we do during usual <a href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element:url-and-history-update-steps">child
  navigable creation</a> or <a href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#apis-for-creating-and-navigating-browsing-contexts-by-name:url-and-history-update-steps">top-level
  traversable creation</a>, but we still need a mechanism to initialize <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#history-3" id="ref-for-history-3">History</a></code>.<code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-history-length" id="ref-for-dom-history-length">length</a></code> in the new navigable. This is an existing issue in the HTML
  Standard: <a href="https://github.com/whatwg/html/issues/9030">https://github.com/whatwg/html/issues/9030</a>.</p>
   </div>
   <div class="algorithm" data-algorithm="destroy">
     When a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe①⓪">fencedframe</a></code> element is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#remove-an-element-from-a-document" id="ref-for-remove-an-element-from-a-document">removed from a document</a>, the user agent 
    <p class="XXX">TODO:
  destroy the nested traversable</p>
    . 
   </div>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="HTMLFencedFrameElement" data-dfn-type="attribute" data-export id="dom-htmlfencedframeelement-config"><code>config</code></dfn> IDL attribute getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this">this</a>'s <a data-link-type="dfn" href="#fencedframe-config" id="ref-for-fencedframe-config">config</a>.</p>
   <div class="algorithm" data-algorithm="config-setter">
     The <code class="idl"><a data-link-type="idl" href="#dom-htmlfencedframeelement-config" id="ref-for-dom-htmlfencedframeelement-config①">config</a></code> IDL attribute setter steps are: 
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①">this</a> is not <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#connected" id="ref-for-connected">connected</a>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert">Assert</a>: <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②">this</a>'s <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable①">fenced navigable</a> is null.</p>
        <p class="note" role="note"><span class="marker">Note:</span> This holds because when the element has been removed from the DOM, its removal steps
 immediately destroy the <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable②">fenced navigable</a>.</p>
      </ol>
     <li data-md>
      <p>Let <var>navigation url or urn</var> be the given <code class="idl"><a data-link-type="idl" href="#fencedframeconfig" id="ref-for-fencedframeconfig③">FencedFrameConfig</a></code>'s <a data-link-type="dfn" href="#fencedframeconfig-url" id="ref-for-fencedframeconfig-url">url</a> if
 the given <code class="idl"><a data-link-type="idl" href="#fencedframeconfig" id="ref-for-fencedframeconfig④">FencedFrameConfig</a></code>'s <a data-link-type="dfn" href="#fencedframeconfig-url" id="ref-for-fencedframeconfig-url①">url</a> is not null, and the given <code class="idl"><a data-link-type="idl" href="#fencedframeconfig" id="ref-for-fencedframeconfig⑤">FencedFrameConfig</a></code>'s <a data-link-type="dfn" href="#fencedframeconfig-urn" id="ref-for-fencedframeconfig-urn">urn</a> otherwise.</p>
     <li data-md>
      <p>If <var>navigation url or urn</var> is failure, then return.</p>
     <li data-md>
      <p>Let <var>shared storage context</var> be the given <code class="idl"><a data-link-type="idl" href="#fencedframeconfig" id="ref-for-fencedframeconfig⑥">FencedFrameConfig</a></code>'s <a data-link-type="dfn" href="#fencedframeconfig-sharedstoragecontext" id="ref-for-fencedframeconfig-sharedstoragecontext"> sharedStorageContext</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate">Navigate</a> <var>element</var>’s <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable③">fenced navigable</a> to <var>navigation url or urn</var> using <var>element</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-document" id="ref-for-concept-node-document">node document</a>, with <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-hh" id="ref-for-navigation-hh">historyHandling</a> set
 to "<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#hh-replace" id="ref-for-hh-replace"><code>replace</code></a>", <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-referrer-policy" id="ref-for-navigation-referrer-policy">referrerPolicy</a> set to <a data-link-type="dfn" href="https://w3c.github.io/webappsec-referrer-policy/#referrer-policy-no-referrer" id="ref-for-referrer-policy-no-referrer">"<code>no-referrer</code>"</a>, and <var>shared storage context</var>.</p>
      <p class="note" role="note"><span class="marker">Note:</span> See <a href="#navigation-changes">§ 3.8.5 Actual navigation changes</a> for the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe①①">fencedframe</a></code>-specific changes to the ordinary
 navigation flow.</p>
    </ol>
    <details class="wpt-tests-block" dir="ltr" lang="en" open>
     <summary>Tests</summary>
     <ul class="wpt-tests-list">
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/header-referrer.https.html" title="fenced-frame/header-referrer.https.html">header-referrer.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/header-referrer.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/header-referrer.https.html"><small>(source)</small></a>
     </ul>
    </details>
   </div>
   <p>The <dfn class="dfn-paneled" data-dfn-for="fencedframe" data-dfn-type="element-attr" data-export id="element-attrdef-fencedframe-allow"><code>allow</code></dfn> attribute, when specified, determines the <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#container-policy" id="ref-for-container-policy">container policy</a> that will be used when the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-document-permissions-policy" id="ref-for-concept-document-permissions-policy">permissions policy</a> for a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document③">Document</a></code> in the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe①②">fencedframe</a></code>'s <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable④">fenced navigable</a> is initialized. Its value
must be a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#serialized-permissions-policy" id="ref-for-serialized-permissions-policy">serialized permissions policy</a>. <a data-link-type="biblio" href="#biblio-permissions-policy" title="Permissions Policy">[PERMISSIONS-POLICY]</a></p>
   <p>The <dfn class="dfn-paneled" data-dfn-for="fencedframe" data-dfn-type="element-attr" data-export id="element-attrdef-fencedframe-sandbox"><code>sandbox</code></dfn> attribute, when specified, enables a set of
extra restrictions on any content hosted by the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe①③">fencedframe</a></code>. Its value must be an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#unordered-set-of-unique-space-separated-tokens" id="ref-for-unordered-set-of-unique-space-separated-tokens">unordered
set of unique space-separated tokens</a> that are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ascii-case-insensitive" id="ref-for-ascii-case-insensitive">ASCII case-insensitive</a>. The allowed values are:</p>
   <ul>
    <li data-md>
     <p><code><a data-link-type="attr-value" href="https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-downloads" id="ref-for-attr-iframe-sandbox-allow-downloads">allow-downloads</a></code></p>
    <li data-md>
     <p><code><a data-link-type="attr-value" href="https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-forms" id="ref-for-attr-iframe-sandbox-allow-forms">allow-forms</a></code></p>
    <li data-md>
     <p><code><a data-link-type="attr-value" href="https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-modals" id="ref-for-attr-iframe-sandbox-allow-modals">allow-modals</a></code></p>
    <li data-md>
     <p><code><a data-link-type="attr-value" href="https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-orientation-lock" id="ref-for-attr-iframe-sandbox-allow-orientation-lock">allow-orientation-lock</a></code></p>
    <li data-md>
     <p><code><a data-link-type="attr-value" href="https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-pointer-lock" id="ref-for-attr-iframe-sandbox-allow-pointer-lock">allow-pointer-lock</a></code></p>
    <li data-md>
     <p><code><a data-link-type="attr-value" href="https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-popups" id="ref-for-attr-iframe-sandbox-allow-popups">allow-popups</a></code></p>
    <li data-md>
     <p><code><a data-link-type="attr-value" href="https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-popups-to-escape-sandbox" id="ref-for-attr-iframe-sandbox-allow-popups-to-escape-sandbox">allow-popups-to-escape-sandbox</a></code></p>
    <li data-md>
     <p><code><a data-link-type="attr-value" href="https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-presentation" id="ref-for-attr-iframe-sandbox-allow-presentation">allow-presentation</a></code></p>
    <li data-md>
     <p><code><a data-link-type="attr-value" href="https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-same-origin" id="ref-for-attr-iframe-sandbox-allow-same-origin">allow-same-origin</a></code></p>
    <li data-md>
     <p><code><a data-link-type="attr-value" href="https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-scripts" id="ref-for-attr-iframe-sandbox-allow-scripts">allow-scripts</a></code></p>
    <li data-md>
     <p><code><a data-link-type="attr-value" href="https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-top-navigation" id="ref-for-attr-iframe-sandbox-allow-top-navigation">allow-top-navigation</a></code></p>
    <li data-md>
     <p><code><a data-link-type="attr-value" href="https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-top-navigation-by-user-activation" id="ref-for-attr-iframe-sandbox-allow-top-navigation-by-user-activation">allow-top-navigation-by-user-activation</a></code></p>
    <li data-md>
     <p><code><a data-link-type="attr-value" href="https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-top-navigation-to-custom-protocols" id="ref-for-attr-iframe-sandbox-allow-top-navigation-to-custom-protocols">allow-top-navigation-to-custom-protocols</a></code></p>
   </ul>
   <p>The IDL attributes <dfn class="dfn-paneled idl-code" data-dfn-for="HTMLFencedFrameElement" data-dfn-type="attribute" data-export id="dom-htmlfencedframeelement-allow"><code>allow</code></dfn> and <dfn class="dfn-paneled idl-code" data-dfn-for="HTMLFencedFrameElement" data-dfn-type="attribute" data-export id="dom-htmlfencedframeelement-sandbox"><code>sandbox</code></dfn> must <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#reflect" id="ref-for-reflect">reflect</a> the respective content attribute of the
same name.</p>
   <p>The supported tokens for <code class="idl"><a data-link-type="idl" href="#dom-htmlfencedframeelement-sandbox" id="ref-for-dom-htmlfencedframeelement-sandbox①">sandbox</a></code>'s <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#domtokenlist" id="ref-for-domtokenlist①">DOMTokenList</a></code> are the allowed
values defined in the <code><a data-link-type="element-sub" href="#element-attrdef-fencedframe-sandbox" id="ref-for-element-attrdef-fencedframe-sandbox②">sandbox</a></code> attribute and supported by the user agent.</p>
   <div class="algorithm" data-algorithm="fencedframe-attribute-change">
     The following <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-element-attributes-change-ext" id="ref-for-concept-element-attributes-change-ext">attribute change steps</a>, given <var>element</var>, <var>localName</var>, <var>oldValue</var>, <var>value</var>, and <var>namespace</var> are used for all <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe①④">fencedframe</a></code> elements: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①">Assert</a>: <var>namespace</var> is the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#html-namespace" id="ref-for-html-namespace">HTML namespace</a>.</p>
     <li data-md>
      <p>If <var>localName</var> is <code><a data-link-type="element-sub" href="#element-attrdef-fencedframe-sandbox" id="ref-for-element-attrdef-fencedframe-sandbox③">sandbox</a></code>, then:</p>
      <ol>
       <li data-md>
        <p>If <var>value</var> is null, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-empty" id="ref-for-list-empty">empty</a> <var>element</var>’s <a data-link-type="dfn" href="#fencedframe-fencedframe-sandboxing-flag-set" id="ref-for-fencedframe-fencedframe-sandboxing-flag-set③">fencedframe sandboxing flag
  set</a>.</p>
       <li data-md>
        <p>Otherwise, run <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#parse-a-sandboxing-directive" id="ref-for-parse-a-sandboxing-directive①">parse a sandboxing directive</a> given the <var>value</var> and <var>element</var>’s <a data-link-type="dfn" href="#fencedframe-fencedframe-sandboxing-flag-set" id="ref-for-fencedframe-fencedframe-sandboxing-flag-set④">fencedframe sandboxing flag set</a>.</p>
      </ol>
    </ol>
   </div>
   <h3 class="heading settled" data-level="2.1" id="dimension-attributes"><span class="secno">2.1. </span><span class="content">Dimension attributes</span><a class="self-link" href="#dimension-attributes"></a></h3>
   <p>This section details monkeypatches to <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>'s <a href="https://html.spec.whatwg.org/multipage/embedded-content-other.html#dimension-attributes">Dimension
attributes</a> section. That section will be updated to include <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe①⑤">fencedframe</a></code> in the list of
elements whose own <dfn data-dfn-for="fencedframe" data-dfn-type="element-attr" data-export id="element-attrdef-fencedframe-width"><code>width</code><a class="self-link" href="#element-attrdef-fencedframe-width"></a></dfn> and <dfn data-dfn-for="fencedframe" data-dfn-type="element-attr" data-export id="element-attrdef-fencedframe-height"><code>height</code><a class="self-link" href="#element-attrdef-fencedframe-height"></a></dfn> dimension attributes have the same author requirements that apply to
the general <code><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedder-content-other.html#attr-dim-width" id="ref-for-attr-dim-width①">width</a></code> and <code><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/embedder-content-other.html#attr-dim-height" id="ref-for-attr-dim-height①">height</a></code> dimension attributes defined in <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>.</p>
   <p>Furthermore, the IDL attributes <dfn class="dfn-paneled idl-code" data-dfn-for="HTMLFencedFrameElement" data-dfn-type="attribute" data-export id="dom-htmlfencedframeelement-width"><code>width</code></dfn> and <dfn class="dfn-paneled idl-code" data-dfn-for="HTMLFencedFrameElement" data-dfn-type="attribute" data-export id="dom-htmlfencedframeelement-height"><code>height</code></dfn> must <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#reflect" id="ref-for-reflect①">reflect</a> the respective content attributes
of the same name.</p>
   <h3 class="heading settled" data-level="2.2" id="fenced-frame-config-map"><span class="secno">2.2. </span><span class="content">Fenced frame config mapping</span><a class="self-link" href="#fenced-frame-config-map"></a></h3>
   <p>Each <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable">traversable navigable</a> has a <dfn class="dfn-paneled" data-dfn-for="traversable navigable" data-dfn-type="dfn" data-export data-lt="fenced frame config mapping" id="traversable-navigable-fenced-frame-config-mapping">fenced frame config
mapping</dfn>, which is a <a data-link-type="dfn" href="#fenced-frame-config-mapping" id="ref-for-fenced-frame-config-mapping">fenced frame config mapping</a>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> This mapping is consulted during <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate①">navigation</a>, and written to by what we
colloquially refer to as <em>URN-generating APIs</em> or <em>config-generating APIs</em>, that generate both <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#urn-uuid" id="ref-for-urn-uuid">urn
uuids</a> and <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config">fenced frame configs</a> for use in navigating <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe①⑥">fencedframe</a></code> and <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" id="ref-for-the-iframe-element②">iframe</a></code> elements.
See for example, the <a data-link-type="biblio" href="#biblio-protected-audience" title="Protected Audience API">[Protected-Audience]</a> API and <a data-link-type="biblio" href="#biblio-shared-storage" title="Shared Storage API">[Shared-Storage]</a> specifications.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="fenced-frame-config-mapping">fenced frame config mapping</dfn> has three submappings:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config mapping" data-dfn-type="dfn" data-noexport id="fenced-frame-config-mapping-pending-config-mapping">pending config mapping</dfn>
    <dd data-md>
     <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map">map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys">keys</a> are <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#urn-uuid" id="ref-for-urn-uuid①">urn uuids</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values">values</a> are <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config①">fenced frame
 configs</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config mapping" data-dfn-type="dfn" data-noexport id="fenced-frame-config-mapping-finalized-config-mapping">finalized config mapping</dfn>
    <dd data-md>
     <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①">map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①">keys</a> are <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#urn-uuid" id="ref-for-urn-uuid②">urn uuids</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①">values</a> are <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config②">fenced frame
 configs</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config mapping" data-dfn-type="dfn" data-noexport id="fenced-frame-config-mapping-nested-config-mapping">nested config mapping</dfn>
    <dd data-md>
     <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map②">map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys②">keys</a> are <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#urn-uuid" id="ref-for-urn-uuid③">urn uuids</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values②">values</a> are <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config③">fenced frame
 configs</a></p>
   </dl>
   <p class="note" role="note"><span class="marker">Note:</span> The purpose of pending configs is to enable config-generating APIs to resolve configs
asynchronously in a way that doesn’t create timing side channels, i.e., the pending config is
returned to the web platform in a constant amount of time, before any computation whose duration
depends on cross-site data. Because the privacy of this depends on the web platform not being able
to discern when a pending config is finalized, it is important that all visibilities and values of
transparent fields do not change from the pending config to the finalized config, given that they
can be inspected through <code class="idl"><a data-link-type="idl" href="#fencedframeconfig" id="ref-for-fencedframeconfig⑦">FencedFrameConfig</a></code>'s getters. Therefore, a <code class="idl"><a data-link-type="idl" href="#fencedframeconfig" id="ref-for-fencedframeconfig⑧">FencedFrameConfig</a></code> that is
created and exposed to the web platform is effectively immutable even if the <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config④">fenced frame config</a> represented by the <a data-link-type="dfn" href="#fencedframe-config" id="ref-for-fencedframe-config①">config</a>'s <a data-link-type="dfn" href="#fencedframeconfig-urn" id="ref-for-fencedframeconfig-urn①">urn</a> is technically "pending", and
will finish resolving completely later.</p>
   <p>Each <a data-link-type="dfn" href="#fenced-frame-config-mapping" id="ref-for-fenced-frame-config-mapping①">fenced frame config mapping</a> has a <dfn class="dfn-paneled" data-dfn-for="fenced frame config mapping" data-dfn-type="dfn" data-lt="maximum number of configs" data-noexport id="fenced-frame-config-mapping-maximum-number-of-configs">maximum number of
configs</dfn>, which is implementation-defined. The <a data-link-type="dfn" href="#fenced-frame-config-mapping-maximum-number-of-configs" id="ref-for-fenced-frame-config-mapping-maximum-number-of-configs">maximum number of
configs</a> may be a non-negative number or infinity.</p>
   <p class="note" role="note"><span class="marker">Note:</span> It is important to specify the behavior of <a data-link-type="dfn" href="#fenced-frame-config-mapping-maximum-number-of-configs" id="ref-for-fenced-frame-config-mapping-maximum-number-of-configs①">maximum number of configs</a> because its semantics can interact with
config-generating APIs in a privacy sensitive way.</p>
   <p>At a high level, in order to store a <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config⑤">fenced frame config</a> in the <a data-link-type="dfn" href="#traversable-navigable-fenced-frame-config-mapping" id="ref-for-traversable-navigable-fenced-frame-config-mapping">fenced frame config mapping</a>, the creator of the config must first store a
pending config, and then turn the pending config into a finalized config. Those procedures are as
follows:</p>
   <div class="algorithm" data-algorithm="store a pending config" data-algorithm-for="fenced frame config mapping">
     To <dfn data-dfn-for="fenced frame config mapping" data-dfn-type="dfn" data-export id="fenced-frame-config-mapping-store-a-pending-config">store a pending config<a class="self-link" href="#fenced-frame-config-mapping-store-a-pending-config"></a></dfn> in a <a data-link-type="dfn" href="#fenced-frame-config-mapping" id="ref-for-fenced-frame-config-mapping②">fenced frame
  config mapping</a> <var>mapping</var> given a <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config⑥">fenced frame config</a> <var>config</var>, run these steps: 
    <ol>
     <li data-md>
      <p>Let <var>pendingMapping</var> be <var>mapping</var>’s <a data-link-type="dfn" href="#fenced-frame-config-mapping-pending-config-mapping" id="ref-for-fenced-frame-config-mapping-pending-config-mapping">pending config mapping</a>.</p>
     <li data-md>
      <p>If the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-size" id="ref-for-map-size">size</a> of <var>pendingMapping</var> + the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-size" id="ref-for-map-size①">size</a> of <var>mapping</var>’s <a data-link-type="dfn" href="#fenced-frame-config-mapping-finalized-config-mapping" id="ref-for-fenced-frame-config-mapping-finalized-config-mapping">finalized config mapping</a> ≥ <var>mapping</var>’s <a data-link-type="dfn" href="#fenced-frame-config-mapping-maximum-number-of-configs" id="ref-for-fenced-frame-config-mapping-maximum-number-of-configs②">maximum number
 of configs</a>, return failure.</p>
     <li data-md>
      <p>Let <var>urn</var> be a randomly generated <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#urn-uuid" id="ref-for-urn-uuid④">urn uuid</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert②">Assert</a>: <var>urn</var> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists">exist</a> in <var>pendingMapping</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set">Set</a> <var>pendingMapping</var>[<var>urn</var>] to <var>config</var>.</p>
     <li data-md>
      <p>Return <var>urn</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="finalize a pending config" data-algorithm-for="fenced frame config mapping">
     To <dfn data-dfn-for="fenced frame config mapping" data-dfn-type="dfn" data-export id="fenced-frame-config-mapping-finalize-a-pending-config">finalize a pending config<a class="self-link" href="#fenced-frame-config-mapping-finalize-a-pending-config"></a></dfn> in a <a data-link-type="dfn" href="#fenced-frame-config-mapping" id="ref-for-fenced-frame-config-mapping③">fenced
  frame config mapping</a> <var>mapping</var> given a <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#urn-uuid" id="ref-for-urn-uuid⑤">urn uuid</a> <var>urn</var> and <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config⑦">fenced frame config</a> <var>config</var>, run these steps: 
    <ol>
     <li data-md>
      <p>Let <var>pendingMapping</var> be <var>mapping</var>’s <a data-link-type="dfn" href="#fenced-frame-config-mapping-pending-config-mapping" id="ref-for-fenced-frame-config-mapping-pending-config-mapping①">pending config mapping</a>.</p>
     <li data-md>
      <p>Let <var>finalizedMapping</var> be <var>mapping</var>’s <a data-link-type="dfn" href="#fenced-frame-config-mapping-finalized-config-mapping" id="ref-for-fenced-frame-config-mapping-finalized-config-mapping①">finalized config mapping</a>.</p>
     <li data-md>
      <p>If <var>pendingMapping</var>[<var>urn</var>] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists①">exist</a>, return failure.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-remove" id="ref-for-map-remove">Remove</a> <var>pendingMapping</var>[<var>urn</var>].</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set①">Set</a> <var>finalizedMapping</var>[<var>urn</var>] to <var>config</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="store nested configs" data-algorithm-for="fenced frame config mapping">
     To <dfn data-dfn-for="fenced frame config mapping" data-dfn-type="dfn" data-export id="fenced-frame-config-mapping-store-nested-configs">store nested configs<a class="self-link" href="#fenced-frame-config-mapping-store-nested-configs"></a></dfn> in a <a data-link-type="dfn" href="#fenced-frame-config-mapping" id="ref-for-fenced-frame-config-mapping④">fenced frame
  config mapping</a> <var>mapping</var> given a <a data-link-type="dfn" href="#fenced-frame-config-instance-nested-configs" id="ref-for-fenced-frame-config-instance-nested-configs">nested configs</a> <var>nestedConfigs</var>, run these steps: 
    <ol>
     <li data-md>
      <p>Let <var>nestedMapping</var> be <var>mapping</var>’s <a data-link-type="dfn" href="#fenced-frame-config-mapping-nested-config-mapping" id="ref-for-fenced-frame-config-mapping-nested-config-mapping">nested config mapping</a>.</p>
     <li data-md>
      <p>If <var>nestedConfigs</var> is null, return.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate">For each</a> <var>urn</var> → <var>config</var> of <var>nestedConfigs</var>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set②">Set</a> <var>nestedMapping</var>[<var>urn</var>] to <var>config</var>.</p>
       <li data-md>
        <p>Set <var>nestedMapping</var>[<var>urn</var>]'s <a data-link-type="dfn" href="#fenced-frame-config-is-ad-component" id="ref-for-fenced-frame-config-is-ad-component">is ad component</a> to true.</p>
      </ol>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="find a config" data-algorithm-for="fenced frame config mapping">
     To <dfn class="dfn-paneled" data-dfn-for="fenced frame config mapping" data-dfn-type="dfn" data-export id="fenced-frame-config-mapping-find-a-config">find a config</dfn> in a <a data-link-type="dfn" href="#fenced-frame-config-mapping" id="ref-for-fenced-frame-config-mapping⑤">fenced frame config
  mapping</a> <var>mapping</var> given a <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#urn-uuid" id="ref-for-urn-uuid⑥">urn uuid</a> <var>urn</var>, run these steps: 
    <ol>
     <li data-md>
      <p>Let <var>nestedMapping</var> be <var>mapping</var>’s <a data-link-type="dfn" href="#fenced-frame-config-mapping-nested-config-mapping" id="ref-for-fenced-frame-config-mapping-nested-config-mapping①">nested config mapping</a>.</p>
     <li data-md>
      <p>Let <var>pendingMapping</var> be <var>mapping</var>’s <a data-link-type="dfn" href="#fenced-frame-config-mapping-pending-config-mapping" id="ref-for-fenced-frame-config-mapping-pending-config-mapping②">pending config mapping</a>.</p>
     <li data-md>
      <p>Let <var>finalizedMapping</var> be <var>mapping</var>’s <a data-link-type="dfn" href="#fenced-frame-config-mapping-finalized-config-mapping" id="ref-for-fenced-frame-config-mapping-finalized-config-mapping②">finalized config mapping</a>.</p>
     <li data-md>
      <p>If <var>nestedMapping</var>[<var>urn</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists②">exists</a>, return its value.</p>
     <li data-md>
      <p>If <var>pendingMapping</var>[<var>urn</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists③">exists</a>, wait until it does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists④">exist</a>.</p>
     <li data-md>
      <p>If <var>finalizedMapping</var>[<var>urn</var>] <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑤">exists</a>, return its value.</p>
     <li data-md>
      <p>Return failure.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="2.3" id="fenced-frame-config-section"><span class="secno">2.3. </span><span class="content">Fenced frame configs</span><a class="self-link" href="#fenced-frame-config-section"></a></h3>
   <h4 class="heading settled" data-level="2.3.1" id="fenced-frame-config-intro"><span class="secno">2.3.1. </span><span class="content">Introduction</span><a class="self-link" href="#fenced-frame-config-intro"></a></h4>
   <p><em>This section is non-normative.</em></p>
   <p>A key feature of the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe①⑦">fencedframe</a></code> element is that web platform APIs can configure the behavior
of the frame in a way that limits the ability of other execution contexts to modify or inspect this
configuration, for security and privacy reasons. For example, the <a data-link-type="biblio" href="#biblio-protected-audience" title="Protected Audience API">[Protected-Audience]</a> API
performs on-device ad auctions over cross-site data, and it is important that the ad that wins the
auction can be loaded into a frame, without the API caller knowing <em>which ad</em> won the auction or
being able to manipulate the environment in which the ad loads.</p>
   <p>We achieve this using the concept of a "<a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config⑧">fenced frame config</a>". A <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config⑨">fenced frame config</a> is a
collection of fields that can be loaded into <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe①⑧">fencedframe</a></code> elements and that specifies the
resulting environments. <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config①⓪">Fenced frame configs</a> can only be created by specific web platform APIs,
and not constructed or modified by script. Their fields also contain "<a data-link-type="dfn" href="https://www.w3.org/TR/CSS22/visufx.html#propdef-visibility" id="ref-for-propdef-visibility">visibilities</a>", which
dictate whether the field should be "redacted" when inspected through the <code class="idl"><a data-link-type="idl" href="#fencedframeconfig" id="ref-for-fencedframeconfig⑨">FencedFrameConfig</a></code> interface. Config-generating APIs like the <a data-link-type="biblio" href="#biblio-protected-audience" title="Protected Audience API">[Protected-Audience]</a> and <a data-link-type="biblio" href="#biblio-shared-storage" title="Shared Storage API">[Shared-Storage]</a> APIs must
specify values for all fields of their <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config①①">fenced frame configs</a> in order to ensure that they have
considered the privacy implications of each field, though they may choose to set the values to null.</p>
   <p>Each time a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe①⑨">fencedframe</a></code> navigates to a <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config①②">fenced frame config</a>, it is instantiated as a new <a data-link-type="dfn" href="#fenced-frame-config-instance" id="ref-for-fenced-frame-config-instance">fenced frame config instance</a>, which governs the particular <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context-group" id="ref-for-browsing-context-group">browsing context group</a> inside the <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable⑤">fenced navigable</a>.</p>
   <h4 class="heading settled" data-level="2.3.2" id="fenced-frame-config-use-cases"><span class="secno">2.3.2. </span><span class="content">Use cases</span><a class="self-link" href="#fenced-frame-config-use-cases"></a></h4>
   <p>Rendering an ad created through an ad auction:</p>
   <p>An ad auction API runs an auction and determines a winning ad. Details about the winning ad must be
hidden from the embedder, and the embedding context is not allowed to influence the environment of
the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe②⓪">fencedframe</a></code>. Either of those would allow for information to flow across the fenced frame
boundary, which can allow for colluding parties to join cross-site data and build a profile on the
user. To prevent that, the ad auction API <a data-link-type="dfn" href="https://wicg.github.io/turtledove/#construct-a-pending-fenced-frame-config" id="ref-for-construct-a-pending-fenced-frame-config">constructs</a> a <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config①③">fenced frame config</a> whose underlying <a data-link-type="dfn" href="#fenced-frame-config-mapped-url" id="ref-for-fenced-frame-config-mapped-url">URL</a> is opaque to the
embedding context. The <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config①④">fenced frame config</a> is also constructed with restrictions on what the <a data-link-type="dfn" href="#fenced-frame-config-container-size" id="ref-for-fenced-frame-config-container-size">container size</a> and <a data-link-type="dfn" href="#fenced-frame-config-content-size" id="ref-for-fenced-frame-config-content-size">content size</a> of the frame must be
and what the <a data-link-type="dfn" href="#fenced-frame-config-effective-enabled-permissions" id="ref-for-fenced-frame-config-effective-enabled-permissions">permissions policy</a> of the frame
must be, as those can be used as fingerprinting vectors.</p>
   <p>Displaying a personalized payment button:</p>
   <p>An e-commerce site embeds a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe②①">fencedframe</a></code> that has a "Pay now" button. The e-commerce site stores
information about the user’s credit card on the browser as first-party storage. At first, the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document④">Document</a></code> hosted in the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe②②">fencedframe</a></code> has no first-party cookie/storage access, so information
can freely flow in and out without risk of the credit card information being joined with cross-site
data. Because of that, the fenced frame can be constructed directly from the web platform using the <code class="idl"><a data-link-type="idl" href="#fencedframeconfig" id="ref-for-fencedframeconfig①⓪">FencedFrameConfig</a></code> constructor without compromising privacy. The button at this point has no
personalized data in it since it can’t access the credit card data yet. The <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑤">Document</a></code> can only
read that credit card data once it turns off all network access, preventing the data from flowing
out of the fenced frame and preventing it from being joined with cross-site data to build a user
profile. Once it does that, the button will then display the last 4 digits of the user’s credit card
number, as it is saved in the browser, inside the first-party storage partition for the ecommerce
platform’s origin.</p>
   <h4 class="heading settled" data-level="2.3.3" id="fenced-frame-config-struct"><span class="secno">2.3.3. </span><span class="content">The <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config①⑤">fenced frame config</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct">struct</a></span><a class="self-link" href="#fenced-frame-config-struct"></a></h4>
   <p>We now establish some preliminary types:</p>
   <p>A <dfn class="dfn-paneled" data-dfn-for="fencedframeconfig" data-dfn-type="dfn" data-export id="fencedframeconfig-visibility">visibility</dfn> is either "<dfn class="dfn-paneled" data-dfn-for="visibility" data-dfn-type="dfn" data-export id="visibility-opaque"><code>opaque</code></dfn>" or "<dfn data-dfn-for="visibility" data-dfn-type="dfn" data-export id="visibility-transparent"><code>transparent</code><a class="self-link" href="#visibility-transparent"></a></dfn>".</p>
   <p>A <dfn class="dfn-paneled" data-dfn-for="fencedframetype" data-dfn-type="dfn" data-export id="fencedframetype-size">size</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item">items</a>:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="size" data-dfn-type="dfn" data-export id="size-width">width</dfn>
    <dd data-md>
     <p>a non-negative integer</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="size" data-dfn-type="dfn" data-export id="size-height">height</dfn>
    <dd data-md>
     <p>a non-negative integer</p>
   </dl>
   <p><span class="XXX">TODO: Consider different numeric types for these members.</span></p>
   <p>An <dfn class="dfn-paneled" data-dfn-for="fencedframetype" data-dfn-type="dfn" data-export id="fencedframetype-interest-group-descriptor">interest group descriptor</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct②">struct</a> with the
following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①">items</a>:</p>
   <dl>
    <dt data-md><dfn data-dfn-for="interest group descriptor" data-dfn-type="dfn" data-export id="interest-group-descriptor-owner">owner<a class="self-link" href="#interest-group-descriptor-owner"></a></dfn>
    <dd data-md>
     <p>an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin">origin</a></p>
    <dt data-md><dfn data-dfn-for="interest group descriptor" data-dfn-type="dfn" data-export id="interest-group-descriptor-name">name<a class="self-link" href="#interest-group-descriptor-name"></a></dfn>
    <dd data-md>
     <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string">string</a></p>
   </dl>
   <p>A <dfn class="dfn-paneled" data-dfn-for="fencedframetype" data-dfn-type="dfn" data-export id="fencedframetype-pending-event">pending event</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct③">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item②">items</a>:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="pending event" data-dfn-type="dfn" data-export id="pending-event-destination">destination</dfn>
    <dd data-md>
     <p>a <code class="idl"><a data-link-type="idl" href="#enumdef-fencereportingdestination" id="ref-for-enumdef-fencereportingdestination">FenceReportingDestination</a></code></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="pending event" data-dfn-type="dfn" data-export id="pending-event-event">event</dfn>
    <dd data-md>
     <p>a <a data-link-type="dfn" href="#fencedframetype-destination-event" id="ref-for-fencedframetype-destination-event">destination event</a></p>
   </dl>
   <p>A <dfn class="dfn-paneled" data-dfn-for="fencedframetype" data-dfn-type="dfn" data-export id="fencedframetype-reporting-destination-info">reporting destination info</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct④">struct</a> with the
following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item③">items</a>:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="reporting destination info" data-dfn-type="dfn" data-export id="reporting-destination-info-reporting-url-map">reporting url map</dfn>
    <dd data-md>
     <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map③">map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys③">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values③">values</a> are <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①">URLs</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="reporting destination info" data-dfn-type="dfn" data-export id="reporting-destination-info-reporting-macro-map">reporting macro map</dfn>
    <dd data-md>
     <p>null, or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map④">map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys④">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values④">values</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string③">strings</a></p>
   </dl>
   <p>A <dfn class="dfn-paneled" data-dfn-for="fencedframetype" data-dfn-type="dfn" data-export id="fencedframetype-fenced-frame-reporting-map">fenced frame reporting map</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑤">map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys⑤">keys</a> are <code class="idl"><a data-link-type="idl" href="#enumdef-fencereportingdestination" id="ref-for-enumdef-fencereportingdestination①">FenceReportingDestination</a></code>s and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values⑤">values</a> are either:</p>
   <ul>
    <li data-md>
     <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list">lists</a> of <a data-link-type="dfn" href="#fencedframetype-pending-event" id="ref-for-fencedframetype-pending-event">pending events</a> (which are used to represent events that need to
 be reported asynchronously, because the metadata has not been finalized yet); or</p>
    <li data-md>
     <p><a data-link-type="dfn" href="#fencedframetype-reporting-destination-info" id="ref-for-fencedframetype-reporting-destination-info">reporting destination infos</a> (which are used
 to represent the actual metadata once it is finalized).</p>
   </ul>
   <p class="note" role="note"><span class="marker">Note:</span> This representation is meant to allow config-generating APIs to reduce latency by resolving
the values of reporting destinations asynchronously, after they’ve already constructed and returned
the fenced frame config (and even after the config has been loaded, and event reports have been
generated inside the fenced frame). When the config-generating API declares the <a data-link-type="dfn" href="#fencedframetype-fenced-frame-reporting-map" id="ref-for-fencedframetype-fenced-frame-reporting-map"> fenced frame reporting map</a>, they can mark certain destinations as pending using an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①">list</a>, and then maintain a reference to the map for later. If the fenced frame attempts to <a data-link-type="dfn" href="#report-an-event" id="ref-for-report-an-event">report an event</a> to a destination while it is still pending, it stores the event in this <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list②">list</a> for later handling. When the config-generating API or its callback eventually <a data-link-type="dfn" href="#finalize-a-reporting-destination" id="ref-for-finalize-a-reporting-destination">finalizes
a reporting destination</a> through the reference it kept, it will handle all of the pending events
stored in the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list③">list</a>. If the destination is never finalized, then the pending events will never
be sent.</p>
   <div class="algorithm" data-algorithm="finalize a reporting destination">
     In order to <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="finalize-a-reporting-destination">finalize a reporting destination</dfn>, given a <a data-link-type="dfn" href="#fencedframetype-fenced-frame-reporting-map" id="ref-for-fencedframetype-fenced-frame-reporting-map①">fenced
  frame reporting map</a> <var>reporting map</var>, a <code class="idl"><a data-link-type="idl" href="#enumdef-fencereportingdestination" id="ref-for-enumdef-fencereportingdestination②">FenceReportingDestination</a></code> <var>destination</var>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑥">map</a> <var>destination map</var> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys⑥">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string④">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values⑥">values</a> are <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url②">urls</a>, and <var>macro map</var>, which is either null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑦">map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys⑦">keys</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑤">strings</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values⑦">values</a> are <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑥">strings</a>, run these steps: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert③">Assert</a> that <var>reporting map</var>[<var>destination</var>] is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list④">list</a> (i.e., that <var>destination</var>’s
 metadata has not yet been finalized).</p>
     <li data-md>
      <p>Let <var>pending event list</var> be <var>reporting map</var>[<var>destination</var>].</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set③">Set</a> <var>reporting map</var>[<var>destination</var>] to a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑤">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item④">items</a>:</p>
      <dl>
       <dt data-md><a data-link-type="dfn" href="#reporting-destination-info-reporting-url-map" id="ref-for-reporting-destination-info-reporting-url-map">reporting url map</a>
       <dd data-md>
        <p><var>destination map</var></p>
       <dt data-md><a data-link-type="dfn" href="#reporting-destination-info-reporting-macro-map" id="ref-for-reporting-destination-info-reporting-macro-map">reporting macro map</a>
       <dd data-md>
        <p><var>macro map</var></p>
      </dl>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate">For each</a> <var>pending event</var> of <var>pending event list</var>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="#send-a-beacon" id="ref-for-send-a-beacon">Send a beacon</a> with <var>destination map</var> and <var>pending event</var>’s <a data-link-type="dfn" href="#pending-event-event" id="ref-for-pending-event-event">event</a>.</p>
      </ol>
    </ol>
   </div>
   <p>A <dfn class="dfn-paneled" data-dfn-for="fencedframetype" data-dfn-type="dfn" data-export id="fencedframetype-fenced-frame-reporting-metadata">fenced frame reporting metadata</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑥">struct</a> with the
following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item⑤">items</a>:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame reporting metadata" data-dfn-type="dfn" data-export id="fenced-frame-reporting-metadata-fenced-frame-reporting-map">fenced frame reporting map</dfn>
    <dd data-md>
     <p>a <a data-link-type="dfn" href="#fencedframetype-fenced-frame-reporting-map" id="ref-for-fencedframetype-fenced-frame-reporting-map②">fenced frame reporting map</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame reporting metadata" data-dfn-type="dfn" data-export id="fenced-frame-reporting-metadata-direct-seller-is-seller">direct seller is seller</dfn>
    <dd data-md>
     <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean">boolean</a>, initially true</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame reporting metadata" data-dfn-type="dfn" data-export id="fenced-frame-reporting-metadata-allowed-reporting-origins">allowed reporting origins</dfn>
    <dd data-md>
     <p>null or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑤">list</a> of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①">origins</a>. An origin must be present in this list to be the
 destination of a <a data-link-type="dfn" href="#fencedframetype-destination-url-event" id="ref-for-fencedframetype-destination-url-event">destination URL event</a> report.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame reporting metadata" data-dfn-type="dfn" data-export id="fenced-frame-reporting-metadata-attempted-custom-url-report-to-disallowed-origin">attempted custom url report to disallowed origin</dfn>
    <dd data-md>
     <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean①">boolean</a>, initially false</p>
   </dl>
   <p>An <dfn class="dfn-paneled" data-dfn-for="fencedframetype" data-dfn-type="dfn" data-export id="fencedframetype-automatic-beacon-event-type">automatic beacon event type</dfn> is either "<dfn class="dfn-paneled" data-dfn-for="automatic beacon event type" data-dfn-type="dfn" data-noexport id="automatic-beacon-event-type-reservedtop_navigation_start"><code>reserved.top_navigation_start</code></dfn>", "<dfn class="dfn-paneled" data-dfn-for="automatic beacon event type" data-dfn-type="dfn" data-noexport id="automatic-beacon-event-type-reservedtop_navigation_commit"><code>reserved.top_navigation_commit</code></dfn>", or "<dfn class="dfn-paneled" data-dfn-for="automatic beacon event type" data-dfn-type="dfn" data-noexport id="automatic-beacon-event-type-reservedtop_navigation"><code>reserved.top_navigation</code></dfn>".</p>
   <p><strong class="advisement"> <code><a data-link-type="dfn" href="#automatic-beacon-event-type-reservedtop_navigation" id="ref-for-automatic-beacon-event-type-reservedtop_navigation">reserved.top_navigation</a></code> is an earlier
naming of <code><a data-link-type="dfn" href="#automatic-beacon-event-type-reservedtop_navigation_commit" id="ref-for-automatic-beacon-event-type-reservedtop_navigation_commit">reserved.top_navigation_commit</a></code>. While they
both do the same thing, <code><a data-link-type="dfn" href="#automatic-beacon-event-type-reservedtop_navigation" id="ref-for-automatic-beacon-event-type-reservedtop_navigation①">reserved.top_navigation</a></code> will be
removed in the future and should not be used for new code.</strong></p>
   <p>A <dfn class="dfn-paneled" data-dfn-for="fencedframetype" data-dfn-type="dfn" data-export id="fencedframetype-fenced-frame-reporter">fenced frame reporter</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑦">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item⑥">items</a>:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame reporter" data-dfn-type="dfn" data-export id="fenced-frame-reporter-fenced-frame-reporting-metadata-reference">fenced frame reporting metadata reference</dfn>
    <dd data-md>
     <p>a mutable reference to a <a data-link-type="dfn" href="#fencedframetype-fenced-frame-reporting-metadata" id="ref-for-fencedframetype-fenced-frame-reporting-metadata">fenced frame reporting metadata</a> <span class="XXX">TODO: Handle pointers/references in a more spec-y way</span></p>
   </dl>
   <p>A <dfn class="dfn-paneled" data-dfn-for="fencedframetype" data-dfn-type="dfn" data-noexport id="fencedframetype-destination-enum-event">destination enum event</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑧">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item⑦">items</a>:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="destination enum event" data-dfn-type="dfn" data-noexport id="destination-enum-event-type">type</dfn>
    <dd data-md>
     <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑦">string</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="destination enum event" data-dfn-type="dfn" data-noexport id="destination-enum-event-data">data</dfn>
    <dd data-md>
     <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑧">string</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="destination enum event" data-dfn-type="dfn" data-noexport id="destination-enum-event-attributionreportingenabled">attributionReportingEnabled</dfn>
    <dd data-md>
     <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean②">boolean</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="destination enum event" data-dfn-type="dfn" data-noexport id="destination-enum-event-attributionreportingcontextorigin">attributionReportingContextOrigin</dfn>
    <dd data-md>
     <p>an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin②">origin</a></p>
   </dl>
   <p>A <dfn class="dfn-paneled" data-dfn-for="fencedframetype" data-dfn-type="dfn" data-noexport id="fencedframetype-destination-url-event">destination URL event</dfn> is a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url③">URL</a>.</p>
   <p>An <dfn class="dfn-paneled" data-dfn-for="fencedframetype" data-dfn-type="dfn" data-noexport id="fencedframetype-automatic-beacon-event">automatic beacon event</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct⑨">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item⑧">items</a>:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="automatic beacon event" data-dfn-type="dfn" data-noexport id="automatic-beacon-event-type">type</dfn>
    <dd data-md>
     <p>an <a data-link-type="dfn" href="#fencedframetype-automatic-beacon-event-type" id="ref-for-fencedframetype-automatic-beacon-event-type">automatic beacon event type</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="automatic beacon event" data-dfn-type="dfn" data-noexport id="automatic-beacon-event-data">data</dfn>
    <dd data-md>
     <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string⑨">string</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="automatic beacon event" data-dfn-type="dfn" data-noexport id="automatic-beacon-event-attributionreportingenabled">attributionReportingEnabled</dfn>
    <dd data-md>
     <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean③">boolean</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="automatic beacon event" data-dfn-type="dfn" data-noexport id="automatic-beacon-event-attributionreportingcontextorigin">attributionReportingContextOrigin</dfn>
    <dd data-md>
     <p>an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin③">origin</a></p>
   </dl>
   <p>A <dfn class="dfn-paneled" data-dfn-for="fencedframetype" data-dfn-type="dfn" data-noexport id="fencedframetype-destination-event">destination event</dfn> is either a <a data-link-type="dfn" href="#fencedframetype-destination-enum-event" id="ref-for-fencedframetype-destination-enum-event">destination enum event</a>, a <a data-link-type="dfn" href="#fencedframetype-destination-url-event" id="ref-for-fencedframetype-destination-url-event①">destination URL event</a>, or a <a data-link-type="dfn" href="#fencedframetype-automatic-beacon-event" id="ref-for-fencedframetype-automatic-beacon-event">automatic beacon event</a>.</p>
   <div class="algorithm" data-algorithm="send a beacon">
     In order to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="send-a-beacon">send a beacon</dfn> with a <a data-link-type="dfn" href="#fencedframetype-reporting-destination-info" id="ref-for-fencedframetype-reporting-destination-info①">reporting destination info</a> <var>destination info</var> and a <a data-link-type="dfn" href="#fencedframetype-destination-event" id="ref-for-fencedframetype-destination-event①">destination event</a> <var>event</var>, run these steps: 
    <ol>
     <li data-md>
      <p>Let <var>destination url</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⓪">string</a>.</p>
     <li data-md>
      <p>Let <var>attributionReportingEligibility</var> be "<code><a data-link-type="dfn" href="https://wicg.github.io/attribution-reporting-api/#eligibility-unset" id="ref-for-eligibility-unset">unset</a></code>".</p>
     <li data-md>
      <p>Let <var>processResponse</var> be null.</p>
     <li data-md>
      <p>Let <var>useParallelQueue</var> be false.</p>
     <li data-md>
      <p>If <var>event</var> is either a <a data-link-type="dfn" href="#fencedframetype-destination-enum-event" id="ref-for-fencedframetype-destination-enum-event①">destination enum event</a> or an <a data-link-type="dfn" href="#fencedframetype-automatic-beacon-event" id="ref-for-fencedframetype-automatic-beacon-event①">automatic beacon event</a>, then:</p>
      <ol>
       <li data-md>
        <p>Let <var>destination map</var> be <var>destination info</var>’s <a data-link-type="dfn" href="#reporting-destination-info-reporting-url-map" id="ref-for-reporting-destination-info-reporting-url-map①">reporting url map</a>.</p>
       <li data-md>
        <p>Let <var>eventType</var> be either <var>event</var>’s <a data-link-type="dfn" href="#destination-enum-event-type" id="ref-for-destination-enum-event-type">destination type</a>, or <a data-link-type="dfn" href="#automatic-beacon-event-type" id="ref-for-automatic-beacon-event-type">automatic type</a>, depending on which variant <var>event</var> is.</p>
       <li data-md>
        <p>If <var>destination map</var>[<var>eventType</var>] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑥">exist</a>, return.</p>
       <li data-md>
        <p>Set <var>destination url</var> to <var>destination map</var>[<var>eventType</var>].</p>
       <li data-md>
        <p>If <var>event</var>’s <a data-link-type="dfn" href="#destination-enum-event-attributionreportingenabled" id="ref-for-destination-enum-event-attributionreportingenabled">attributionReportingEnabled</a> is true
  and <var>event</var>’s <a data-link-type="dfn" href="#destination-enum-event-attributionreportingcontextorigin" id="ref-for-destination-enum-event-attributionreportingcontextorigin">attributionReportingContextOrigin</a> <a data-link-type="dfn" href="https://wicg.github.io/attribution-reporting-api/#check-if-an-origin-is-suitable" id="ref-for-check-if-an-origin-is-suitable">is suitable</a>:</p>
        <ol>
         <li data-md>
          <p>If <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fenceevent-eventtype" id="ref-for-dom-fenceevent-eventtype">eventType</a></code> matches one of the <a data-link-type="dfn" href="#fencedframetype-automatic-beacon-event-type" id="ref-for-fencedframetype-automatic-beacon-event-type①">automatic
 beacon event type</a> values, set <var>attributionReportingEligibility</var> to
 "<code><a data-link-type="dfn" href="https://wicg.github.io/attribution-reporting-api/#eligibility-navigation-source" id="ref-for-eligibility-navigation-source">navigation-source</a></code>".</p>
         <li data-md>
          <p>Otherwise, set <var>attributionReportingEligibility</var> to "<code><a data-link-type="dfn" href="https://wicg.github.io/attribution-reporting-api/#eligibility-event-source" id="ref-for-eligibility-event-source">event-source</a></code>".</p>
         <li data-md>
          <p>Set <var>processResponse</var> to these steps given a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response">response</a> <var>response</var>:</p>
          <ol>
           <li data-md>
            <p>Run <a data-link-type="dfn" href="https://wicg.github.io/attribution-reporting-api/#process-an-attribution-eligible-response" id="ref-for-process-an-attribution-eligible-response">process an attribution eligible response</a> with <var>event</var>’s <a data-link-type="dfn" href="#destination-enum-event-attributionreportingcontextorigin" id="ref-for-destination-enum-event-attributionreportingcontextorigin①">attributionReportingContextOrigin</a>, <var>attributionReportingEligibility</var>, and <var>response</var>.</p>
          </ol>
         <li data-md>
          <p>Set <var>useParallelQueue</var> to true.</p>
        </ol>
      </ol>
     <li data-md>
      <p>Otherwise:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert④">Assert</a>: <var>event</var> is a <a data-link-type="dfn" href="#fencedframetype-destination-url-event" id="ref-for-fencedframetype-destination-url-event②">destination URL event</a>.</p>
       <li data-md>
        <p>Let <var>macro map</var> be <var>destination info</var>’s <a data-link-type="dfn" href="#reporting-destination-info-reporting-macro-map" id="ref-for-reporting-destination-info-reporting-macro-map①">reporting macro map</a>.</p>
       <li data-md>
        <p>If <var>macro map</var> is null, return.</p>
       <li data-md>
        <p>Set <var>destination url</var> to <var>event</var>.</p>
       <li data-md>
        <p>Let <var>destination url</var> be the result of <a data-link-type="dfn" href="#fencedframeutil-substitute-macros" id="ref-for-fencedframeutil-substitute-macros">substituting macros</a> with <var>macro map</var> into <var>destination url</var>.</p>
      </ol>
     <li data-md>
      <p>Optionally, return.</p>
      <p class="note" role="note"><span class="marker">Note:</span> This <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined">implementation-defined</a> condition is intended to allow user agents to drop the
beacon for a number of reasons, for example user opt-out or <var>destination url</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#site" id="ref-for-site">site</a> not
being <a href="https://github.com/privacysandbox/attestation">enrolled</a>.</p>
     <li data-md>
      <p>Let <var>request</var> be a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request">request</a> with the following properties:</p>
      <dl>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-method" id="ref-for-concept-request-method">method</a>
       <dd data-md>
        <p><code><code>POST</code></code> if <var>event</var> is a <a data-link-type="dfn" href="#fencedframetype-destination-enum-event" id="ref-for-fencedframetype-destination-enum-event②">destination enum event</a>, otherwise <code><code>GET</code></code>.</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-url" id="ref-for-concept-request-url">URL</a>
       <dd data-md>
        <p><var>destination url</var></p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-header-list" id="ref-for-concept-request-header-list">header list</a>
       <dd data-md>
        <p>A new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list" id="ref-for-concept-header-list">header list</a> containing a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header" id="ref-for-concept-header">header</a> whose <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-name" id="ref-for-concept-header-name">name</a> is <code>"Content-Type"</code> and <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-value" id="ref-for-concept-header-value">value</a> is <code>"text/plain"</code>.</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-body" id="ref-for-concept-request-body">body</a>
       <dd data-md>
        <p>If <var>event</var> is a <a data-link-type="dfn" href="#fencedframetype-destination-enum-event" id="ref-for-fencedframetype-destination-enum-event③">destination enum event</a>, a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-body" id="ref-for-concept-body">body</a> whose <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-body-source" id="ref-for-concept-body-source">source</a> is <var>event</var>’s <a data-link-type="dfn" href="#destination-enum-event-data" id="ref-for-destination-enum-event-data">data</a>, otherwise null.</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-client" id="ref-for-concept-request-client">client</a>
       <dd data-md>
        <p>null</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#request-service-workers-mode" id="ref-for-request-service-workers-mode">service-workers mode</a>
       <dd data-md>
        <p><code>"all"</code></p>
        <p class="issue" id="issue-bc2a846a"><a class="self-link" href="#issue-bc2a846a"></a> The default is <code>"all"</code>, so we technically don’t have to set anything here. We do in order
 to remind ourselves that it might be more appropriate to skip service workers here, like some <a href="https://wicg.github.io/attribution-reporting-api/#ref-for-request-service-workers-mode">other
 beacons</a>.</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-origin" id="ref-for-concept-request-origin">origin</a>
       <dd data-md>
        <p><span class="XXX">Get the origin from somewhere, like the <a href="https://source.chromium.org/chromium/chromium/src/+/refs/heads/main:content/browser/fenced_frame/fenced_frame_reporter.cc;l=384;drc=183dd920ea5d6aed92e007c40e226f1f840c0567">implementation
 does</a></span>.</p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-referrer" id="ref-for-concept-request-referrer">referrer</a>
       <dd data-md>
        <p><code>"no-referrer"</code></p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-mode" id="ref-for-concept-request-mode">mode</a>
       <dd data-md>
        <p><code>"cors"</code></p>
       <dt data-md><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-credentials-mode" id="ref-for-concept-request-credentials-mode">credentials mode</a>
       <dd data-md>
        <p><code>"omit"</code></p>
       <dt data-md><a data-link-type="dfn" href="https://wicg.github.io/attribution-reporting-api/#request-attribution-reporting-eligibility" id="ref-for-request-attribution-reporting-eligibility">Attribution Reporting eligibility</a>
       <dd data-md>
        <p><var>attributionReportingEligibility</var></p>
      </dl>
     <li data-md>
      <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch">Fetch</a> <var>request</var> with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#process-response" id="ref-for-process-response">processResponse</a> being <var>processResponse</var> if it is not null
 and <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-useparallelqueue" id="ref-for-fetch-useparallelqueue">useParallelQueue</a> being <var>useParallelQueue</var>.</p>
      <p class="note" role="note"><span class="marker">Note:</span> This algorithm can be invoked from while <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel">in parallel</a> or while on a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑥">Document</a></code>'s main
thread. To handle the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①">in parallel</a> invocation correctly, we invoke <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch①">fetch</a> with <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#fetch-useparallelqueue" id="ref-for-fetch-useparallelqueue①">useParallelQueue</a> set to true when the <span class="allow-2119">optional</span> <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response①">response</a>-handling algorithm is used, otherwise there is no need to do this even when this
algorithm is running <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②">in parallel</a> in other instances.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="report an event">
     In order to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="report-an-event">report an event</dfn> using a <a data-link-type="dfn" href="#fencedframetype-fenced-frame-reporter" id="ref-for-fencedframetype-fenced-frame-reporter">fenced frame reporter</a> <var>reporter</var> with a <code class="idl"><a data-link-type="idl" href="#enumdef-fencereportingdestination" id="ref-for-enumdef-fencereportingdestination③">FenceReportingDestination</a></code> <var>destination</var>, and a <a data-link-type="dfn" href="#fencedframetype-destination-event" id="ref-for-fencedframetype-destination-event②">destination event</a> <var>event</var>, run these steps: 
    <ol>
     <li data-md>
      <p>Let <var>metadata</var> be <var>reporter</var>’s <a data-link-type="dfn" href="#fenced-frame-reporter-fenced-frame-reporting-metadata-reference" id="ref-for-fenced-frame-reporter-fenced-frame-reporting-metadata-reference">fenced frame reporting metadata reference</a>.</p>
     <li data-md>
      <p>If <var>destination</var> is <code>"direct-seller"</code>:</p>
      <ol>
       <li data-md>
        <p>If <var>metadata</var>’s <a data-link-type="dfn" href="#fenced-frame-reporting-metadata-direct-seller-is-seller" id="ref-for-fenced-frame-reporting-metadata-direct-seller-is-seller">direct seller is seller</a> is true, set <var>destination</var> to <code>"seller"</code>.</p>
       <li data-md>
        <p>Otherwise, set <var>destination</var> to <code>"component-seller"</code>.</p>
      </ol>
     <li data-md>
      <p>If <var>event</var> is a <a data-link-type="dfn" href="#fencedframetype-destination-url-event" id="ref-for-fencedframetype-destination-url-event③">destination URL event</a>:</p>
      <ol>
       <li data-md>
        <p>If <var>event</var>’s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin">origin</a> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin">same origin</a> with any of the entries in <var>metadata</var>’s <a data-link-type="dfn" href="#fenced-frame-reporting-metadata-allowed-reporting-origins" id="ref-for-fenced-frame-reporting-metadata-allowed-reporting-origins">allowed reporting origins</a>:</p>
        <ol>
         <li data-md>
          <p>Set <var>metadata</var>’s <a data-link-type="dfn" href="#fenced-frame-reporting-metadata-attempted-custom-url-report-to-disallowed-origin" id="ref-for-fenced-frame-reporting-metadata-attempted-custom-url-report-to-disallowed-origin">attempted custom url report to disallowed origin</a> to
 true.</p>
        </ol>
       <li data-md>
        <p>If <var>metadata</var>’s <a data-link-type="dfn" href="#fenced-frame-reporting-metadata-attempted-custom-url-report-to-disallowed-origin" id="ref-for-fenced-frame-reporting-metadata-attempted-custom-url-report-to-disallowed-origin①">attempted custom url report to disallowed origin</a> is
  true, return.</p>
      </ol>
     <li data-md>
      <p>Let <var>reporting map</var> be a reference to <var>metadata</var>’s <a data-link-type="dfn" href="#fenced-frame-reporting-metadata-fenced-frame-reporting-map" id="ref-for-fenced-frame-reporting-metadata-fenced-frame-reporting-map">fenced frame reporting map</a>.</p>
     <li data-md>
      <p>If <var>reporting map</var>[<var>destination</var>] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑦">exist</a>, return.</p>
     <li data-md>
      <p>If <var>reporting map</var>[<var>destination</var>] is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑥">list</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>newEvent</var> be a new <a data-link-type="dfn" href="#fencedframetype-pending-event" id="ref-for-fencedframetype-pending-event①">pending event</a> with the following:</p>
        <dl>
         <dt data-md><a data-link-type="dfn" href="#pending-event-destination" id="ref-for-pending-event-destination">destination</a>
         <dd data-md>
          <p><var>destination</var></p>
         <dt data-md><a data-link-type="dfn" href="#pending-event-event" id="ref-for-pending-event-event①">event</a>
         <dd data-md>
          <p><var>event</var></p>
        </dl>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append">Append</a> <var>newEvent</var> to <var>reporting map</var>[<var>destination</var>].</p>
       <li data-md>
        <p>Return.</p>
        <p class="note" role="note"><span class="marker">Note:</span> The pending event will be sent asynchronously.</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑤">Assert</a> that <var>reporting map</var>[<var>destination</var>] is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑧">map</a> (i.e., that <var>destination</var>’s
 metadata has been finalized).</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#send-a-beacon" id="ref-for-send-a-beacon①">Send a beacon</a> with <var>reporting map</var>[<var>destination</var>] and <var>event</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="report a private aggregation event">
     In order to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="report-a-private-aggregation-event">report a private aggregation event</dfn> using a <a data-link-type="dfn" href="#fencedframetype-fenced-frame-reporter" id="ref-for-fencedframetype-fenced-frame-reporter①">fenced frame
  reporter</a> <var>reporter</var> with a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①①">string</a> <var>event</var>, run these steps: 
    <ol>
     <li data-md>
      <p>If <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fenceevent-eventtype" id="ref-for-dom-fenceevent-eventtype①">eventType</a></code> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-starts-with" id="ref-for-string-starts-with">starts with</a> "<code>reserved.</code>", then return.</p>
     <li data-md>
      <p><var>reporter</var> <var>event</var> <span class="XXX">TODO: Fill this in</span></p>
    </ol>
   </div>
   <p>An <dfn class="dfn-paneled" data-dfn-for="fencedframetype" data-dfn-type="dfn" data-export id="fencedframetype-exfiltration-budget-metadata">exfiltration budget metadata</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①⓪">struct</a> with the
following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item⑨">items</a>:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="exfiltration budget metadata" data-dfn-type="dfn" data-export id="exfiltration-budget-metadata-origin">origin</dfn>
    <dd data-md>
     <p>an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin④">origin</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="exfiltration budget metadata" data-dfn-type="dfn" data-export id="exfiltration-budget-metadata-amount-to-debit">amount to debit</dfn>
    <dd data-md>
     <p>a non-negative valid floating point number</p>
   </dl>
   <p>An <dfn class="dfn-paneled" data-dfn-for="fencedframetype" data-dfn-type="dfn" data-export id="fencedframetype-exfiltration-budget-metadata-reference">exfiltration budget metadata reference</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①①">struct</a> with
the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①⓪">items</a>:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="exfiltration budget metadata reference" data-dfn-type="dfn" data-export id="exfiltration-budget-metadata-reference-origin">origin</dfn>
    <dd data-md>
     <p>an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin⑤">origin</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="exfiltration budget metadata reference" data-dfn-type="dfn" data-export id="exfiltration-budget-metadata-reference-amount-to-debit-reference">amount to debit reference</dfn>
    <dd data-md>
     <p>a mutable reference to a non-negative valid floating point number <span class="XXX">TODO: Handle pointers/references in a more specy-y way</span></p>
   </dl>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="partition-nonce">partition nonce</dfn> is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined①">implementation-defined</a> value.</p>
   <p class="note" role="note"><span class="marker">Note:</span> This is similar to the <a href="https://fetch.spec.whatwg.org/#network-partition-key">network
partition key</a> used by <a href="https://fetch.spec.whatwg.org/">Fetch</a>.</p>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="fenced-frame-config">fenced frame config</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①②">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①①">items</a>:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config" data-dfn-type="dfn" data-export id="fenced-frame-config-mapped-url">mapped url</dfn>
    <dd data-md>
     <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①③">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①②">items</a>:</p>
     <dl>
      <dt data-md><dfn class="dfn-paneled" data-dfn-for="mapped url" data-dfn-type="dfn" data-export id="mapped-url-value">value</dfn>
      <dd data-md>
       <p>a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url④">URL</a></p>
      <dt data-md><dfn data-dfn-for="mapped url" data-dfn-type="dfn" data-export id="mapped-url-visibility">visibility<a class="self-link" href="#mapped-url-visibility"></a></dfn>
      <dd data-md>
       <p>a <a data-link-type="dfn" href="#fencedframeconfig-visibility" id="ref-for-fencedframeconfig-visibility">visibility</a></p>
     </dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config" data-dfn-type="dfn" data-export id="fenced-frame-config-container-size">container size</dfn>
    <dd data-md>
     <p>null, or a <a data-link-type="dfn" href="#fencedframetype-size" id="ref-for-fencedframetype-size">size</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config" data-dfn-type="dfn" data-export id="fenced-frame-config-content-size">content size</dfn>
    <dd data-md>
     <p>null, or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①④">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①③">items</a>:</p>
     <dl>
      <dt data-md><dfn class="dfn-paneled" data-dfn-for="content size" data-dfn-type="dfn" data-export id="content-size-value">value</dfn>
      <dd data-md>
       <p>a <a data-link-type="dfn" href="#fencedframetype-size" id="ref-for-fencedframetype-size①">size</a></p>
      <dt data-md><dfn class="dfn-paneled" data-dfn-for="content size" data-dfn-type="dfn" data-export id="content-size-visibility">visibility</dfn>
      <dd data-md>
       <p>a <a data-link-type="dfn" href="#fencedframeconfig-visibility" id="ref-for-fencedframeconfig-visibility①">visibility</a></p>
     </dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config" data-dfn-type="dfn" data-export id="fenced-frame-config-interest-group-descriptor">interest group descriptor</dfn>
    <dd data-md>
     <p>null, or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①⑤">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①④">items</a>:</p>
     <dl>
      <dt data-md><dfn class="dfn-paneled" data-dfn-for="interest group descriptor" data-dfn-type="dfn" data-export id="interest-group-descriptor-value">value</dfn>
      <dd data-md>
       <p>an <a data-link-type="dfn" href="#fencedframetype-interest-group-descriptor" id="ref-for-fencedframetype-interest-group-descriptor">interest group descriptor</a></p>
      <dt data-md><dfn data-dfn-for="interest group descriptor" data-dfn-type="dfn" data-export id="interest-group-descriptor-visibility">visibility<a class="self-link" href="#interest-group-descriptor-visibility"></a></dfn>
      <dd data-md>
       <p>a <a data-link-type="dfn" href="#fencedframeconfig-visibility" id="ref-for-fencedframeconfig-visibility②">visibility</a></p>
     </dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config" data-dfn-type="dfn" data-export id="fenced-frame-config-on-navigate-callback">on navigate callback</dfn>
    <dd data-md>
     <p>null, or a series of steps</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config" data-dfn-type="dfn" data-export id="fenced-frame-config-effective-sandboxing-flags">effective sandboxing flags</dfn>
    <dd data-md>
     <p>null, or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①⑥">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①⑤">items</a>:</p>
     <dl>
      <dt data-md><dfn class="dfn-paneled" data-dfn-for="effective sandboxing flags" data-dfn-type="dfn" data-export id="effective-sandboxing-flags-value">value</dfn>
      <dd data-md>
       <p>a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#sandboxing-flag-set" id="ref-for-sandboxing-flag-set①">sandboxing flag set</a></p>
      <dt data-md><dfn data-dfn-for="effective sandboxing flags" data-dfn-type="dfn" data-export id="effective-sandboxing-flags-visibility">visibility<a class="self-link" href="#effective-sandboxing-flags-visibility"></a></dfn>
      <dd data-md>
       <p>a <a data-link-type="dfn" href="#fencedframeconfig-visibility" id="ref-for-fencedframeconfig-visibility③">visibility</a></p>
     </dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config" data-dfn-type="dfn" data-export id="fenced-frame-config-effective-enabled-permissions">effective enabled permissions</dfn>
    <dd data-md>
     <p>null, or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①⑦">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①⑥">items</a>:</p>
     <dl>
      <dt data-md><dfn class="dfn-paneled" data-dfn-for="effective enabled permissions" data-dfn-type="dfn" data-export id="effective-enabled-permissions-value">value</dfn>
      <dd data-md>
       <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑦">list</a> of <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature">policy-controlled features</a></p>
      <dt data-md><dfn data-dfn-for="effective enabled permissions" data-dfn-type="dfn" data-export id="effective-enabled-permissions-visibility">visibility<a class="self-link" href="#effective-enabled-permissions-visibility"></a></dfn>
      <dd data-md>
       <p>a <a data-link-type="dfn" href="#fencedframeconfig-visibility" id="ref-for-fencedframeconfig-visibility④">visibility</a></p>
     </dl>
     <p class="note" role="note"><span class="marker">Note:</span> When non-null, this is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑧">list</a> of <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature①">policy-controlled features</a> that the generator of
this config relies on exclusively being enabled inside the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe②③">fencedframe</a></code> that navigates to
this config. Specifically, each feature in this list <span class="allow-2119">must</span> be
enabled by the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe②④">fencedframe</a></code>'s <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable⑥">fenced navigable</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-document-permissions-policy" id="ref-for-concept-document-permissions-policy①">permissions policy</a>'s <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#permissions-policy-inherited-policy" id="ref-for-permissions-policy-inherited-policy">inherited policy</a> when navigating to
this config for the navigation to succeed. The features in this list are not force-enabled, but
rather are used to check that the embedder environment that influences the aforementioned <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#permissions-policy-inherited-policy" id="ref-for-permissions-policy-inherited-policy①">inherited policy</a> is relaxed enough to support these essential features.
If the <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#inherited-policy-for-a-feature" id="ref-for-inherited-policy-for-a-feature">inherited policy value</a> for any of these features is
"<code>Disabled</code>", the navigation to this config will fail. Any <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature②">policy-controlled feature</a> <em>not</em> in this list will not be "<code>Disabled</code>" in the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe②⑤">fencedframe</a></code> that navigates to this config.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config" data-dfn-type="dfn" data-export id="fenced-frame-config-fenced-frame-reporting-metadata">fenced frame reporting metadata</dfn>
    <dd data-md>
     <p>null, or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①⑧">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①⑦">items</a>:</p>
     <dl>
      <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame reporting metadata" data-dfn-type="dfn" data-export id="fenced-frame-reporting-metadata-value">value</dfn>
      <dd data-md>
       <p>a <a data-link-type="dfn" href="#fencedframetype-fenced-frame-reporting-metadata" id="ref-for-fencedframetype-fenced-frame-reporting-metadata①">fenced frame reporting metadata</a></p>
      <dt data-md><dfn data-dfn-for="fenced frame reporting metadata" data-dfn-type="dfn" data-export id="fenced-frame-reporting-metadata-visibility">visibility<a class="self-link" href="#fenced-frame-reporting-metadata-visibility"></a></dfn>
      <dd data-md>
       <p>a <a data-link-type="dfn" href="#fencedframeconfig-visibility" id="ref-for-fencedframeconfig-visibility⑤">visibility</a></p>
     </dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config" data-dfn-type="dfn" data-export id="fenced-frame-config-exfiltration-budget-metadata">exfiltration budget metadata</dfn>
    <dd data-md>
     <p>null, or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct①⑨">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①⑧">items</a>:</p>
     <dl>
      <dt data-md><dfn class="dfn-paneled" data-dfn-for="exfiltration budget metadata" data-dfn-type="dfn" data-export id="exfiltration-budget-metadata-value">value</dfn>
      <dd data-md>
       <p>an <a data-link-type="dfn" href="#fencedframetype-exfiltration-budget-metadata" id="ref-for-fencedframetype-exfiltration-budget-metadata">exfiltration budget metadata</a></p>
      <dt data-md><dfn data-dfn-for="exfiltration budget metadata" data-dfn-type="dfn" data-export id="exfiltration-budget-metadata-visibility">visibility<a class="self-link" href="#exfiltration-budget-metadata-visibility"></a></dfn>
      <dd data-md>
       <p>a <a data-link-type="dfn" href="#fencedframeconfig-visibility" id="ref-for-fencedframeconfig-visibility⑥">visibility</a></p>
     </dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config" data-dfn-type="dfn" data-export id="fenced-frame-config-nested-configs">nested configs</dfn>
    <dd data-md>
     <p>null, or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct②⓪">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item①⑨">items</a>:</p>
     <dl>
      <dt data-md><dfn class="dfn-paneled" data-dfn-for="nested configs" data-dfn-type="dfn" data-export id="nested-configs-value">value</dfn>
      <dd data-md>
       <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list⑨">list</a> of <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config①⑥">fenced frame configs</a></p>
      <dt data-md><dfn data-dfn-for="nested configs" data-dfn-type="dfn" data-export id="nested-configs-visibility">visibility<a class="self-link" href="#nested-configs-visibility"></a></dfn>
      <dd data-md>
       <p>a <a data-link-type="dfn" href="#fencedframeconfig-visibility" id="ref-for-fencedframeconfig-visibility⑦">visibility</a></p>
     </dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config" data-dfn-type="dfn" data-export id="fenced-frame-config-embedder-shared-storage-context">embedder shared storage context</dfn>
    <dd data-md>
     <p>null, or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①②">string</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config" data-dfn-type="dfn" data-export id="fenced-frame-config-is-ad-component">is ad component</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean④">boolean</a>, initially false.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config" data-dfn-type="dfn" data-export id="fenced-frame-config-cross-origin-reporting-allowed">cross-origin reporting allowed</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean⑤">boolean</a>, initially false.</p>
   </dl>
   <p class="note" role="note"><span class="marker">Note:</span> When true, this <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config①⑦">fenced frame config</a> represents an ad component. An ad component can be
  used to construct ads composed of multiple pieces. See the <a href="https://github.com/WICG/turtledove/blob/main/FLEDGE.md#34-ads-composed-of-multiple-pieces">Protected
  Audience explainer</a>. For an ad component, event reporting is handled differently. See the <a href="https://github.com/WICG/turtledove/blob/main/Fenced_Frames_Ads_Reporting.md#support-for-ad-components">Fenced
  Frame Ads Reporting explainer</a> that describes this.</p>
   <h4 class="heading settled" data-level="2.3.4" id="fenced-frame-config-instance-struct"><span class="secno">2.3.4. </span><span class="content">The <a data-link-type="dfn" href="#fenced-frame-config-instance" id="ref-for-fenced-frame-config-instance①">fenced frame config instance</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct②①">struct</a></span><a class="self-link" href="#fenced-frame-config-instance-struct"></a></h4>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="fenced-frame-config-instance">fenced frame config instance</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct②②">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item②⓪">items</a>:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config instance" data-dfn-type="dfn" data-export id="fenced-frame-config-instance-mapped-url">mapped url</dfn>
    <dd data-md>
     <p>a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑤">URL</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config instance" data-dfn-type="dfn" data-export id="fenced-frame-config-instance-container-size">container size</dfn>
    <dd data-md>
     <p>null, or a <a data-link-type="dfn" href="#fencedframetype-size" id="ref-for-fencedframetype-size②">size</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config instance" data-dfn-type="dfn" data-export id="fenced-frame-config-instance-content-size">content size</dfn>
    <dd data-md>
     <p>null, or a <a data-link-type="dfn" href="#fencedframetype-size" id="ref-for-fencedframetype-size③">size</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config instance" data-dfn-type="dfn" data-export id="fenced-frame-config-instance-interest-group-descriptor">interest group descriptor</dfn>
    <dd data-md>
     <p>null, or an <a data-link-type="dfn" href="#fencedframetype-interest-group-descriptor" id="ref-for-fencedframetype-interest-group-descriptor①">interest group descriptor</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config instance" data-dfn-type="dfn" data-export id="fenced-frame-config-instance-on-navigate-callback">on navigate callback</dfn>
    <dd data-md>
     <p>null, or a series of steps</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config instance" data-dfn-type="dfn" data-export id="fenced-frame-config-instance-effective-sandboxing-flags">effective sandboxing flags</dfn>
    <dd data-md>
     <p>null, or a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#sandboxing-flag-set" id="ref-for-sandboxing-flag-set②">sandboxing flag set</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config instance" data-dfn-type="dfn" data-export id="fenced-frame-config-instance-effective-enabled-permissions">effective enabled permissions</dfn>
    <dd data-md>
     <p>null, or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⓪">list</a> of <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature③">policy-controlled features</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config instance" data-dfn-type="dfn" data-export id="fenced-frame-config-instance-fenced-frame-reporter">fenced frame reporter</dfn>
    <dd data-md>
     <p>null, or a <a data-link-type="dfn" href="#fencedframetype-fenced-frame-reporter" id="ref-for-fencedframetype-fenced-frame-reporter②">fenced frame reporter</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config instance" data-dfn-type="dfn" data-export id="fenced-frame-config-instance-exfiltration-budget-metadata-reference">exfiltration budget metadata reference</dfn>
    <dd data-md>
     <p>null, or an <a data-link-type="dfn" href="#fencedframetype-exfiltration-budget-metadata-reference" id="ref-for-fencedframetype-exfiltration-budget-metadata-reference">exfiltration budget metadata reference</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config instance" data-dfn-type="dfn" data-export id="fenced-frame-config-instance-nested-configs">nested configs</dfn>
    <dd data-md>
     <p>null, or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map⑨">map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys⑧">keys</a> are <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#urn-uuid" id="ref-for-urn-uuid⑦">urn uuids</a> and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values⑧">values</a> are <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config①⑧">fenced
 frame configs</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config instance" data-dfn-type="dfn" data-export id="fenced-frame-config-instance-partition-nonce">partition nonce</dfn>
    <dd data-md>
     <p>a <a data-link-type="dfn" href="#partition-nonce" id="ref-for-partition-nonce">partition nonce</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config instance" data-dfn-type="dfn" data-export id="fenced-frame-config-instance-embedder-shared-storage-context">embedder shared storage context</dfn>
    <dd data-md>
     <p>null, or a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①③">string</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config instance" data-dfn-type="dfn" data-export id="fenced-frame-config-instance-is-ad-component">is ad component</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean⑥">boolean</a>, initially false.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="fenced frame config instance" data-dfn-type="dfn" data-export id="fenced-frame-config-instance-cross-origin-reporting-allowed">cross-origin reporting allowed</dfn>
    <dd data-md>
     <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean⑦">boolean</a>, initially false.</p>
   </dl>
   <div class="algorithm" data-algorithm="instantiate a config">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-export id="instantiate-a-config">instantiate a config</dfn> given a <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config①⑨">fenced frame config</a> <var>config</var>, return a <a data-link-type="dfn" href="#fenced-frame-config-instance" id="ref-for-fenced-frame-config-instance②">fenced frame config instance</a> with the following members: 
    <dl>
     <dt data-md><a data-link-type="dfn" href="#fenced-frame-config-instance-mapped-url" id="ref-for-fenced-frame-config-instance-mapped-url">mapped url</a>
     <dd data-md>
      <p><var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-mapped-url" id="ref-for-fenced-frame-config-mapped-url①">mapped url</a>'s <a data-link-type="dfn" href="#mapped-url-value" id="ref-for-mapped-url-value">value</a></p>
     <dt data-md><a data-link-type="dfn" href="#fenced-frame-config-instance-container-size" id="ref-for-fenced-frame-config-instance-container-size">container size</a>
     <dd data-md>
      <p><var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-container-size" id="ref-for-fenced-frame-config-container-size①">container size</a></p>
     <dt data-md><a data-link-type="dfn" href="#fenced-frame-config-instance-content-size" id="ref-for-fenced-frame-config-instance-content-size">content size</a>
     <dd data-md>
      <p><var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-content-size" id="ref-for-fenced-frame-config-content-size①">content size</a> if null, otherwise <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-content-size" id="ref-for-fenced-frame-config-content-size②">content size</a>'s <a data-link-type="dfn" href="#content-size-value" id="ref-for-content-size-value">value</a></p>
     <dt data-md><a data-link-type="dfn" href="#fenced-frame-config-instance-interest-group-descriptor" id="ref-for-fenced-frame-config-instance-interest-group-descriptor">interest group descriptor</a>
     <dd data-md>
      <p><var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-interest-group-descriptor" id="ref-for-fenced-frame-config-interest-group-descriptor">interest group descriptor</a> if null, otherwise <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-interest-group-descriptor" id="ref-for-fenced-frame-config-interest-group-descriptor①">interest group descriptor</a>'s <a data-link-type="dfn" href="#interest-group-descriptor-value" id="ref-for-interest-group-descriptor-value">value</a></p>
     <dt data-md><a data-link-type="dfn" href="#fenced-frame-config-instance-on-navigate-callback" id="ref-for-fenced-frame-config-instance-on-navigate-callback">on navigate callback</a>
     <dd data-md>
      <p><var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-on-navigate-callback" id="ref-for-fenced-frame-config-on-navigate-callback">on navigate callback</a></p>
     <dt data-md><a data-link-type="dfn" href="#fenced-frame-config-instance-effective-sandboxing-flags" id="ref-for-fenced-frame-config-instance-effective-sandboxing-flags">effective sandboxing flags</a>
     <dd data-md>
      <p><var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-effective-sandboxing-flags" id="ref-for-fenced-frame-config-effective-sandboxing-flags">effective sandboxing flags</a> if null, otherwise <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-effective-sandboxing-flags" id="ref-for-fenced-frame-config-effective-sandboxing-flags①">effective sandboxing flags</a>'s <a data-link-type="dfn" href="#effective-sandboxing-flags-value" id="ref-for-effective-sandboxing-flags-value">value</a></p>
     <dt data-md><a data-link-type="dfn" href="#fenced-frame-config-instance-effective-enabled-permissions" id="ref-for-fenced-frame-config-instance-effective-enabled-permissions">effective enabled permissions</a>
     <dd data-md>
      <p><var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-effective-enabled-permissions" id="ref-for-fenced-frame-config-effective-enabled-permissions①">effective enabled permissions</a> if null, otherwise <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-effective-enabled-permissions" id="ref-for-fenced-frame-config-effective-enabled-permissions②">effective enabled permissions</a>'s <a data-link-type="dfn" href="#effective-enabled-permissions-value" id="ref-for-effective-enabled-permissions-value">value</a></p>
     <dt data-md><a data-link-type="dfn" href="#fenced-frame-config-instance-fenced-frame-reporter" id="ref-for-fenced-frame-config-instance-fenced-frame-reporter">fenced frame reporter</a>
     <dd data-md>
      <ol>
       <li data-md>
        <p>If <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-fenced-frame-reporting-metadata" id="ref-for-fenced-frame-config-fenced-frame-reporting-metadata">fenced frame reporting metadata</a>'s <a data-link-type="dfn" href="#fenced-frame-reporting-metadata-value" id="ref-for-fenced-frame-reporting-metadata-value">value</a> is null, set to null.</p>
       <li data-md>
        <p>Otherwise, set to a <a data-link-type="dfn" href="#fencedframetype-fenced-frame-reporter" id="ref-for-fencedframetype-fenced-frame-reporter③">fenced frame reporter</a> with the following
 members:</p>
        <dl>
         <dt data-md><a data-link-type="dfn" href="#fenced-frame-reporter-fenced-frame-reporting-metadata-reference" id="ref-for-fenced-frame-reporter-fenced-frame-reporting-metadata-reference①">fenced frame reporting metadata reference</a>
         <dd data-md>
          <p>a reference to <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-fenced-frame-reporting-metadata" id="ref-for-fenced-frame-config-fenced-frame-reporting-metadata①">fenced frame reporting metadata</a>'s <a data-link-type="dfn" href="#fenced-frame-reporting-metadata-value" id="ref-for-fenced-frame-reporting-metadata-value①">value</a></p>
        </dl>
      </ol>
     <dt data-md><a data-link-type="dfn" href="#fenced-frame-config-instance-exfiltration-budget-metadata-reference" id="ref-for-fenced-frame-config-instance-exfiltration-budget-metadata-reference">exfiltration budget metadata reference</a>
     <dd data-md>
      <ol>
       <li data-md>
        <p>If <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-exfiltration-budget-metadata" id="ref-for-fenced-frame-config-exfiltration-budget-metadata">exfiltration budget metadata</a> is null, set to null.</p>
       <li data-md>
        <p>Otherwise, set to a <a data-link-type="dfn" href="#fencedframetype-exfiltration-budget-metadata-reference" id="ref-for-fencedframetype-exfiltration-budget-metadata-reference①">exfiltration budget metadata reference</a>:</p>
        <dl>
         <dt data-md><a data-link-type="dfn" href="#exfiltration-budget-metadata-reference-origin" id="ref-for-exfiltration-budget-metadata-reference-origin">origin</a>
         <dd data-md>
          <p><var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-exfiltration-budget-metadata" id="ref-for-fenced-frame-config-exfiltration-budget-metadata①">exfiltration budget metadata</a>'s <a data-link-type="dfn" href="#exfiltration-budget-metadata-value" id="ref-for-exfiltration-budget-metadata-value">value</a>'s <a data-link-type="dfn" href="#exfiltration-budget-metadata-origin" id="ref-for-exfiltration-budget-metadata-origin">origin</a></p>
         <dt data-md><a data-link-type="dfn" href="#exfiltration-budget-metadata-reference-amount-to-debit-reference" id="ref-for-exfiltration-budget-metadata-reference-amount-to-debit-reference">amount to debit reference</a>
         <dd data-md>
          <p>a reference to <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-exfiltration-budget-metadata" id="ref-for-fenced-frame-config-exfiltration-budget-metadata②">exfiltration budget metadata</a>'s <a data-link-type="dfn" href="#exfiltration-budget-metadata-value" id="ref-for-exfiltration-budget-metadata-value①">value</a>'s <a data-link-type="dfn" href="#exfiltration-budget-metadata-amount-to-debit" id="ref-for-exfiltration-budget-metadata-amount-to-debit">amount to
 debit</a></p>
        </dl>
      </ol>
     <dt data-md><a data-link-type="dfn" href="#fenced-frame-config-instance-nested-configs" id="ref-for-fenced-frame-config-instance-nested-configs①">nested configs</a>
     <dd data-md>
      <ol>
       <li data-md>
        <p>If <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-nested-configs" id="ref-for-fenced-frame-config-nested-configs">nested configs</a> is null, set to null.</p>
       <li data-md>
        <p>Otherwise:</p>
        <ol>
         <li data-md>
          <p>Let <var>results</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⓪">map</a>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①">For each</a> <var>nested config</var> of <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-nested-configs" id="ref-for-fenced-frame-config-nested-configs①">nested
 configs</a>'s <a data-link-type="dfn" href="#nested-configs-value" id="ref-for-nested-configs-value">value</a>:</p>
          <ol>
           <li data-md>
            <p>Let <var>urn</var> be a randomly generated <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#urn-uuid" id="ref-for-urn-uuid⑧">urn uuid</a>.</p>
           <li data-md>
            <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-set" id="ref-for-map-set④">Set</a> <var>results</var>[<var>urn</var>] to <var>nested config</var>.</p>
          </ol>
         <li data-md>
          <p>Set <a data-link-type="dfn" href="#fenced-frame-config-instance-nested-configs" id="ref-for-fenced-frame-config-instance-nested-configs②">nested configs</a> to <var>results</var>.</p>
        </ol>
      </ol>
     <dt data-md><a data-link-type="dfn" href="#fenced-frame-config-instance-partition-nonce" id="ref-for-fenced-frame-config-instance-partition-nonce">partition nonce</a>
     <dd data-md>
      <p>a random, unique <a data-link-type="dfn" href="#partition-nonce" id="ref-for-partition-nonce①">partition nonce</a></p>
     <dt data-md><a data-link-type="dfn" href="#fenced-frame-config-instance-embedder-shared-storage-context" id="ref-for-fenced-frame-config-instance-embedder-shared-storage-context">embedder shared storage context</a>
     <dd data-md>
      <p><var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-embedder-shared-storage-context" id="ref-for-fenced-frame-config-embedder-shared-storage-context">embedder shared storage context</a></p>
     <dt data-md><a data-link-type="dfn" href="#fenced-frame-config-instance-is-ad-component" id="ref-for-fenced-frame-config-instance-is-ad-component">is ad component</a>
     <dd data-md>
      <p><var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-is-ad-component" id="ref-for-fenced-frame-config-is-ad-component①">is ad component</a></p>
     <dt data-md><a data-link-type="dfn" href="#fenced-frame-config-instance-cross-origin-reporting-allowed" id="ref-for-fenced-frame-config-instance-cross-origin-reporting-allowed">cross-origin reporting allowed</a>
     <dd data-md>
      <p><var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-cross-origin-reporting-allowed" id="ref-for-fenced-frame-config-cross-origin-reporting-allowed">cross-origin reporting allowed</a></p>
    </dl>
   </div>
   <p>Each <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context" id="ref-for-browsing-context">browsing context</a> has a <dfn class="dfn-paneled" data-dfn-for="browsing context" data-dfn-type="dfn" data-noexport id="browsing-context-fenced-frame-config-instance">fenced frame config instance</dfn>,
which is a <a data-link-type="dfn" href="#fenced-frame-config-instance" id="ref-for-fenced-frame-config-instance③">fenced frame config instance</a> or null, initially null.</p>
   <p><strong class="advisement"> This <a data-link-type="dfn" href="#browsing-context-fenced-frame-config-instance" id="ref-for-browsing-context-fenced-frame-config-instance">fenced frame config instance</a> should really exist on <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context-group" id="ref-for-browsing-context-group①">browsing context group</a>, however until third-party cookies are <a href="https://w3ctag.github.io/web-without-3p-cookies/#introduction">deprecated</a>, this
specification supports many of the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe②⑥">fencedframe</a></code> concepts on the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" id="ref-for-the-iframe-element③">iframe</a></code> element. This requires
that for the short term, a normal <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#content-navigable" id="ref-for-content-navigable">content navigable</a> be able to load a <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config②⓪">fenced frame config</a>, and therefore have access to the navigation’s corresponding <a data-link-type="dfn" href="#fenced-frame-config-instance" id="ref-for-fenced-frame-config-instance④">fenced frame
config instance</a>.</strong></p>
   <h4 class="heading settled" data-level="2.3.5" id="fenced-frame-config-interface"><span class="secno">2.3.5. </span><span class="content">The <code class="idl"><a data-link-type="idl" href="#fencedframeconfig" id="ref-for-fencedframeconfig①①">FencedFrameConfig</a></code> interface</span><a class="self-link" href="#fenced-frame-config-interface"></a></h4>
   <p>One major input to the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe②⑦">fencedframe</a></code> element is the <code class="idl"><a data-link-type="idl" href="#fencedframeconfig" id="ref-for-fencedframeconfig①②">FencedFrameConfig</a></code> interface, which
maps to an internal <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config②①">fenced frame config</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct②③">struct</a>.</p>
<pre class="idl highlight def"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-opaqueproperty"><code><c- g>OpaqueProperty</c-></code></dfn> {<dfn class="idl-code" data-dfn-for="OpaqueProperty" data-dfn-type="enum-value" data-export id="dom-opaqueproperty-opaque"><code><c- s>"opaque"</c-></code><a class="self-link" href="#dom-opaqueproperty-opaque"></a></dfn>};

<c- b>typedef</c-> (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#enumdef-opaqueproperty" id="ref-for-enumdef-opaqueproperty"><c- n>OpaqueProperty</c-></a>) <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-fencedframeconfigsize"><code><c- g>FencedFrameConfigSize</c-></code></dfn>;
<c- b>typedef</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString"><c- b>USVString</c-></a> <dfn class="idl-code" data-dfn-type="typedef" data-export id="typedefdef-fencedframeconfigurl"><code><c- g>FencedFrameConfigURL</c-></code><a class="self-link" href="#typedefdef-fencedframeconfigurl"></a></dfn>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=<c- n>Window</c->, <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable" id="ref-for-serializable"><c- g>Serializable</c-></a>]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="fencedframeconfig"><code><c- g>FencedFrameConfig</c-></code></dfn> {
  <a class="idl-code" data-link-type="constructor" href="#dom-fencedframeconfig-fencedframeconfig" id="ref-for-dom-fencedframeconfig-fencedframeconfig"><c- g>constructor</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString①"><c- b>USVString</c-></a> <dfn class="idl-code" data-dfn-for="FencedFrameConfig/FencedFrameConfig(url), FencedFrameConfig/constructor(url)" data-dfn-type="argument" data-export id="dom-fencedframeconfig-fencedframeconfig-url-url"><code><c- g>url</c-></code><a class="self-link" href="#dom-fencedframeconfig-fencedframeconfig-url-url"></a></dfn>);
    
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#typedefdef-fencedframeconfigsize" id="ref-for-typedefdef-fencedframeconfigsize"><c- n>FencedFrameConfigSize</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="FencedFrameConfig" data-dfn-type="attribute" data-export data-readonly data-type="FencedFrameConfigSize?" id="dom-fencedframeconfig-containerwidth"><code><c- g>containerWidth</c-></code></dfn>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#typedefdef-fencedframeconfigsize" id="ref-for-typedefdef-fencedframeconfigsize①"><c- n>FencedFrameConfigSize</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="FencedFrameConfig" data-dfn-type="attribute" data-export data-readonly data-type="FencedFrameConfigSize?" id="dom-fencedframeconfig-containerheight"><code><c- g>containerHeight</c-></code></dfn>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#typedefdef-fencedframeconfigsize" id="ref-for-typedefdef-fencedframeconfigsize②"><c- n>FencedFrameConfigSize</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="FencedFrameConfig" data-dfn-type="attribute" data-export data-readonly data-type="FencedFrameConfigSize?" id="dom-fencedframeconfig-contentwidth"><code><c- g>contentWidth</c-></code></dfn>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#typedefdef-fencedframeconfigsize" id="ref-for-typedefdef-fencedframeconfigsize③"><c- n>FencedFrameConfigSize</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="FencedFrameConfig" data-dfn-type="attribute" data-export data-readonly data-type="FencedFrameConfigSize?" id="dom-fencedframeconfig-contentheight"><code><c- g>contentHeight</c-></code></dfn>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fencedframeconfig-setsharedstoragecontext" id="ref-for-dom-fencedframeconfig-setsharedstoragecontext"><c- g>setSharedStorageContext</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString③"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="FencedFrameConfig/setSharedStorageContext(contextString)" data-dfn-type="argument" data-export id="dom-fencedframeconfig-setsharedstoragecontext-contextstring-contextstring"><code><c- g>contextString</c-></code><a class="self-link" href="#dom-fencedframeconfig-setsharedstoragecontext-contextstring-contextstring"></a></dfn>);
};
</pre>
   <p>Each <code class="idl"><a data-link-type="idl" href="#fencedframeconfig" id="ref-for-fencedframeconfig①③">FencedFrameConfig</a></code> has:</p>
   <ul>
    <li data-md>
     <p>A <dfn class="dfn-paneled" data-dfn-for="fencedframeconfig" data-dfn-type="dfn" data-noexport id="fencedframeconfig-url">url</dfn>, a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑥">URL</a>, failure, or null, initially null</p>
    <li data-md>
     <p>A <dfn class="dfn-paneled" data-dfn-for="fencedframeconfig" data-dfn-type="dfn" data-noexport id="fencedframeconfig-urn">urn</dfn>, a <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#urn-uuid" id="ref-for-urn-uuid⑨">urn uuid</a></p>
    <li data-md>
     <p>A <dfn class="dfn-paneled" data-dfn-for="fencedframeconfig" data-dfn-type="dfn" data-noexport id="fencedframeconfig-sharedstoragecontext">sharedStorageContext</dfn>, a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①④">string</a></p>
    <li data-md>
     <p>A <dfn class="dfn-paneled" data-dfn-for="fencedframeconfig" data-dfn-type="dfn" data-noexport id="fencedframeconfig-containerwidth">containerWidth</dfn>, a <code class="idl"><a data-link-type="idl" href="#typedefdef-fencedframeconfigsize" id="ref-for-typedefdef-fencedframeconfigsize④">FencedFrameConfigSize</a></code> or null</p>
    <li data-md>
     <p>A <dfn class="dfn-paneled" data-dfn-for="fencedframeconfig" data-dfn-type="dfn" data-noexport id="fencedframeconfig-containerheight">containerHeight</dfn>, a <code class="idl"><a data-link-type="idl" href="#typedefdef-fencedframeconfigsize" id="ref-for-typedefdef-fencedframeconfigsize⑤">FencedFrameConfigSize</a></code> or null</p>
    <li data-md>
     <p>A <dfn class="dfn-paneled" data-dfn-for="fencedframeconfig" data-dfn-type="dfn" data-noexport id="fencedframeconfig-contentwidth">contentWidth</dfn>, a <code class="idl"><a data-link-type="idl" href="#typedefdef-fencedframeconfigsize" id="ref-for-typedefdef-fencedframeconfigsize⑥">FencedFrameConfigSize</a></code> or null</p>
    <li data-md>
     <p>A <dfn class="dfn-paneled" data-dfn-for="fencedframeconfig" data-dfn-type="dfn" data-noexport id="fencedframeconfig-contentheight">contentHeight</dfn>, a <code class="idl"><a data-link-type="idl" href="#typedefdef-fencedframeconfigsize" id="ref-for-typedefdef-fencedframeconfigsize⑦">FencedFrameConfigSize</a></code> or null</p>
   </ul>
   <p class="note" role="note"><span class="marker">Note:</span> A config’s <a data-link-type="dfn" href="#fencedframeconfig-url" id="ref-for-fencedframeconfig-url②">url</a> is only null if a <a data-link-type="dfn" href="#fencedframeconfig-urn" id="ref-for-fencedframeconfig-urn②">urn</a> is supplied.</p>
   <div class="algorithm" data-algorithm="FencedFrameConfig(url)" data-algorithm-for="FencedFrameConfig">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="FencedFrameConfig" data-dfn-type="constructor" data-export data-lt="FencedFrameConfig(url)|constructor(url)" id="dom-fencedframeconfig-fencedframeconfig"><code>FencedFrameConfig(<var>url</var>)</code></dfn> constructor method steps
  are: 
    <ol>
     <li data-md>
      <p>Let <var>config</var> be a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new" id="ref-for-new">new</a> <code class="idl"><a data-link-type="idl" href="#fencedframeconfig" id="ref-for-fencedframeconfig①④">FencedFrameConfig</a></code> object.</p>
     <li data-md>
      <p>Set <var>config</var>’s <a data-link-type="dfn" href="#fencedframeconfig-url" id="ref-for-fencedframeconfig-url③">url</a> to the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser">URL parser</a> on <var>url</var>.</p>
     <li data-md>
      <p>Return <var>config</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="containerWidth getter"> The <code class="idl"><a data-link-type="idl" href="#dom-fencedframeconfig-containerwidth" id="ref-for-dom-fencedframeconfig-containerwidth">containerWidth</a></code> IDL attribute getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③">this</a>'s <a data-link-type="dfn" href="#fencedframeconfig-containerwidth" id="ref-for-fencedframeconfig-containerwidth">containerWidth</a>. </div>
   <div class="algorithm" data-algorithm="containerHeight getter"> The <code class="idl"><a data-link-type="idl" href="#dom-fencedframeconfig-containerheight" id="ref-for-dom-fencedframeconfig-containerheight">containerHeight</a></code> IDL attribute getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④">this</a>'s <a data-link-type="dfn" href="#fencedframeconfig-containerheight" id="ref-for-fencedframeconfig-containerheight">containerHeight</a>. </div>
   <div class="algorithm" data-algorithm="contentWidth getter"> The <code class="idl"><a data-link-type="idl" href="#dom-fencedframeconfig-contentwidth" id="ref-for-dom-fencedframeconfig-contentwidth">contentWidth</a></code> IDL attribute getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤">this</a>'s <a data-link-type="dfn" href="#fencedframeconfig-contentwidth" id="ref-for-fencedframeconfig-contentwidth">contentWidth</a>. </div>
   <div class="algorithm" data-algorithm="contentHeight getter"> The <code class="idl"><a data-link-type="idl" href="#dom-fencedframeconfig-contentheight" id="ref-for-dom-fencedframeconfig-contentheight">contentHeight</a></code> IDL attribute getter steps are to return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥">this</a>'s <a data-link-type="dfn" href="#fencedframeconfig-contentheight" id="ref-for-fencedframeconfig-contentheight">contentHeight</a>. </div>
   <div class="algorithm" data-algorithm="setSharedStorageContext(contextString)" data-algorithm-for="FencedFrameConfig"> The <dfn class="dfn-paneled idl-code" data-dfn-for="FencedFrameConfig" data-dfn-type="method" data-export id="dom-fencedframeconfig-setsharedstoragecontext"><code>setSharedStorageContext(<var>contextString</var>)</code></dfn> method steps
  are to set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑦">this</a>'s <a data-link-type="dfn" href="#fencedframeconfig-sharedstoragecontext" id="ref-for-fencedframeconfig-sharedstoragecontext①">sharedStorageContext</a> to <var>contextString</var>. </div>
   <div class="algorithm" data-algorithm="FencedFrameConfig serializer">
     <code class="idl"><a data-link-type="idl" href="#fencedframeconfig" id="ref-for-fencedframeconfig①⑤">FencedFrameConfig</a></code> objects are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable-objects" id="ref-for-serializable-objects">serializable objects</a>. Their <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/structured-data.html#serialization-steps" id="ref-for-serialization-steps">serialization steps</a>, given <var>value</var>, <var>serialized</var>, and <var>forStorage</var> are: 
    <ol>
     <li data-md>
      <p>If <var>forStorage</var> is true, then throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#datacloneerror" id="ref-for-datacloneerror">DataCloneError</a></code> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException">DOMException</a></code>.</p>
     <li data-md>
      <p>Set <var>serialized</var>.[[Url]] to <var>value</var>’s <a data-link-type="dfn" href="#fencedframeconfig-url" id="ref-for-fencedframeconfig-url④">url</a>.</p>
     <li data-md>
      <p>Set <var>serialized</var>.[[Urn]] to <var>value</var>’s <a data-link-type="dfn" href="#fencedframeconfig-urn" id="ref-for-fencedframeconfig-urn③">urn</a>.</p>
     <li data-md>
      <p>Set <var>serialized</var>.[[SharedStorageContext]] to <var>value</var>’s <a data-link-type="dfn" href="#fencedframeconfig-sharedstoragecontext" id="ref-for-fencedframeconfig-sharedstoragecontext②"> sharedStorageContext</a>.</p>
     <li data-md>
      <p>Set <var>serialized</var>.[[ContainerWidth]] to <var>value</var>’s <a data-link-type="dfn" href="#fencedframeconfig-containerwidth" id="ref-for-fencedframeconfig-containerwidth①"> containerWidth</a>.</p>
     <li data-md>
      <p>Set <var>serialized</var>.[[ContainerHeight]] to <var>value</var>’s <a data-link-type="dfn" href="#fencedframeconfig-containerheight" id="ref-for-fencedframeconfig-containerheight①"> containerHeight</a>.</p>
     <li data-md>
      <p>Set <var>serialized</var>.[[ContentWidth]] to <var>value</var>’s <a data-link-type="dfn" href="#fencedframeconfig-contentwidth" id="ref-for-fencedframeconfig-contentwidth①"> contentWidth</a>.</p>
     <li data-md>
      <p>Set <var>serialized</var>.[[ContentHeight]] to <var>value</var>’s <a data-link-type="dfn" href="#fencedframeconfig-contentheight" id="ref-for-fencedframeconfig-contentheight①"> contentHeight</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="FencedFrameConfig deserializer">
     Their <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/structured-data.html#deserialization-steps" id="ref-for-deserialization-steps">deserialization steps</a>, given <var>serialized</var>, <var>value</var>, and <var> targetRealm</var> are: 
    <ol>
     <li data-md>
      <p>Initialize <var>value</var>’s <a data-link-type="dfn" href="#fencedframeconfig-url" id="ref-for-fencedframeconfig-url⑤">url</a> to <var>serialized</var>.[[Url]].</p>
     <li data-md>
      <p>Initialize <var>value</var>’s <a data-link-type="dfn" href="#fencedframeconfig-urn" id="ref-for-fencedframeconfig-urn④">urn</a> to <var>serialized</var>.[[Urn]].</p>
     <li data-md>
      <p>Initialize <var>value</var>’s <a data-link-type="dfn" href="#fencedframeconfig-sharedstoragecontext" id="ref-for-fencedframeconfig-sharedstoragecontext③">sharedStorageContext</a> to <var>serialized</var>.[[SharedStorageContext]].</p>
     <li data-md>
      <p>Initialize <var>value</var>’s <a data-link-type="dfn" href="#fencedframeconfig-containerwidth" id="ref-for-fencedframeconfig-containerwidth②">containerWidth</a> to <var>serialized</var>.[[ContainerWidth]].</p>
     <li data-md>
      <p>Initialize <var>value</var>’s <a data-link-type="dfn" href="#fencedframeconfig-containerheight" id="ref-for-fencedframeconfig-containerheight②">containerHeight</a> to <var>serialized</var>.[[ContainerHeight]].</p>
     <li data-md>
      <p>Initialize <var>value</var>’s <a data-link-type="dfn" href="#fencedframeconfig-contentwidth" id="ref-for-fencedframeconfig-contentwidth②">contentWidth</a> to <var>serialized</var>.[[ContentWidth]].</p>
     <li data-md>
      <p>Initialize <var>value</var>’s <a data-link-type="dfn" href="#fencedframeconfig-contentheight" id="ref-for-fencedframeconfig-contentheight②">contentHeight</a> to <var>serialized</var>.[[ContentHeight]].</p>
    </ol>
   </div>
   <p class="note" role="note"><span class="marker">Note:</span> To help with ease of adoption, <a href="https://github.com/WICG/turtledove/issues/286#issuecomment-1682842636">until 2026</a> we will support
the API <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" id="ref-for-dom-navigator">navigator</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigator-deprecatedreplaceinurn" id="ref-for-dom-navigator-deprecatedreplaceinurn">deprecatedReplaceInURN()</a></code>, which allows you to substitute
macros into the <a data-link-type="dfn" href="#fenced-frame-config-mapped-url" id="ref-for-fenced-frame-config-mapped-url②">mapped url</a> corresponding to a given <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#urn-uuid" id="ref-for-urn-uuid①⓪">urn uuid</a> or <code class="idl"><a data-link-type="idl" href="#fencedframeconfig" id="ref-for-fencedframeconfig①⑥">FencedFrameConfig</a></code>.</p>
   <p class="note" role="note"><span class="marker">Note:</span> To help with ease of adoption, <a href="https://developers.google.com/privacy-sandbox/relevance/protected-audience-api/feature-status#fenced_frames">until third party cookie deprecation</a> we will support the API <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator" id="ref-for-dom-navigator①">navigator</a></code>.<code class="idl"><a data-link-type="idl" href="#dom-navigator-deprecatedurntourl" id="ref-for-dom-navigator-deprecatedurntourl">deprecatedURNtoURL()</a></code>, which returns
the <a data-link-type="dfn" href="#fenced-frame-config-mapped-url" id="ref-for-fenced-frame-config-mapped-url③">mapped url</a> corresponding to a given <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#urn-uuid" id="ref-for-urn-uuid①①">urn uuid</a> or <code class="idl"><a data-link-type="idl" href="#fencedframeconfig" id="ref-for-fencedframeconfig①⑦">FencedFrameConfig</a></code>.</p>
<pre class="idl highlight def"><c- b>typedef</c-> (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString②"><c- b>USVString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#fencedframeconfig" id="ref-for-fencedframeconfig①⑧"><c- n>FencedFrameConfig</c-></a>) <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-urnorconfig"><code><c- g>UrnOrConfig</c-></code></dfn>;

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined①"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigator-deprecatedreplaceinurn" id="ref-for-dom-navigator-deprecatedreplaceinurn①"><c- g>deprecatedReplaceInURN</c-></a>(
    <a data-link-type="idl-name" href="#typedefdef-urnorconfig" id="ref-for-typedefdef-urnorconfig"><c- n>UrnOrConfig</c-></a> <dfn class="idl-code" data-dfn-for="Navigator/deprecatedReplaceInURN(urnOrConfig, replacements)" data-dfn-type="argument" data-export id="dom-navigator-deprecatedreplaceinurn-urnorconfig-replacements-urnorconfig"><code><c- g>urnOrConfig</c-></code><a class="self-link" href="#dom-navigator-deprecatedreplaceinurn-urnorconfig-replacements-urnorconfig"></a></dfn>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString③"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString④"><c- b>USVString</c-></a>> <dfn class="idl-code" data-dfn-for="Navigator/deprecatedReplaceInURN(urnOrConfig, replacements)" data-dfn-type="argument" data-export id="dom-navigator-deprecatedreplaceinurn-urnorconfig-replacements-replacements"><code><c- g>replacements</c-></code><a class="self-link" href="#dom-navigator-deprecatedreplaceinurn-urnorconfig-replacements-replacements"></a></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑤"><c- b>USVString</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigator-deprecatedurntourl" id="ref-for-dom-navigator-deprecatedurntourl①"><c- g>deprecatedURNtoURL</c-></a>(
    <a data-link-type="idl-name" href="#typedefdef-urnorconfig" id="ref-for-typedefdef-urnorconfig①"><c- n>UrnOrConfig</c-></a> <dfn class="idl-code" data-dfn-for="Navigator/deprecatedURNtoURL(urnOrConfig, send_reports), Navigator/deprecatedURNtoURL(urnOrConfig)" data-dfn-type="argument" data-export id="dom-navigator-deprecatedurntourl-urnorconfig-send_reports-urnorconfig"><code><c- g>urnOrConfig</c-></code><a class="self-link" href="#dom-navigator-deprecatedurntourl-urnorconfig-send_reports-urnorconfig"></a></dfn>, <c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <dfn class="idl-code" data-dfn-for="Navigator/deprecatedURNtoURL(urnOrConfig, send_reports), Navigator/deprecatedURNtoURL(urnOrConfig)" data-dfn-type="argument" data-export id="dom-navigator-deprecatedurntourl-urnorconfig-send_reports-send_reports"><code><c- g>send_reports</c-></code><a class="self-link" href="#dom-navigator-deprecatedurntourl-urnorconfig-send_reports-send_reports"></a></dfn> = <c- b>false</c->);
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑥"><c- b>USVString</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigator-adauctioncomponents" id="ref-for-dom-navigator-adauctioncomponents"><c- g>adAuctionComponents</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short" id="ref-for-idl-unsigned-short"><c- b>unsigned</c-> <c- b>short</c-></a> <dfn class="idl-code" data-dfn-for="Navigator/adAuctionComponents(numAdComponents)" data-dfn-type="argument" data-export id="dom-navigator-adauctioncomponents-numadcomponents-numadcomponents"><code><c- g>numAdComponents</c-></code><a class="self-link" href="#dom-navigator-adauctioncomponents-numadcomponents-numadcomponents"></a></dfn>);
};
</pre>
   <div class="algorithm" data-algorithm="substitute macros" data-algorithm-for="fencedframeutil">
     To <dfn class="dfn-paneled" data-dfn-for="fencedframeutil" data-dfn-type="dfn" data-export id="fencedframeutil-substitute-macros">substitute macros</dfn> with an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①①">ordered map</a> with <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑤">string</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys⑨">keys</a> and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑥">string</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values⑨">values</a> <var>macros</var> into a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑦">string</a> <var>string</var>, run
  these steps: 
    <ol>
     <li data-md>
      <p><span class="XXX">TODO:</span> <a href="https://github.com/WICG/fenced-frame/issues/116">Spec this</a>.
 Substitute the keys from <var>macros</var> with the corresponding values into <var>string</var>, and return the
 new string. There is no recursive substitution.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="deprecatedReplaceInURN(urnOrConfig, replacements)" data-algorithm-for="Navigator">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigator" data-dfn-type="method" data-export id="dom-navigator-deprecatedreplaceinurn"><code>deprecatedReplaceInURN(<var>urnOrConfig</var>, <var>replacements</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>Let <var>urn</var> be null.</p>
     <li data-md>
      <p>If <var>urnOrConfig</var> is a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑦">USVString</a></code>, set <var>urn</var> to <var>urnOrConfig</var>.</p>
     <li data-md>
      <p>Otherwise, set <var>urn</var> to <var>urnOrConfig</var>’s <a data-link-type="dfn" href="#fencedframeconfig-urn" id="ref-for-fencedframeconfig-urn⑤">urn</a>.</p>
     <li data-md>
      <p>If <var>urn</var> is not a valid <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#urn-uuid" id="ref-for-urn-uuid①②">urn uuid</a> (i.e., won’t pass the ABNF in Section 3 of <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#urn-uuid" id="ref-for-urn-uuid①③">urn uuid</a>), <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate①">For each</a> <var>key</var> → _ of <var>replacements</var>:</p>
      <ol>
       <li data-md>
        <p>If <var>key</var> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-starts-with" id="ref-for-string-starts-with①">start with</a> <code>${</code> or <code>%%</code>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw①">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①">TypeError</a></code>.</p>
       <li data-md>
        <p>If <var>key</var> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-ends-with" id="ref-for-string-ends-with">end with</a> <code>}</code> or <code>%%</code>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw②">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror②">TypeError</a></code>.</p>
      </ol>
     <li data-md>
      <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise">a new promise</a>.</p>
     <li data-md>
      <p>Let <var>global</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑧">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global">relevant global object</a>.</p>
     <li data-md>
      <p>Run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel③">in parallel</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>mapping</var> be <var>global</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-navigable" id="ref-for-window-navigable">navigable</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-traversable" id="ref-for-nav-traversable">traversable navigable</a>'s <a data-link-type="dfn" href="#traversable-navigable-fenced-frame-config-mapping" id="ref-for-traversable-navigable-fenced-frame-config-mapping①">fenced frame config mapping</a>.</p>
       <li data-md>
        <p>Let <var>config</var> be the result of <a data-link-type="dfn" href="#fenced-frame-config-mapping-find-a-config" id="ref-for-fenced-frame-config-mapping-find-a-config">finding a config</a> in <var>mapping</var> with <var>urn</var>.</p>
       <li data-md>
        <p>If <var>config</var> is failure, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task">queue a global task</a> on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source">DOM manipulation task source</a> given <var>global</var>, to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve">resolve</a> <var>p</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined②">undefined</a></code>, and abort these steps.</p>
       <li data-md>
        <p>Let <var>substitutedUrl</var> be the result of <a data-link-type="dfn" href="#fencedframeutil-substitute-macros" id="ref-for-fencedframeutil-substitute-macros①">substituting macros</a> with <var>replacements</var> into <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-mapped-url" id="ref-for-fenced-frame-config-mapped-url④">mapped url</a>'s <a data-link-type="dfn" href="#mapped-url-value" id="ref-for-mapped-url-value①">value</a>.</p>
       <li data-md>
        <p>Set <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-mapped-url" id="ref-for-fenced-frame-config-mapped-url⑤">mapped url</a>'s <a data-link-type="dfn" href="#mapped-url-value" id="ref-for-mapped-url-value②">value</a> to <var>substitutedUrl</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task①">Queue a global task</a> on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source①">DOM manipulation task source</a> given <var>global</var>, to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve①">resolve</a> <var>p</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined③">undefined</a></code>.</p>
      </ol>
     <li data-md>
      <p>Return <var>p</var>.</p>
    </ol>
    <details class="wpt-tests-block" dir="ltr" lang="en" open>
     <summary>Tests</summary>
     <ul class="wpt-tests-list">
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/deprecated-config-apis.https.html" title="fenced-frame/deprecated-config-apis.https.html">deprecated-config-apis.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/deprecated-config-apis.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/deprecated-config-apis.https.html"><small>(source)</small></a>
     </ul>
    </details>
   </div>
   <div class="algorithm" data-algorithm="deprecatedURNtoURL(urnOrConfig, send_reports)" data-algorithm-for="Navigator">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigator" data-dfn-type="method" data-export data-lt="deprecatedURNtoURL(urnOrConfig, send_reports)|deprecatedURNtoURL(urnOrConfig)" id="dom-navigator-deprecatedurntourl"><code>deprecatedURNtoURL(<var>urnOrConfig</var>, <var>send_reports</var>)</code></dfn> method
  steps are: 
    <ol>
     <li data-md>
      <p>Let <var>urn</var> be null.</p>
     <li data-md>
      <p>If <var>urnOrConfig</var> is a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑧">USVString</a></code>, set <var>urn</var> to <var>urnOrConfig</var>.</p>
     <li data-md>
      <p>Otherwise, set <var>urn</var> to <var>urnOrConfig</var>’s <a data-link-type="dfn" href="#fencedframeconfig-urn" id="ref-for-fencedframeconfig-urn⑥">urn</a>.</p>
     <li data-md>
      <p>If <var>urn</var> is not a valid <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#urn-uuid" id="ref-for-urn-uuid①④">urn uuid</a> (i.e., won’t pass the ABNF in Section 3 of <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#urn-uuid" id="ref-for-urn-uuid①⑤">urn uuid</a>), <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw③">throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror③">TypeError</a></code>.</p>
     <li data-md>
      <p>Let <var>p</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#a-new-promise" id="ref-for-a-new-promise①">a new promise</a>.</p>
     <li data-md>
      <p>Let <var>global</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑨">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global①">relevant global object</a>.</p>
     <li data-md>
      <p>Run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel④">in parallel</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>mapping</var> be <var>global</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-navigable" id="ref-for-window-navigable①">navigable</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-traversable" id="ref-for-nav-traversable①">traversable navigable</a>'s <a data-link-type="dfn" href="#traversable-navigable-fenced-frame-config-mapping" id="ref-for-traversable-navigable-fenced-frame-config-mapping②">fenced frame config mapping</a>.</p>
       <li data-md>
        <p>If <var>mapping</var>’s <a data-link-type="dfn" href="#fenced-frame-config-mapping-finalized-config-mapping" id="ref-for-fenced-frame-config-mapping-finalized-config-mapping③">finalized config mapping</a>[<var>urn</var>], does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑧">exist</a>, then <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task②">queue a global task</a> on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source②">DOM manipulation task source</a> given <var>global</var>, to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve②">resolve</a> <var>p</var> with <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined④">undefined</a></code>, and abort these steps.</p>
       <li data-md>
        <p>Let <var>config</var> be <var>mapping</var>’s <a data-link-type="dfn" href="#fenced-frame-config-mapping-finalized-config-mapping" id="ref-for-fenced-frame-config-mapping-finalized-config-mapping④">finalized config mapping</a>[<var>urn</var>].</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task③">Queue a global task</a> on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source" id="ref-for-dom-manipulation-task-source③">DOM manipulation task source</a> given <var>global</var>, to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#resolve" id="ref-for-resolve③">resolve</a> <var>p</var> with <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-mapped-url" id="ref-for-fenced-frame-config-mapped-url⑥">mapped url</a>'s <a data-link-type="dfn" href="#mapped-url-value" id="ref-for-mapped-url-value③">value</a>.</p>
       <li data-md>
        <p>If <var>send_reports</var> is true, then run the steps in <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-on-navigate-callback" id="ref-for-fenced-frame-config-on-navigate-callback①">on navigate callback</a>.</p>
      </ol>
     <li data-md>
      <p>Return <var>p</var>.</p>
    </ol>
    <details class="wpt-tests-block" dir="ltr" lang="en" open>
     <summary>Tests</summary>
     <ul class="wpt-tests-list">
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/deprecated-config-apis.https.html" title="fenced-frame/deprecated-config-apis.https.html">deprecated-config-apis.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/deprecated-config-apis.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/deprecated-config-apis.https.html"><small>(source)</small></a>
     </ul>
    </details>
   </div>
   <div class="algorithm" data-algorithm="adAuctionComponents(numAdComponents)" data-algorithm-for="Navigator">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigator" data-dfn-type="method" data-export id="dom-navigator-adauctioncomponents"><code>adAuctionComponents(<var>numAdComponents</var>)</code></dfn> 
    <ol>
     <li data-md>
      <p>Let <var>instance</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⓪">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global②">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-bc" id="ref-for-window-bc">browsing context</a>'s <a data-link-type="dfn" href="#browsing-context-fenced-frame-config-instance" id="ref-for-browsing-context-fenced-frame-config-instance①">fenced frame config instance</a>.</p>
     <li data-md>
      <p>If <var>instance</var> is null, then throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException①">DOMException</a></code>.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①①">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin">origin</a> and <var>instance</var>’s <a data-link-type="dfn" href="#fenced-frame-config-instance-mapped-url" id="ref-for-fenced-frame-config-instance-mapped-url①">mapped url</a>'s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin①">origin</a> are not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①">same
origin</a>, then then throw a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMException" id="ref-for-idl-DOMException②">DOMException</a></code>.</p>
     <li data-md>
      <p>Let <var>maxAdComponents</var> be 40.</p>
     <li data-md>
      <p>If <var>numAdComponents</var> > <var>maxAdComponents</var>, then set <var>numAdComponents</var> to <var>maxAdComponents</var>.</p>
     <li data-md>
      <p>Let <var>adComponentsURNs</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①①">list</a> of <a data-link-type="dfn" href="#fencedframeconfig-urn" id="ref-for-fencedframeconfig-urn⑦">urn</a>s.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate②">For each</a> <var>urn</var> → <var>config</var> of <var>instance</var>’s <a data-link-type="dfn" href="#fenced-frame-config-instance-nested-configs" id="ref-for-fenced-frame-config-instance-nested-configs③">nested configs</a>:</p>
      <ol>
       <li data-md>
        <p>If <var>numAdComponents</var> equals 0, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break">break</a>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append①">Append</a> <var>urn</var> to <var>adComponentsURNs</var>.</p>
       <li data-md>
        <p>Set <var>numAdComponents</var> to <var>numAdComponents</var> − 1.</p>
      </ol>
     <li data-md>
      <p>Return <var>adComponentsURNs</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="2.4" id="fence-interface"><span class="secno">2.4. </span><span class="content">The <code class="idl"><a data-link-type="idl" href="#fence" id="ref-for-fence">Fence</a></code> interface</span><a class="self-link" href="#fence-interface"></a></h3>
   <p>Several APIs specific to fenced frames are defined on the <code class="idl"><a data-link-type="idl" href="#fence" id="ref-for-fence①">Fence</a></code> interface.</p>
<pre class="idl highlight def"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-fencereportingdestination"><code><c- g>FenceReportingDestination</c-></code></dfn> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="FenceReportingDestination" data-dfn-type="enum-value" data-export id="dom-fencereportingdestination-buyer"><code><c- s>"buyer"</c-></code></dfn>,
  <dfn class="idl-code" data-dfn-for="FenceReportingDestination" data-dfn-type="enum-value" data-export id="dom-fencereportingdestination-seller"><code><c- s>"seller"</c-></code><a class="self-link" href="#dom-fencereportingdestination-seller"></a></dfn>,
  <dfn class="idl-code" data-dfn-for="FenceReportingDestination" data-dfn-type="enum-value" data-export id="dom-fencereportingdestination-component-seller"><code><c- s>"component-seller"</c-></code><a class="self-link" href="#dom-fencereportingdestination-component-seller"></a></dfn>,
  <dfn class="idl-code" data-dfn-for="FenceReportingDestination" data-dfn-type="enum-value" data-export id="dom-fencereportingdestination-direct-seller"><code><c- s>"direct-seller"</c-></code><a class="self-link" href="#dom-fencereportingdestination-direct-seller"></a></dfn>,
  <dfn class="idl-code" data-dfn-for="FenceReportingDestination" data-dfn-type="enum-value" data-export id="dom-fencereportingdestination-shared-storage-select-url"><code><c- s>"shared-storage-select-url"</c-></code><a class="self-link" href="#dom-fencereportingdestination-shared-storage-select-url"></a></dfn>,
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-fenceevent"><code><c- g>FenceEvent</c-></code></dfn> {
  // This dictionary has two mutually exclusive modes that aren’t represented as
  // distinct IDL types due to distinguishability issues:
  //
  // When reporting to a preregistered destination (specified by enum), the following
  // properties are used:
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString④"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FenceEvent" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-fenceevent-eventtype"><code><c- g>eventType</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑤"><c- b>DOMString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FenceEvent" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-fenceevent-eventdata"><code><c- g>eventData</c-></code></dfn>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#enumdef-fencereportingdestination" id="ref-for-enumdef-fencereportingdestination④"><c- n>FenceReportingDestination</c-></a>> <dfn class="dfn-paneled idl-code" data-dfn-for="FenceEvent" data-dfn-type="dict-member" data-export data-type="sequence<FenceReportingDestination> " id="dom-fenceevent-destination"><code><c- g>destination</c-></code></dfn>;

  // Determines if this data can be sent in a reportEvent() beacon or automatic
  // beacon that originates from a document that is cross-origin to the mapped
  // URL of the fenced frame config that loaded this frame tree.
  // Note that automatic beacon data can only be set from documents that are
  // same-origin to the fenced frame config’s mapped URL, so this effectively
  // opts in the data to being used in a cross-origin subframe.
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="FenceEvent" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-fenceevent-crossoriginexposed"><code><c- g>crossOriginExposed</c-></code></dfn> = <c- b>false</c->;

  // When setting event data to be used later in an automatic beacon, the
  // following properties are used:
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean②"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="FenceEvent" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-fenceevent-once"><code><c- g>once</c-></code></dfn> = <c- b>false</c->;

  // When reporting to a custom destination URL (with substitution of macros defined by
  // the Protected Audience buyer), the following property is used:
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString" id="ref-for-idl-USVString⑨"><c- b>USVString</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="FenceEvent" data-dfn-type="dict-member" data-export data-type="USVString " id="dom-fenceevent-destinationurl"><code><c- g>destinationURL</c-></code></dfn>;
};

<c- b>typedef</c-> (<a data-link-type="idl-name" href="#dictdef-fenceevent" id="ref-for-dictdef-fenceevent"><c- n>FenceEvent</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑥"><c- b>DOMString</c-></a>) <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-reporteventtype"><code><c- g>ReportEventType</c-></code></dfn>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="fence"><code><c- g>Fence</c-></code></dfn> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑤"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fence-reportevent" id="ref-for-dom-fence-reportevent"><c- g>reportEvent</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#typedefdef-reporteventtype" id="ref-for-typedefdef-reporteventtype"><c- n>ReportEventType</c-></a> <dfn class="idl-code" data-dfn-for="Fence/reportEvent(event), Fence/reportEvent()" data-dfn-type="argument" data-export id="dom-fence-reportevent-event-event"><code><c- g>event</c-></code><a class="self-link" href="#dom-fence-reportevent-event-event"></a></dfn> = {});
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined" id="ref-for-idl-undefined⑥"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fence-setreporteventdataforautomaticbeacons" id="ref-for-dom-fence-setreporteventdataforautomaticbeacons"><c- g>setReportEventDataForAutomaticBeacons</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-fenceevent" id="ref-for-dictdef-fenceevent①"><c- n>FenceEvent</c-></a> <dfn class="idl-code" data-dfn-for="Fence/setReportEventDataForAutomaticBeacons(event), Fence/setReportEventDataForAutomaticBeacons()" data-dfn-type="argument" data-export id="dom-fence-setreporteventdataforautomaticbeacons-event-event"><code><c- g>event</c-></code><a class="self-link" href="#dom-fence-setreporteventdataforautomaticbeacons-event-event"></a></dfn> = {});
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence②"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#fencedframeconfig" id="ref-for-fencedframeconfig①⑨"><c- n>FencedFrameConfig</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-fence-getnestedconfigs" id="ref-for-dom-fence-getnestedconfigs"><c- g>getNestedConfigs</c-></a>();
};
</pre>
   <div class="algorithm" data-algorithm="reportEvent(event)" data-algorithm-for="Fence">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="Fence" data-dfn-type="method" data-export data-lt="reportEvent(event)|reportEvent()" id="dom-fence-reportevent"><code>reportEvent(<var>event</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>Let <var>instance</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①②">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global③">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-bc" id="ref-for-window-bc①">browsing context</a>'s <a data-link-type="dfn" href="#browsing-context-fenced-frame-config-instance" id="ref-for-browsing-context-fenced-frame-config-instance②">fenced frame config instance</a>.</p>
     <li data-md>
      <p>If <var>instance</var> is null, then return.</p>
     <li data-md>
      <p>If <var>instance</var>’s <a data-link-type="dfn" href="#fenced-frame-config-instance-is-ad-component" id="ref-for-fenced-frame-config-instance-is-ad-component①">is ad component</a> is true, then return.</p>
     <li data-md>
      <p>If <var>instance</var>’s <a data-link-type="dfn" href="#fenced-frame-config-instance-fenced-frame-reporter" id="ref-for-fenced-frame-config-instance-fenced-frame-reporter①">fenced frame reporter</a> is null, then return.</p>
     <li data-md>
      <p>If <var>event</var> is a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString⑦">DOMString</a></code>:</p>
      <ol>
       <li data-md>
        <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①③">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object①">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin①">origin</a> and <var>instance</var>’s <a data-link-type="dfn" href="#fenced-frame-config-instance-mapped-url" id="ref-for-fenced-frame-config-instance-mapped-url②">mapped url</a>'s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin②">origin</a> are not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin②">same
  origin</a>, then return.</p>
       <li data-md>
        <p>Run <a data-link-type="dfn" href="#report-a-private-aggregation-event" id="ref-for-report-a-private-aggregation-event">report a private aggregation event</a> using <var>instance</var>’s <a data-link-type="dfn" href="#fenced-frame-config-instance-fenced-frame-reporter" id="ref-for-fenced-frame-config-instance-fenced-frame-reporter②">fenced frame reporter</a> with <var>event</var>.</p>
      </ol>
     <li data-md>
      <p>If <var>event</var> is a <code class="idl"><a data-link-type="idl" href="#dictdef-fenceevent" id="ref-for-dictdef-fenceevent②">FenceEvent</a></code>:</p>
      <ol>
       <li data-md>
        <p>If <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fenceevent-eventtype" id="ref-for-dom-fenceevent-eventtype②">eventType</a></code> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-starts-with" id="ref-for-string-starts-with②">starts with</a> "<code>reserved.</code>", then return.</p>
       <li data-md>
        <p>If all of the following conditions are true:</p>
        <ul>
         <li data-md>
          <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①④">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object②">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin②">origin</a> and <var>instance</var>’s <a data-link-type="dfn" href="#fenced-frame-config-instance-mapped-url" id="ref-for-fenced-frame-config-instance-mapped-url③">mapped url</a>'s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin③">origin</a> are not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin③">same
origin</a>;</p>
         <li data-md>
          <p>either <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fenceevent-crossoriginexposed" id="ref-for-dom-fenceevent-crossoriginexposed">crossOriginExposed</a></code> is false or <var>instance</var>’s <a data-link-type="dfn" href="#fenced-frame-config-instance-cross-origin-reporting-allowed" id="ref-for-fenced-frame-config-instance-cross-origin-reporting-allowed①">cross-origin reporting allowed</a> is false;</p>
        </ul>
        <p>then return.</p>
       <li data-md>
        <p>If <var>event</var> has a <code class="idl"><a data-link-type="idl" href="#dom-fenceevent-destinationurl" id="ref-for-dom-fenceevent-destinationurl">destinationURL</a></code>:</p>
        <ol>
         <li data-md>
          <p>If <var>event</var> has a <code class="idl"><a data-link-type="idl" href="#dom-fenceevent-destination" id="ref-for-dom-fenceevent-destination">destination</a></code> or a <code class="idl"><a data-link-type="idl" href="#dom-fenceevent-eventtype" id="ref-for-dom-fenceevent-eventtype③">eventType</a></code> or a <code class="idl"><a data-link-type="idl" href="#dom-fenceevent-eventdata" id="ref-for-dom-fenceevent-eventdata">eventData</a></code>:</p>
          <ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw④">Throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror④">TypeError</a></code>.</p>
          </ol>
         <li data-md>
          <p>Let <var>destinationURL</var> be the result of running the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser" id="ref-for-concept-url-parser①">URL parser</a> on <code class="idl"><a data-link-type="idl" href="#dom-fenceevent-destinationurl" id="ref-for-dom-fenceevent-destinationurl①">destinationURL</a></code>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑤">Throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑤">TypeError</a></code> if any of the following conditions hold:</p>
          <ul>
           <li data-md>
            <p><var>destinationURL</var> is failure;</p>
           <li data-md>
            <p><var>destinationURL</var> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme">scheme</a> is not "<code>https</code>";</p>
          </ul>
         <li data-md>
          <p>Run <a data-link-type="dfn" href="#report-an-event" id="ref-for-report-an-event①">report an event</a> using <var>instance</var>’s <a data-link-type="dfn" href="#fenced-frame-config-instance-fenced-frame-reporter" id="ref-for-fenced-frame-config-instance-fenced-frame-reporter③">fenced frame
 reporter</a> with <code class="idl"><a data-link-type="idl" href="#dom-fencereportingdestination-buyer" id="ref-for-dom-fencereportingdestination-buyer">buyer</a></code> and a <a data-link-type="dfn" href="#fencedframetype-destination-url-event" id="ref-for-fencedframetype-destination-url-event④">destination URL event</a> that is <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fenceevent-destinationurl" id="ref-for-dom-fenceevent-destinationurl②">destinationURL</a></code>.</p>
        </ol>
       <li data-md>
        <p>Otherwise:</p>
        <ol>
         <li data-md>
          <p>If <var>event</var> does not have a <code class="idl"><a data-link-type="idl" href="#dom-fenceevent-destination" id="ref-for-dom-fenceevent-destination①">destination</a></code> or <var>event</var> does not have a <code class="idl"><a data-link-type="idl" href="#dom-fenceevent-eventtype" id="ref-for-dom-fenceevent-eventtype④">eventType</a></code>:</p>
          <ol>
           <li data-md>
            <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑥">Throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑥">TypeError</a></code>.</p>
          </ol>
         <li data-md>
          <p>Let <var>document</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑤">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global④">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window">associated Document</a>.</p>
         <li data-md>
          <p>Let <var>attributionReportingEnabled</var> be the result of determining whether <var>document</var> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" id="ref-for-allowed-to-use">allowed to use</a> the "<code><code class="idl"><a data-link-type="idl" href="https://wicg.github.io/attribution-reporting-api/#dom-permissionpolicy-attribution-reporting" id="ref-for-dom-permissionpolicy-attribution-reporting">attribution-reporting</a></code></code>" feature.</p>
         <li data-md>
          <p>Let <var>attributionReportingContextOrigin</var> be <var>document</var>’s <a data-link-type="dfn" href="https://wicg.github.io/attribution-reporting-api/#node-context-origin" id="ref-for-node-context-origin">context origin</a>.</p>
         <li data-md>
          <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②">For each</a> <var>destination</var> of <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fenceevent-destination" id="ref-for-dom-fenceevent-destination②">destination</a></code>:</p>
          <ol>
           <li data-md>
            <p>Run <a data-link-type="dfn" href="#report-an-event" id="ref-for-report-an-event②">report an event</a> using <var>instance</var>’s <a data-link-type="dfn" href="#fenced-frame-config-instance-fenced-frame-reporter" id="ref-for-fenced-frame-config-instance-fenced-frame-reporter④">fenced frame
 reporter</a> with <var>destination</var> and a <a data-link-type="dfn" href="#fencedframetype-destination-enum-event" id="ref-for-fencedframetype-destination-enum-event④">destination enum event</a> with the
 following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item②①">items</a>:</p>
            <dl>
             <dt data-md><a data-link-type="dfn" href="#destination-enum-event-type" id="ref-for-destination-enum-event-type①">type</a>
             <dd data-md>
              <p><var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fenceevent-eventtype" id="ref-for-dom-fenceevent-eventtype⑤">eventType</a></code></p>
             <dt data-md><a data-link-type="dfn" href="#destination-enum-event-data" id="ref-for-destination-enum-event-data①">data</a>
             <dd data-md>
              <p><var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fenceevent-eventdata" id="ref-for-dom-fenceevent-eventdata①">eventData</a></code> (or the empty string if it is not defined).</p>
            </dl>
          </ol>
          <dl>
           <dt data-md><a data-link-type="dfn" href="#destination-enum-event-attributionreportingenabled" id="ref-for-destination-enum-event-attributionreportingenabled①">attributionReportingEnabled</a>
           <dd data-md>
            <p><var>attributionReportingEnabled</var></p>
           <dt data-md><a data-link-type="dfn" href="#destination-enum-event-attributionreportingcontextorigin" id="ref-for-destination-enum-event-attributionreportingcontextorigin②">attributionReportingContextOrigin</a>
           <dd data-md>
            <p><var>attributionReportingContextOrigin</var></p>
          </dl>
        </ol>
      </ol>
    </ol>
    <details class="wpt-tests-block" dir="ltr" lang="en" open>
     <summary>Tests</summary>
     <ul class="wpt-tests-list">
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/fence-report-event.https.html" title="fenced-frame/fence-report-event.https.html">fence-report-event.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/fence-report-event.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/fence-report-event.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/fence-report-event-destination-url.https.html" title="fenced-frame/fence-report-event-destination-url.https.html">fence-report-event-destination-url.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/fence-report-event-destination-url.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/fence-report-event-destination-url.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/fence-report-event-cross-origin-content-initiated.https.html" title="fenced-frame/fence-report-event-cross-origin-content-initiated.https.html">fence-report-event-cross-origin-content-initiated.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/fence-report-event-cross-origin-content-initiated.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/fence-report-event-cross-origin-content-initiated.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/fence-report-event-cross-origin-nested-urn-iframe.https.html" title="fenced-frame/fence-report-event-cross-origin-nested-urn-iframe.https.html">fence-report-event-cross-origin-nested-urn-iframe.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/fence-report-event-cross-origin-nested-urn-iframe.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/fence-report-event-cross-origin-nested-urn-iframe.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/fence-report-event-cross-origin-nested.https.html" title="fenced-frame/fence-report-event-cross-origin-nested.https.html">fence-report-event-cross-origin-nested.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/fence-report-event-cross-origin-nested.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/fence-report-event-cross-origin-nested.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/fence-report-event-cross-origin-no-embedder-opt-in.https.html" title="fenced-frame/fence-report-event-cross-origin-no-embedder-opt-in.https.html">fence-report-event-cross-origin-no-embedder-opt-in.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/fence-report-event-cross-origin-no-embedder-opt-in.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/fence-report-event-cross-origin-no-embedder-opt-in.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/fence-report-event-cross-origin-no-subframe-opt-in.https.html" title="fenced-frame/fence-report-event-cross-origin-no-subframe-opt-in.https.html">fence-report-event-cross-origin-no-subframe-opt-in.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/fence-report-event-cross-origin-no-subframe-opt-in.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/fence-report-event-cross-origin-no-subframe-opt-in.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/fence-report-event-cross-origin-urn-iframe-content-initiated.https.html" title="fenced-frame/fence-report-event-cross-origin-urn-iframe-content-initiated.https.html">fence-report-event-cross-origin-urn-iframe-content-initiated.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/fence-report-event-cross-origin-urn-iframe-content-initiated.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/fence-report-event-cross-origin-urn-iframe-content-initiated.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/fence-report-event-cross-origin-urn-iframe-no-embedder-opt-in.https.html" title="fenced-frame/fence-report-event-cross-origin-urn-iframe-no-embedder-opt-in.https.html">fence-report-event-cross-origin-urn-iframe-no-embedder-opt-in.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/fence-report-event-cross-origin-urn-iframe-no-embedder-opt-in.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/fence-report-event-cross-origin-urn-iframe-no-embedder-opt-in.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/fence-report-event-cross-origin-urn-iframe-no-subframe-opt-in.https.html" title="fenced-frame/fence-report-event-cross-origin-urn-iframe-no-subframe-opt-in.https.html">fence-report-event-cross-origin-urn-iframe-no-subframe-opt-in.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/fence-report-event-cross-origin-urn-iframe-no-subframe-opt-in.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/fence-report-event-cross-origin-urn-iframe-no-subframe-opt-in.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/fence-report-event-cross-origin-urn-iframe.https.html" title="fenced-frame/fence-report-event-cross-origin-urn-iframe.https.html">fence-report-event-cross-origin-urn-iframe.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/fence-report-event-cross-origin-urn-iframe.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/fence-report-event-cross-origin-urn-iframe.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/fence-report-event-cross-origin.sub.https.html" title="fenced-frame/fence-report-event-cross-origin.sub.https.html">fence-report-event-cross-origin.sub.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/fence-report-event-cross-origin.sub.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/fence-report-event-cross-origin.sub.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/fence-report-event-sub-fencedframe.https.html" title="fenced-frame/fence-report-event-sub-fencedframe.https.html">fence-report-event-sub-fencedframe.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/fence-report-event-sub-fencedframe.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/fence-report-event-sub-fencedframe.https.html"><small>(source)</small></a>
     </ul>
    </details>
   </div>
   <div class="algorithm" data-algorithm="setReportEventDataForAutomaticBeacons(event)" data-algorithm-for="Fence">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="Fence" data-dfn-type="method" data-export data-lt="setReportEventDataForAutomaticBeacons(event)|setReportEventDataForAutomaticBeacons()" id="dom-fence-setreporteventdataforautomaticbeacons"><code>setReportEventDataForAutomaticBeacons(<var>event</var>)</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>If <var>event</var> does not have a <code class="idl"><a data-link-type="idl" href="#dom-fenceevent-destination" id="ref-for-dom-fenceevent-destination③">destination</a></code> or <var>event</var> does not have a <code class="idl"><a data-link-type="idl" href="#dom-fenceevent-eventtype" id="ref-for-dom-fenceevent-eventtype⑥">eventType</a></code>:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#dfn-throw" id="ref-for-dfn-throw⑦">Throw</a> a <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror⑦">TypeError</a></code>.</p>
      </ol>
     <li data-md>
      <p>If <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fenceevent-eventtype" id="ref-for-dom-fenceevent-eventtype⑦">eventType</a></code> does not match one of the <a data-link-type="dfn" href="#fencedframetype-automatic-beacon-event-type" id="ref-for-fencedframetype-automatic-beacon-event-type②">automatic
 beacon event type</a> values, return.</p>
     <li data-md>
      <p>Let <var>instance</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑥">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global⑤">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-bc" id="ref-for-window-bc②">browsing context</a>'s <a data-link-type="dfn" href="#browsing-context-fenced-frame-config-instance" id="ref-for-browsing-context-fenced-frame-config-instance③">fenced frame config instance</a>.</p>
     <li data-md>
      <p>If <var>instance</var> is null, then return.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑦">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object③">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin③">origin</a> and <var>instance</var>’s <a data-link-type="dfn" href="#fenced-frame-config-instance-mapped-url" id="ref-for-fenced-frame-config-instance-mapped-url④">mapped url</a>'s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin④">origin</a> are not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin④">same
 origin</a>, then return.</p>
     <li data-md>
      <p>If <var>instance</var>’s <a data-link-type="dfn" href="#fenced-frame-config-instance-fenced-frame-reporter" id="ref-for-fenced-frame-config-instance-fenced-frame-reporter⑤">fenced frame reporter</a> is null, then return.</p>
     <li data-md>
      <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑧">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global⑥">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window" id="ref-for-concept-document-window①">associated Document</a>'s <a data-link-type="dfn" href="#document-automatic-beacon-data-map" id="ref-for-document-automatic-beacon-data-map">automatic
 beacon data map</a>[<var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fenceevent-eventtype" id="ref-for-dom-fenceevent-eventtype⑧">eventType</a></code>] to an <a data-link-type="dfn" href="#fencedframetype-automatic-beacon-data" id="ref-for-fencedframetype-automatic-beacon-data">automatic beacon
 data</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item②②">items</a>:</p>
      <dl>
       <dt data-md><a data-link-type="dfn" href="#automatic-beacon-data-eventdata" id="ref-for-automatic-beacon-data-eventdata">eventData</a>
       <dd data-md>
        <p><var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fenceevent-eventdata" id="ref-for-dom-fenceevent-eventdata②">eventData</a></code> if defined and <var>instance</var>’s <a data-link-type="dfn" href="#fenced-frame-config-instance-is-ad-component" id="ref-for-fenced-frame-config-instance-is-ad-component②">is ad component</a> is false, otherwise empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑧">string</a>.</p>
       <dt data-md><a data-link-type="dfn" href="#automatic-beacon-data-destination" id="ref-for-automatic-beacon-data-destination">destination</a>
       <dd data-md>
        <p><var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fenceevent-destination" id="ref-for-dom-fenceevent-destination④">destination</a></code></p>
       <dt data-md><a data-link-type="dfn" href="#automatic-beacon-data-once" id="ref-for-automatic-beacon-data-once">once</a>
       <dd data-md>
        <p><var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fenceevent-once" id="ref-for-dom-fenceevent-once">once</a></code></p>
       <dt data-md><a data-link-type="dfn" href="#automatic-beacon-data-crossoriginexposed" id="ref-for-automatic-beacon-data-crossoriginexposed">crossOriginExposed</a>
       <dd data-md>
        <p><var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-fenceevent-crossoriginexposed" id="ref-for-dom-fenceevent-crossoriginexposed①">crossOriginExposed</a></code></p>
      </dl>
    </ol>
    <details class="wpt-tests-block" dir="ltr" lang="en" open>
     <summary>Tests</summary>
     <ul class="wpt-tests-list">
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/set-automatic-beacon.https.html" title="fenced-frame/set-automatic-beacon.https.html">set-automatic-beacon.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/set-automatic-beacon.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/set-automatic-beacon.https.html"><small>(source)</small></a>
     </ul>
    </details>
   </div>
   <div class="algorithm" data-algorithm="getNestedConfigs()" data-algorithm-for="Fence">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="Fence" data-dfn-type="method" data-export id="dom-fence-getnestedconfigs"><code>getNestedConfigs()</code></dfn> method steps are: 
    <ol>
     <li data-md>
      <p>Let <var>instance</var> be <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑨">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global⑦">relevant global object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-bc" id="ref-for-window-bc③">browsing context</a>'s <a data-link-type="dfn" href="#browsing-context-fenced-frame-config-instance" id="ref-for-browsing-context-fenced-frame-config-instance④">fenced frame config instance</a>.</p>
     <li data-md>
      <p>If <var>instance</var> is null, then return.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②⓪">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object④">relevant settings object</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin" id="ref-for-concept-settings-object-origin④">origin</a> and <var>instance</var>’s <a data-link-type="dfn" href="#fenced-frame-config-instance-mapped-url" id="ref-for-fenced-frame-config-instance-mapped-url⑤">mapped url</a>'s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin⑤">origin</a> are not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin⑤">same
 origin</a>, then return.</p>
     <li data-md>
      <p>If <var>instance</var>’s <a data-link-type="dfn" href="#fenced-frame-config-instance-nested-configs" id="ref-for-fenced-frame-config-instance-nested-configs④">nested configs</a> is null, then return.</p>
     <li data-md>
      <p>Let <var>results</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①②">list</a> of <code class="idl"><a data-link-type="idl" href="#fencedframeconfig" id="ref-for-fencedframeconfig②⓪">FencedFrameConfig</a></code>s.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate③">For each</a> <var>urn</var> → <var>config</var> of <var>instance</var>’s <a data-link-type="dfn" href="#fenced-frame-config-instance-nested-configs" id="ref-for-fenced-frame-config-instance-nested-configs⑤">nested
 configs</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>newConfig</var> be a <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#new" id="ref-for-new①">new</a> <code class="idl"><a data-link-type="idl" href="#fencedframeconfig" id="ref-for-fencedframeconfig②①">FencedFrameConfig</a></code> object created in <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②①">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm" id="ref-for-concept-relevant-realm">relevant
  realm</a>, with the following:</p>
        <dl>
         <dt data-md><a data-link-type="dfn" href="#fencedframeconfig-urn" id="ref-for-fencedframeconfig-urn⑧">urn</a>
         <dd data-md>
          <p><var>urn</var></p>
         <dt data-md><a data-link-type="dfn" href="#fencedframeconfig-sharedstoragecontext" id="ref-for-fencedframeconfig-sharedstoragecontext④">sharedStorageContext</a>
         <dd data-md>
          <p><var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-embedder-shared-storage-context" id="ref-for-fenced-frame-config-embedder-shared-storage-context①">embedder shared storage context</a></p>
         <dt data-md><a data-link-type="dfn" href="#fencedframeconfig-containerwidth" id="ref-for-fencedframeconfig-containerwidth③">containerWidth</a>
         <dd data-md>
          <p>null if <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-container-size" id="ref-for-fenced-frame-config-container-size②">container size</a> is null, otherwise <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-container-size" id="ref-for-fenced-frame-config-container-size③">container size</a>'s <a data-link-type="dfn" href="#size-width" id="ref-for-size-width">width</a></p>
         <dt data-md><a data-link-type="dfn" href="#fencedframeconfig-containerheight" id="ref-for-fencedframeconfig-containerheight③">containerHeight</a>
         <dd data-md>
          <p>null if <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-container-size" id="ref-for-fenced-frame-config-container-size④">container size</a> is null, otherwise <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-container-size" id="ref-for-fenced-frame-config-container-size⑤">container size</a>'s <a data-link-type="dfn" href="#size-height" id="ref-for-size-height">height</a></p>
         <dt data-md><a data-link-type="dfn" href="#fencedframeconfig-contentwidth" id="ref-for-fencedframeconfig-contentwidth③">contentWidth</a>
         <dd data-md>
          <p>null if <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-content-size" id="ref-for-fenced-frame-config-content-size③">content size</a> is null, the <code>"opaque"</code> <code class="idl"><a data-link-type="idl" href="#enumdef-opaqueproperty" id="ref-for-enumdef-opaqueproperty①">OpaqueProperty</a></code> if <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-content-size" id="ref-for-fenced-frame-config-content-size④">content size</a>'s <a data-link-type="dfn" href="#content-size-visibility" id="ref-for-content-size-visibility">visibility</a> is <a data-link-type="dfn" href="#visibility-opaque" id="ref-for-visibility-opaque">opaque</a>, otherwise <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-content-size" id="ref-for-fenced-frame-config-content-size⑤">content size</a>'s <a data-link-type="dfn" href="#size-width" id="ref-for-size-width①">width</a></p>
         <dt data-md><a data-link-type="dfn" href="#fencedframeconfig-contentheight" id="ref-for-fencedframeconfig-contentheight③">contentHeight</a>
         <dd data-md>
          <p>null if <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-content-size" id="ref-for-fenced-frame-config-content-size⑥">content size</a> is null, the <code>"opaque"</code> <code class="idl"><a data-link-type="idl" href="#enumdef-opaqueproperty" id="ref-for-enumdef-opaqueproperty②">OpaqueProperty</a></code> if <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-content-size" id="ref-for-fenced-frame-config-content-size⑦">content size</a>'s <a data-link-type="dfn" href="#content-size-visibility" id="ref-for-content-size-visibility①">visibility</a> is <a data-link-type="dfn" href="#visibility-opaque" id="ref-for-visibility-opaque①">opaque</a>, otherwise <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-content-size" id="ref-for-fenced-frame-config-content-size⑧">content size</a>'s <a data-link-type="dfn" href="#size-height" id="ref-for-size-height①">height</a></p>
        </dl>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append②">Append</a> <var>newConfig</var> to <var>results</var>.</p>
      </ol>
     <li data-md>
      <p>Return <var>results</var>.</p>
    </ol>
    <details class="wpt-tests-block" dir="ltr" lang="en" open>
     <summary>Tests</summary>
     <ul class="wpt-tests-list">
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/get-nested-configs.https.html" title="fenced-frame/get-nested-configs.https.html">get-nested-configs.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/get-nested-configs.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/get-nested-configs.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/config-cross-origin-apis.https.html" title="fenced-frame/config-cross-origin-apis.https.html">config-cross-origin-apis.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/config-cross-origin-apis.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/config-cross-origin-apis.https.html"><small>(source)</small></a>
     </ul>
    </details>
   </div>
   <h3 class="heading settled" data-level="2.5" id="new-request-destination"><span class="secno">2.5. </span><span class="content">New <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request①">request</a> <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-destination" id="ref-for-concept-request-destination">destination</a></span><a class="self-link" href="#new-request-destination"></a></h3>
   <p>The processing model of a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe②⑧">fencedframe</a></code>'s navigation request deviates from that of the normal <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#navigation-request" id="ref-for-navigation-request">navigation request</a> in enough ways to justify a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request②">request</a> <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-destination" id="ref-for-concept-request-destination①">destination</a> value.
This specification updates the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request" id="ref-for-concept-request③">request</a> <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-destination" id="ref-for-concept-request-destination②">destination</a> enumeration to include a new
entry, "<code>fencedframe</code>". Perform the following monkeypatches to the <a data-link-type="biblio" href="#biblio-fetch" title="Fetch Standard">[FETCH]</a> Standard.</p>
   <p>Add "<code>fencedframe</code>" to the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#non-subresource-request" id="ref-for-non-subresource-request">non-subresource request</a> list and to the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#navigation-request" id="ref-for-navigation-request①">navigation
request</a> list.</p>
   <p>Add "<code>fencedframe</code>" to the <code class="idl"><a data-link-type="idl" href="https://fetch.spec.whatwg.org/#requestdestination" id="ref-for-requestdestination">RequestDestination</a></code> enum.</p>
   <div class="algorithm" data-algorithm="fetch-destination-patch">
     In the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch" id="ref-for-concept-fetch②">fetch</a> algorithm, step 13.2, where it says: 
    <blockquote>
     <p>A user agent should set value to the first matching statement, if any, switching on request’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-destination" id="ref-for-concept-request-destination③">destination</a>:</p>
    </blockquote>
    <p>Add "<code>fencedframe</code>" to the switch cases alongside "<code>document</code>",
  "<code>frame</code>", and "<code>iframe</code>".</p>
    <details class="wpt-tests-block" dir="ltr" lang="en" open>
     <summary>Tests</summary>
     <ul class="wpt-tests-list">
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/header-secFetchDest.https.html" title="fenced-frame/header-secFetchDest.https.html">header-secFetchDest.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/header-secFetchDest.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/header-secFetchDest.https.html"><small>(source)</small></a>
     </ul>
    </details>
   </div>
   <p>Non-normatively, update the DOM intro <a href="https://fetch.spec.whatwg.org/#destination-table">destination
table</a> to illustrate that <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe②⑨">fencedframe</a></code> <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#navigation-request" id="ref-for-navigation-request②">navigation requests</a> have the following properties:</p>
   <ul>
    <li data-md>
     <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-destination" id="ref-for-concept-request-destination④">destination</a> of "<code>fencedframe</code>"</p>
    <li data-md>
     <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-initiator" id="ref-for-concept-request-initiator">initiator</a> ""</p>
    <li data-md>
     <p>CSP directive of <code>fenced-frame-src</code></p>
    <li data-md>
     <p>Features as HTML’s <code>&lt;fencedframe></code></p>
   </ul>
   <h3 class="heading settled" data-level="2.6" id="automatic-reporting"><span class="secno">2.6. </span><span class="content">Automatic Reporting</span><a class="self-link" href="#automatic-reporting"></a></h3>
   <p><em>This first introductory paragraph is non-normative.</em></p>
   <p>A side effect of the fenced boundary model is that ads will lose the ability to know if a click
resulted in a successful navigation. This is because the page loaded from a top-level <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate②"> navigation</a> originating from a fenced frame will not be allowed to report to the fenced frame that
it loaded (through something like <code>window.<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-opener" id="ref-for-dom-opener">opener</a></code>). Instead, we introduce
special event-level <a data-link-type="dfn" href="#automatic-beacon-event-type" id="ref-for-automatic-beacon-event-type①">reporting type</a>s, <code><a data-link-type="dfn" href="#automatic-beacon-event-type-reservedtop_navigation_start" id="ref-for-automatic-beacon-event-type-reservedtop_navigation_start">reserved.top_navigation_start</a></code> and <code><a data-link-type="dfn" href="#automatic-beacon-event-type-reservedtop_navigation_commit" id="ref-for-automatic-beacon-event-type-reservedtop_navigation_commit①">reserved.top_navigation_commit</a></code>, which automatically sends an <a data-link-type="dfn" href="#report-an-event" id="ref-for-report-an-event③">event-level beacon</a> when a fenced frame initiates a successful <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate③">navigation</a> to a <a data-link-type="dfn" href="#top-level-traversable" id="ref-for-top-level-traversable">top-level traversable</a>.</p>
   <div class="algorithm" data-algorithm="attempt to send an automatic beacon">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="attempt-to-send-an-automatic-beacon">attempt to send an automatic beacon</dfn> given a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params" id="ref-for-source-snapshot-params">source snapshot params</a> <var>sourceSnapshotParams</var>, an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin⑥">origin</a> <var>sourceOrigin</var>, a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑦">Document</a></code> <var>targetDocument</var>, and an <a data-link-type="dfn" href="#fencedframetype-automatic-beacon-event-type" id="ref-for-fencedframetype-automatic-beacon-event-type③">automatic beacon event type</a> <var>eventType</var>, run these steps: 
    <ol>
     <li data-md>
      <p>If <var>targetDocument</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable">node navigable</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable①">traversable navigable</a> is not a <a data-link-type="dfn" href="#top-level-traversable" id="ref-for-top-level-traversable①">top-level
 traversable</a>, abort these steps.</p>
     <li data-md>
      <p>If <var>sourceSnapshotParams</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params-activation" id="ref-for-source-snapshot-params-activation">has transient activation</a> is set to
 false, abort these steps.</p>
     <li data-md>
      <p>Let <var>config</var> be <var>sourceSnapshotParams</var>’s <a data-link-type="dfn" href="#source-snapshot-params-initiator-fenced-frame-config-instance" id="ref-for-source-snapshot-params-initiator-fenced-frame-config-instance">initiator fenced frame config
 instance</a>.</p>
     <li data-md>
      <p>If <var>config</var> is null, abort these steps.</p>
      <p class="note" role="note"><span class="marker">Note:</span> Since this algorithm is called unconditionally for all navigations, this is used to catch
 cases where a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate④">navigation</a> to a <a data-link-type="dfn" href="#top-level-traversable" id="ref-for-top-level-traversable②">top-level traversable</a> does not originate from a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe③⓪">fencedframe</a></code>.</p>
     <li data-md>
      <p>Let <var>beacon data</var> be <var>sourceSnapshotParams</var>’s <a data-link-type="dfn" href="#source-snapshot-params-automatic-beacon-data-map" id="ref-for-source-snapshot-params-automatic-beacon-data-map">automatic beacon data
 map</a>[<var>eventType</var>].</p>
     <li data-md>
      <p>Let <var>has header opt in</var> be <var>sourceSnapshotParams</var>’s <a data-link-type="dfn" href="#source-snapshot-params-automatic-beacons-allowed" id="ref-for-source-snapshot-params-automatic-beacons-allowed">automatic beacons
 allowed</a>.</p>
     <li data-md>
      <p>If <var>beacon data</var> is null and <var>has header opt in</var> is false, abort these steps.</p>
     <li data-md>
      <p>Let <var>is cross origin</var> be true if <var>sourceOrigin</var> is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin⑥">same origin</a> with <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-instance-mapped-url" id="ref-for-fenced-frame-config-instance-mapped-url⑥">mapped url</a>'s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin⑥">origin</a>, false otherwise.</p>
     <li data-md>
      <p>If <var>is cross origin</var> is true and <var>has header opt in</var> is false, abort these steps.</p>
     <li data-md>
      <p>Let <var>should send beacon with data</var> be true if <var>beacon data</var> is not null and either <var>is cross origin</var> is false or <var>beacon data</var>’s <a data-link-type="dfn" href="#automatic-beacon-data-crossoriginexposed" id="ref-for-automatic-beacon-data-crossoriginexposed①">crossOriginExposed</a> is
 true, false otherwise.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③">For each</a> <var>destination</var> of <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-instance-fenced-frame-reporter" id="ref-for-fenced-frame-config-instance-fenced-frame-reporter⑥">fenced frame
 reporter</a>'s <a data-link-type="dfn" href="#fenced-frame-reporter-fenced-frame-reporting-metadata-reference" id="ref-for-fenced-frame-reporter-fenced-frame-reporting-metadata-reference②">fenced frame reporting metadata reference</a>'s <a data-link-type="dfn" href="#fencedframetype-fenced-frame-reporting-map" id="ref-for-fencedframetype-fenced-frame-reporting-map③">fenced frame reporting map</a>'s <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①⓪">keys</a>:</p>
      <ol>
       <li data-md>
        <p>Run <a data-link-type="dfn" href="#report-an-event" id="ref-for-report-an-event④">report an event</a> using <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-instance-fenced-frame-reporter" id="ref-for-fenced-frame-config-instance-fenced-frame-reporter⑦">fenced frame
 reporter</a> with <var>destination</var> and an <a data-link-type="dfn" href="#fencedframetype-automatic-beacon-event" id="ref-for-fencedframetype-automatic-beacon-event②">automatic beacon event</a> with the
 following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item②③">items</a>:</p>
        <dl>
         <dt data-md><a data-link-type="dfn" href="#automatic-beacon-event-type" id="ref-for-automatic-beacon-event-type②">type</a>
         <dd data-md>
          <p><var>eventType</var></p>
         <dt data-md><a data-link-type="dfn" href="#automatic-beacon-event-data" id="ref-for-automatic-beacon-event-data">data</a>
         <dd data-md>
          <p><var>beacon data</var>’s <a data-link-type="dfn" href="#automatic-beacon-data-eventdata" id="ref-for-automatic-beacon-data-eventdata①">eventData</a> if <var>should send beacon with data</var> is
  true, <var>beacon data</var>’s <a data-link-type="dfn" href="#automatic-beacon-data-destination" id="ref-for-automatic-beacon-data-destination①">destinations</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain">contains</a> <var>destination</var>, and <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-instance-is-ad-component" id="ref-for-fenced-frame-config-instance-is-ad-component③">is ad component</a> is false,
  the empty string otherwise.</p>
         <dt data-md><a data-link-type="dfn" href="#automatic-beacon-event-attributionreportingenabled" id="ref-for-automatic-beacon-event-attributionreportingenabled">attributionReportingEnabled</a>
         <dd data-md>
          <p><var>sourceSnapshotParams</var>’s <a data-link-type="dfn" href="#source-snapshot-params-attribution-reporting-enabled" id="ref-for-source-snapshot-params-attribution-reporting-enabled">attribution reporting enabled</a></p>
         <dt data-md><a data-link-type="dfn" href="#automatic-beacon-event-attributionreportingcontextorigin" id="ref-for-automatic-beacon-event-attributionreportingcontextorigin">attributionReportingContextOrigin</a>
         <dd data-md>
          <p><var>sourceSnapshotParams</var>’s <a data-link-type="dfn" href="#source-snapshot-params-attribution-reporting-context-origin" id="ref-for-source-snapshot-params-attribution-reporting-context-origin">attribution reporting context origin</a></p>
        </dl>
      </ol>
     <li data-md>
      <p>If <var>beacon data</var>’s <a data-link-type="dfn" href="#automatic-beacon-data-once" id="ref-for-automatic-beacon-data-once①">once</a> is true, set <var>sourceSnapshotParams</var>’s <a data-link-type="dfn" href="#source-snapshot-params-automatic-beacon-data-map" id="ref-for-source-snapshot-params-automatic-beacon-data-map①">automatic beacon data map</a>[<var>eventType</var>] to null.</p>
    </ol>
    <details class="wpt-tests-block" dir="ltr" lang="en" open>
     <summary>Tests</summary>
     <ul class="wpt-tests-list">
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/automatic-beacon-anchor-click-handler.https.html" title="fenced-frame/automatic-beacon-anchor-click-handler.https.html">automatic-beacon-anchor-click-handler.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/automatic-beacon-anchor-click-handler.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/automatic-beacon-anchor-click-handler.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/automatic-beacon-click-handler.https.html" title="fenced-frame/automatic-beacon-click-handler.https.html">automatic-beacon-click-handler.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/automatic-beacon-click-handler.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/automatic-beacon-click-handler.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/automatic-beacon-two-events-clear.https.html" title="fenced-frame/automatic-beacon-two-events-clear.https.html">automatic-beacon-two-events-clear.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/automatic-beacon-two-events-clear.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/automatic-beacon-two-events-clear.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/automatic-beacon-two-events-persist.https.html" title="fenced-frame/automatic-beacon-two-events-persist.https.html">automatic-beacon-two-events-persist.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/automatic-beacon-two-events-persist.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/automatic-beacon-two-events-persist.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/automatic-beacon-unfenced-top.https.html" title="fenced-frame/automatic-beacon-unfenced-top.https.html">automatic-beacon-unfenced-top.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/automatic-beacon-unfenced-top.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/automatic-beacon-unfenced-top.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/automatic-beacon-no-destination.https.html" title="fenced-frame/automatic-beacon-no-destination.https.html">automatic-beacon-no-destination.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/automatic-beacon-no-destination.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/automatic-beacon-no-destination.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/automatic-beacon-no-opt-in.https.html" title="fenced-frame/automatic-beacon-no-opt-in.https.html">automatic-beacon-no-opt-in.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/automatic-beacon-no-opt-in.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/automatic-beacon-no-opt-in.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/automatic-beacon-shared-storage.https.html" title="fenced-frame/automatic-beacon-shared-storage.https.html">automatic-beacon-shared-storage.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/automatic-beacon-shared-storage.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/automatic-beacon-shared-storage.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/automatic-beacon-cross-origin-false.https.html" title="fenced-frame/automatic-beacon-cross-origin-false.https.html">automatic-beacon-cross-origin-false.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/automatic-beacon-cross-origin-false.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/automatic-beacon-cross-origin-false.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/automatic-beacon-cross-origin-navigation.https.html" title="fenced-frame/automatic-beacon-cross-origin-navigation.https.html">automatic-beacon-cross-origin-navigation.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/automatic-beacon-cross-origin-navigation.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/automatic-beacon-cross-origin-navigation.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/automatic-beacon-cross-origin-no-data.https.html" title="fenced-frame/automatic-beacon-cross-origin-no-data.https.html">automatic-beacon-cross-origin-no-data.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/automatic-beacon-cross-origin-no-data.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/automatic-beacon-cross-origin-no-data.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/automatic-beacon-cross-origin-no-opt-in.https.html" title="fenced-frame/automatic-beacon-cross-origin-no-opt-in.https.html">automatic-beacon-cross-origin-no-opt-in.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/automatic-beacon-cross-origin-no-opt-in.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/automatic-beacon-cross-origin-no-opt-in.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/automatic-beacon-use-ancestor-data.https.html" title="fenced-frame/automatic-beacon-use-ancestor-data.https.html">automatic-beacon-use-ancestor-data.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/automatic-beacon-use-ancestor-data.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/automatic-beacon-use-ancestor-data.https.html"><small>(source)</small></a>
     </ul>
    </details>
   </div>
   <div class="algorithm" data-algorithm="top_navigation_start beacon patch">
     Modify <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate⑤">navigate</a> algorithm. Add a new step after step 4 that reads: 
    <ol start="5">
     <li data-md>
      <p><a data-link-type="dfn" href="#attempt-to-send-an-automatic-beacon" id="ref-for-attempt-to-send-an-automatic-beacon">Attempt to send an automatic beacon</a> given <var>sourceSnapshotParams</var>, <var>initiatorOriginSnapshot</var>, <var>navigable</var>’s associated <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑧">Document</a></code>,
 and <code><a data-link-type="dfn" href="#automatic-beacon-event-type-reservedtop_navigation_start" id="ref-for-automatic-beacon-event-type-reservedtop_navigation_start①">reserved.top_navigation_start</a></code>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="top_navigation_commit beacon patch">
     Modify <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#attempt-to-populate-the-history-entry&apos;s-document" id="ref-for-attempt-to-populate-the-history-entry&apos;s-document">attempt to populate the history entry’s document</a> algorithm. In step 6,
  substep 11, add a new step after step 5 that reads: 
    <ol start="6">
     <li data-md>
      <p>If <var>failure</var> is false, then:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="#attempt-to-send-an-automatic-beacon" id="ref-for-attempt-to-send-an-automatic-beacon①">Attempt to send an automatic beacon</a> given <var>sourceSnapshotParams</var>, <var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state">document state</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-initiator-origin" id="ref-for-document-state-initiator-origin">initiator origin</a>, <var>document</var>, and <code><a data-link-type="dfn" href="#automatic-beacon-event-type-reservedtop_navigation_commit" id="ref-for-automatic-beacon-event-type-reservedtop_navigation_commit②">reserved.top_navigation_commit</a></code>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="#attempt-to-send-an-automatic-beacon" id="ref-for-attempt-to-send-an-automatic-beacon②">Attempt to send an automatic beacon</a> given <var>sourceSnapshotParams</var>, <var>entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state①">document state</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-initiator-origin" id="ref-for-document-state-initiator-origin①">initiator origin</a>, <var>document</var>, and <code><a data-link-type="dfn" href="#automatic-beacon-event-type-reservedtop_navigation" id="ref-for-automatic-beacon-event-type-reservedtop_navigation②">reserved.top_navigation</a></code>.</p>
      </ol>
    </ol>
   </div>
   <h2 class="heading settled" data-level="3" id="html-integration"><span class="secno">3. </span><span class="content">HTML Integration</span><a class="self-link" href="#html-integration"></a></h2>
   <h3 class="heading settled" data-level="3.1" id="window-extension"><span class="secno">3.1. </span><span class="content">Extensions to the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window">Window</a></code> interface</span><a class="self-link" href="#window-extension"></a></h3>
<pre class="idl highlight def"><c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window①"><c- g>Window</c-></a> {
  // Collection of fenced frame APIs
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#fence" id="ref-for-fence②"><c- n>Fence</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="Fence?" href="#dom-window-fence" id="ref-for-dom-window-fence"><c- g>fence</c-></a>;
};
</pre>
   <p>Each <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window②">Window</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="Window" data-dfn-type="dfn" data-noexport id="window-fence">fence</dfn>, which is a <code class="idl"><a data-link-type="idl" href="#fence" id="ref-for-fence③">Fence</a></code> instance
created alongside the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window③">Window</a></code>.</p>
   <div class="algorithm" data-algorithm="fence" data-algorithm-for="Window">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="Window" data-dfn-type="attribute" data-export id="dom-window-fence"><code>fence</code></dfn> getter steps are: 
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②②">this</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-bc" id="ref-for-window-bc④">browsing context</a>'s <a data-link-type="dfn" href="#browsing-context-fenced-frame-config-instance" id="ref-for-browsing-context-fenced-frame-config-instance⑤">fenced frame config instance</a> is not null, then return <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②③">this</a>'s <a data-link-type="dfn" href="#window-fence" id="ref-for-window-fence">fence</a>.</p>
     <li data-md>
      <p>Return null.</p>
    </ol>
    <details class="wpt-tests-block" dir="ltr" lang="en" open>
     <summary>Tests</summary>
     <ul class="wpt-tests-list">
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/fence-api.https.html" title="fenced-frame/fence-api.https.html">fence-api.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/fence-api.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/fence-api.https.html"><small>(source)</small></a>
     </ul>
    </details>
   </div>
   <h3 class="heading settled" data-level="3.2" id="document-extension"><span class="secno">3.2. </span><span class="content"><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document⑨">Document</a></code> supporting concepts</span><a class="self-link" href="#document-extension"></a></h3>
   <p>We first establish some preliminary types:</p>
   <p>An <dfn class="dfn-paneled" data-dfn-for="fencedframetype" data-dfn-type="dfn" data-noexport id="fencedframetype-automatic-beacon-data">automatic beacon data</dfn> is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct②④">struct</a> with the following <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item②④">items</a>:</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="automatic beacon data" data-dfn-type="dfn" data-noexport id="automatic-beacon-data-eventdata">eventData</dfn>
    <dd data-md>
     <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string①⑨">string</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="automatic beacon data" data-dfn-type="dfn" data-noexport id="automatic-beacon-data-destination">destination</dfn>
    <dd data-md>
     <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①③">list</a> of <code class="idl"><a data-link-type="idl" href="#enumdef-fencereportingdestination" id="ref-for-enumdef-fencereportingdestination⑤">FenceReportingDestination</a></code>s</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="automatic beacon data" data-dfn-type="dfn" data-noexport id="automatic-beacon-data-once">once</dfn>
    <dd data-md>
     <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean⑧">boolean</a></p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-for="automatic beacon data" data-dfn-type="dfn" data-noexport id="automatic-beacon-data-crossoriginexposed">crossOriginExposed</dfn>
    <dd data-md>
     <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean⑨">boolean</a></p>
   </dl>
   <p>Each <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①⓪">Document</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="Document" data-dfn-type="dfn" data-noexport id="document-automatic-beacon-data-map">automatic beacon data map</dfn>, which
is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①②">map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①①">keys</a> are <a data-link-type="dfn" href="#fencedframetype-automatic-beacon-event-type" id="ref-for-fencedframetype-automatic-beacon-event-type④">automatic beacon event type</a>s and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①⓪">values</a> are null or an <a data-link-type="dfn" href="#fencedframetype-automatic-beacon-data" id="ref-for-fencedframetype-automatic-beacon-data①">automatic beacon data</a></p>
   <p>Each <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①①">Document</a></code> object has an associated <dfn class="dfn-paneled" data-dfn-for="Document" data-dfn-type="dfn" data-noexport id="document-automatic-beacons-allowed">automatic beacons allowed</dfn>, which
is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean①⓪">boolean</a>, initially false.</p>
   <h3 class="heading settled" data-level="3.3" id="creating-browsing-contexts-patch"><span class="secno">3.3. </span><span class="content">Modifications to creating browsing contexts</span><a class="self-link" href="#creating-browsing-contexts-patch"></a></h3>
   <div class="algorithm" data-algorithm="creating a new browsing context and document patch">
     In <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#creating-a-new-browsing-context" id="ref-for-creating-a-new-browsing-context">creating a new browsing context and document</a> algorithm, rewrite the two steps
  (currently steps 4 &amp; 15) starting with; 
    <ul>
     <li data-md>
      <p>If <var>creator</var> is non-null, then:</p>
    </ul>
    <p>to instead use the tighter condition:</p>
    <ul>
     <li data-md>
      <p>If <var>creator</var> is non-null and <var>embedder</var> is not a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe③①">fencedframe</a></code> element,
then:</p>
    </ul>
    <p class="note" role="note"><span class="marker">Note:</span> This is because we need to ensure that we do not leak <var>creator</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#the-document&apos;s-referrer" id="ref-for-the-document&apos;s-referrer">referrer</a>, <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document-origin" id="ref-for-concept-document-origin">origin</a>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#document-base-url" id="ref-for-document-base-url">document base url</a>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-document-policy-container" id="ref-for-concept-document-policy-container">policy
  container</a>, across the fenced frame boundary.</p>
    <p>Add a substep to step 4 of this algorithm (that was modified above) that reads:</p>
    <ol start="4">
     <li data-md>
      <p>Set <var>browsingContext</var>’s <a data-link-type="dfn" href="#browsing-context-fenced-frame-config-instance" id="ref-for-browsing-context-fenced-frame-config-instance⑥">fenced frame config instance</a> to <var>creator</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#concept-document-bc" id="ref-for-concept-document-bc①">browsing context</a>'s <a data-link-type="dfn" href="#browsing-context-fenced-frame-config-instance" id="ref-for-browsing-context-fenced-frame-config-instance⑦">fenced frame config
 instance</a>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="3.4" id="local-scheme-policy-container-inheritance"><span class="secno">3.4. </span><span class="content">Policy container inheritance</span><a class="self-link" href="#local-scheme-policy-container-inheritance"></a></h3>
   <p>When making a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#navigation-request" id="ref-for-navigation-request③">navigation request</a> to a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#is-local" id="ref-for-is-local">local</a> <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑦">URL</a>, <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" id="ref-for-the-iframe-element④">iframe</a></code>s clone their <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-document-policy-container" id="ref-for-concept-document-policy-container①">policy container</a> from the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#navigation-request" id="ref-for-navigation-request④">navigation request</a>'s <em>initiator</em> <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①②">Document</a></code>. If <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe③②">fencedframe</a></code>s were to do the same thing, that would allow information about the initiator’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-document-policy-container" id="ref-for-concept-document-policy-container②">policy container</a> to leak across a fenced frame boundary. This section patches <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-document-policy-container" id="ref-for-concept-document-policy-container③">policy container</a> inheritance to close that leak.</p>
   <div class="algorithm" data-algorithm="local-policy-inheritance-determine-params">
     Modify the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#determining-navigation-params-policy-container" id="ref-for-determining-navigation-params-policy-container">determine navigation params policy container</a> algorithm to have a new optional <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean①①">boolean</a> parameter <var>fenced</var> that defaults to false. 
    <p>Rewrite step 3 to read:</p>
    <ol start="3">
     <li data-md>
      <p>If <var>responseURL</var> <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#is-local" id="ref-for-is-local①">is local</a>, <var>initiatorPolicyContainer</var> is not null, and <var>fenced</var> false,
 then return a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#clone-a-policy-container" id="ref-for-clone-a-policy-container">clone</a> of <var>initiatorPolicyContainer</var>.</p>
    </ol>
    <p class="note" role="note"><span class="marker">Note:</span> We do not need to modify the case where <var>responseURL</var> is <code><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/urls-and-fetching.html#about:srcdoc" id="ref-for-about:srcdoc">about:srcdoc</a></code>,
  because navigations to <code><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/urls-and-fetching.html#about:srcdoc" id="ref-for-about:srcdoc①">about:srcdoc</a></code> are not supported in fenced frames.</p>
   </div>
   <div class="algorithm" data-algorithm="local-policy-inheritance-populate-session-history-entry">
     Add a step before step 23 of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#create-navigation-params-by-fetching" id="ref-for-create-navigation-params-by-fetching">create navigation params by fetching</a> that says: 
    <ol start="23">
     <li data-md>
      <p>Let <var>fenced</var> be true if <var>navigable</var> is a <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable⑦">fenced navigable</a>,
  false otherwise.</p>
      <p class="note" role="note"><span class="marker">Note:</span> This ensures <var>fenced</var> is true regardless of whether the initiator <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①③">Document</a></code> is <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document">active document</a> or its <a data-link-type="dfn" href="#navigable-unfenced-parent" id="ref-for-navigable-unfenced-parent">unfenced parent</a>.</p>
    </ol>
    <p>Rewrite step 23 (now step 24) to read:</p>
    <ol start="24">
     <li data-md>
      <p>Let <var>resultPolicyContainer</var> be the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#determining-navigation-params-policy-container" id="ref-for-determining-navigation-params-policy-container①">determining navigation params
  policy container</a> given <var>response</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-url" id="ref-for-concept-response-url">URL</a>, <var> entry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state②">document state</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-history-policy-container" id="ref-for-document-state-history-policy-container">history policy container</a>, <var> sourceSnapshotParams</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params-policy-container" id="ref-for-source-snapshot-params-policy-container">source policy container</a>, null, <var>responsePolicyContainer</var>, and <var>fenced</var>.</p>
    </ol>
   </div>
   <p class="note" role="note"><span class="marker">Note:</span> <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe③③">fencedframe</a></code> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#policy-container" id="ref-for-policy-container">policy container</a> inheritance upon initial <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①④">Document</a></code> creation is handled
in the <a href="#creating-browsing-contexts-patch">§ 3.3 Modifications to creating browsing contexts</a> section.</p>
   <h3 class="heading settled" data-level="3.5" id="nested-traversables"><span class="secno">3.5. </span><span class="content">Nested traversables</span><a class="self-link" href="#nested-traversables"></a></h3>
   <h4 class="heading settled" data-level="3.5.1" id="nested-traversables-intro"><span class="secno">3.5.1. </span><span class="content">Introduction</span><a class="self-link" href="#nested-traversables-intro"></a></h4>
   <p><em>This section is non-normative.</em></p>
   <p>The <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a> Standard organizes <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable">navigables</a> into two categories: <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#child-navigable" id="ref-for-child-navigable">child navigables</a> and <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable②">traversable navigables</a> (also known as <a data-link-type="dfn" href="#top-level-traversable" id="ref-for-top-level-traversable③">top-level traversables</a>). The introduction of features
like fenced frames, and to a lesser extent <a href="https://github.com/wicg/portals">portals</a>,
complicates this model by adding a new type of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable③">traversable navigable</a> that is <em>sometimes</em> like a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#child-navigable" id="ref-for-child-navigable①">child navigable</a>. Because these new frame types are housed in a separate <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context-group" id="ref-for-browsing-context-group②">browsing context
group</a> from their embedder, some concrete level of isolation is expected and required; on the other
hand since they are composed visually inside of <em>other</em> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context-group" id="ref-for-browsing-context-group③">browsing context groups</a>, sometimes they
need to behave like the normal <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#child-navigable" id="ref-for-child-navigable②">child navigables</a> that we see in e.g., <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" id="ref-for-the-iframe-element⑤">iframe</a></code>s.</p>
   <p>The complexity here is in deciding when terms like <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable-container" id="ref-for-navigable-container">navigable container</a>, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent" id="ref-for-nav-parent">navigable parent</a>, and <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#descendant-navigables" id="ref-for-descendant-navigables">descendant navigables</a> need to cross the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable④">traversable navigable</a>/<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context-group" id="ref-for-browsing-context-group④">browsing context group</a> boundary, versus when doing so would be unsafe
or incorrect. The examples below illustrate this point.</p>
   <p class="example" id="fenced-user-activation"><a class="self-link" href="#fenced-user-activation"></a>When a user <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#tracking-user-activation" id="ref-for-tracking-user-activation">activates</a> content inside
of a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①⑤">Document</a></code>, ordinarily the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#activation-notification" id="ref-for-activation-notification">activation notification</a> steps give user activation to all <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#ancestor-navigables" id="ref-for-ancestor-navigables">ancestor navigables</a> and all <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin⑦">same origin</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#descendant-navigables" id="ref-for-descendant-navigables①">descendant navigables</a>. But
because a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe③④">fencedframe</a></code> can host sensitive content that needs to be isolated from its embedder,
and because <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#tracking-user-activation" id="ref-for-tracking-user-activation①">user activation</a> and <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#consume-user-activation" id="ref-for-consume-user-activation">consumption</a> offer a communication
vector between these two parties, for the purpose of user activation a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe③⑤">fencedframe</a></code>'s <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable⑧">fenced navigable</a> cannot not be considered a descendant of its
embedder, nor can its embedder be considered an ancestor of the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe③⑥">fencedframe</a></code>'s <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable⑨">fenced navigable</a>, in the way that the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#tracking-user-activation" id="ref-for-tracking-user-activation②">user activation</a> algorithms currently use those
terms. In other words, we consider user activation to be <em>fenced</em>, to denote that it never crosses
the <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable①⓪">fenced navigable</a> boundary; if it were unfenced, it would behave
as it would with <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" id="ref-for-the-iframe-element⑥">iframe</a></code>s, allowing <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#tracking-user-activation" id="ref-for-tracking-user-activation③">user activation</a> to flow freely across the frame
boundary.</p>
   <details class="wpt-tests-block" dir="ltr" lang="en" open>
    <summary>Tests</summary>
    <ul class="wpt-tests-list">
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/consume-user-activation.https.html" title="fenced-frame/consume-user-activation.https.html">consume-user-activation.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/consume-user-activation.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/consume-user-activation.https.html"><small>(source)</small></a>
    </ul>
   </details>
   <p class="example" id="unfenced-sandbox-inheritance"><a class="self-link" href="#unfenced-sandbox-inheritance"></a>Unlike <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#tracking-user-activation" id="ref-for-tracking-user-activation④">user activation</a>, when a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe③⑦">fencedframe</a></code>'s <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable①①">fenced navigable</a> gets <a data-link-type="dfn" href="#create-a-new-nested-traversable" id="ref-for-create-a-new-nested-traversable①">created</a> or <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate⑥">navigated</a>, it <span class="allow-2119">must</span> <a href="https://html.spec.whatwg.org/#sandboxing:active-sandboxing-flag-set-3">inherit</a> its embedder <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①⑥">Document</a></code>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#active-sandboxing-flag-set" id="ref-for-active-sandboxing-flag-set">active sandboxing flag set</a> as is standard for <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①⑦">Document</a></code>s in normal <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#child-navigable" id="ref-for-child-navigable③">child navigables</a>. If we did not do this, then the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe③⑧">fencedframe</a></code> element would be a trivial
sandbox bypass. Because <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe③⑨">fencedframe</a></code> sandbox flag inheritance behaves similarly to how it does in <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" id="ref-for-the-iframe-element⑦">iframe</a></code> elements, we consider sandbox inheritance to be <em>unfenced</em>.</p>
   <p>To provide the isolation mentioned above, and its conditional relaxation, this specification defines
a new kind of parent for <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable⑤">traversable navigables</a> called an <a data-link-type="dfn" href="#traversable-navigable-unfenced-parent" id="ref-for-traversable-navigable-unfenced-parent">unfenced
parent</a>, which provides a link to its embedder that algorithms can intentionally use when they need
to be <em>unfenced</em>, as described above.</p>
   <p class="note" role="note"><span class="marker">Note:</span> Introducing a new kind of parent (<a data-link-type="dfn" href="#traversable-navigable-unfenced-parent" id="ref-for-traversable-navigable-unfenced-parent①">unfenced parent</a>) is an intentional
design decision. It means that by default, the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe④⓪">fencedframe</a></code> boundary is private and isolated,
since by default nothing in the web platform traverses from a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe④①">fencedframe</a></code>'s <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable①②">fenced navigable</a> to its embedder. Care <span class="allow-2119">must</span> be taken when
modifying algorithms to make them capable of traversing across the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe④②">fencedframe</a></code> <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable①③">fenced navigable</a> boundary, and each modification of this sort will be evaluated
independently and appear in this specification.</p>
   <p>The rest of this section provides patches to various <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a> definitions (and their uses) that deal
with collections of related navigables, with the intention of fencing and unfencing various parts of
the web platform appropriately.</p>
   <h4 class="heading settled" data-level="3.5.2" id="traversable-navigables"><span class="secno">3.5.2. </span><span class="content">Traversable navigables</span><a class="self-link" href="#traversable-navigables"></a></h4>
   <p>In <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>'s <a href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="0cfb9abe0">Traversable
navigables</a> section, add the following:</p>
   <p>In addition to the properties of a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable①">navigable</a>, a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable⑥">traversable navigable</a> has:</p>
   <ul>
    <li data-md>
     <p>An <dfn class="dfn-paneled" data-dfn-for="traversable navigable" data-dfn-type="dfn" data-noexport id="traversable-navigable-unfenced-parent">unfenced parent</dfn>, a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable②">navigable</a> or null, initially null.</p>
   </ul>
   <p class="note" role="note"><span class="marker">Note:</span> The <a data-link-type="dfn" href="#traversable-navigable-unfenced-parent" id="ref-for-traversable-navigable-unfenced-parent②">unfenced parent</a> link is what gives a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe④③">fencedframe</a></code>'s <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable①④">fenced navigable</a> a link to its embedder, which is used carefully for
things that need to be "<em>unfenced</em>", like some algorithms in the focus processing model.</p>
   <div class="algorithm" data-algorithm="unfenced parent" data-algorithm-for="navigable">
     To get the <dfn class="dfn-paneled" data-dfn-for="navigable" data-dfn-type="dfn" data-noexport id="navigable-unfenced-parent">unfenced parent</dfn> of a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable③">navigable</a> <var>navigable</var>: 
    <ol>
     <li data-md>
      <p>If <var>navigable</var> is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#child-navigable" id="ref-for-child-navigable④">child navigable</a>, return <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent" id="ref-for-nav-parent①">parent</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑥">Assert</a>: <var>navigable</var> is a <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable①⑤">fenced navigable</a>.</p>
     <li data-md>
      <p>Return <var>navigable</var>’s <a data-link-type="dfn" href="#traversable-navigable-unfenced-parent" id="ref-for-traversable-navigable-unfenced-parent③">unfenced parent</a>.</p>
    </ol>
    <p class="note" role="note"><span class="marker">Note:</span> This algorithm is different from the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable⑦">traversable navigable</a>'s <a data-link-type="dfn" href="#traversable-navigable-unfenced-parent" id="ref-for-traversable-navigable-unfenced-parent④">unfenced parent</a> getter in that this algorithm first tries to get the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable④">navigable</a>'s
    normal <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent" id="ref-for-nav-parent②">parent</a> if <var>navigable</var> is a normal <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#child-navigable" id="ref-for-child-navigable⑤">child navigable</a>.</p>
   </div>
   <div class="algorithm" data-algorithm="unfenced container document" data-algorithm-for="navigable">
     To get the <dfn class="dfn-paneled" data-dfn-for="navigable" data-dfn-type="dfn" data-noexport id="navigable-unfenced-container-document">unfenced container document</dfn> of a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable⑤">navigable</a> <var>navigable</var>: 
    <ol>
     <li data-md>
      <p>Let <var>parentNavigable</var> be <var>navigable</var>’s <a data-link-type="dfn" href="#navigable-unfenced-parent" id="ref-for-navigable-unfenced-parent①">unfenced parent</a>.</p>
     <li data-md>
      <p>Return <var>parentNavigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document①">active document</a>.</p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="3.5.3" id="nested-traversables-inner"><span class="secno">3.5.3. </span><span class="content">Nested traversables</span><a class="self-link" href="#nested-traversables-inner"></a></h4>
   <p>In <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>'s <a href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigables">Navigables</a> section, add a new subsection titled "Nested traversables" with the following text, definitions, and
algorithms.</p>
   <p>Similar to <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable-container" id="ref-for-navigable-container①">navigable containers</a> and their respective <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#content-navigable" id="ref-for-content-navigable①">content navigables</a>,
other elements (so far, only the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe④④">fencedframe</a></code> element) present a more isolated <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable⑥">navigable</a> to
the user. These elements are called <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="fenced-navigable-containers">fenced navigable containers</dfn>.</p>
   <p>A <a data-link-type="dfn" href="#fenced-navigable-containers" id="ref-for-fenced-navigable-containers">fenced navigable container</a> has a <dfn class="dfn-paneled" data-dfn-for="fenced navigable container" data-dfn-type="dfn" data-noexport id="fenced-navigable-container-fenced-navigable">fenced navigable</dfn>,
which is either a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable⑧">traversable navigable</a> with a non-null <a data-link-type="dfn" href="#traversable-navigable-unfenced-parent" id="ref-for-traversable-navigable-unfenced-parent⑤">unfenced
parent</a>, or null. It is initially null.</p>
   <details class="wpt-tests-block" dir="ltr" lang="en" open>
    <summary>Tests</summary>
    <ul class="wpt-tests-list">
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/window-frameElement.https.html" title="fenced-frame/window-frameElement.https.html">window-frameElement.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/window-frameElement.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/window-frameElement.https.html"><small>(source)</small></a>
    </ul>
   </details>
   <div class="algorithm" data-algorithm="initialize the nested traversable">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="initialize-the-nested-traversable">initialize the nested traversable</dfn> <var>traversable</var> given a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state③">document state</a> <var>documentState</var> and a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable⑦">navigable</a> <var>parent</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#initialize-the-navigable" id="ref-for-initialize-the-navigable">Initialize the navigable</a> <var>traversable</var> given <var>documentState</var>.</p>
     <li data-md>
      <p>Set <var>traversable</var>’s <a data-link-type="dfn" href="#traversable-navigable-unfenced-parent" id="ref-for-traversable-navigable-unfenced-parent⑥">unfenced parent</a> to <var>parent</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="create a new nested traversable">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-a-new-nested-traversable">create a new nested traversable</dfn> given an element <var>element</var>: 
    <ol>
     <li data-md>
      <p>Let <var>group</var> be a new <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context-group" id="ref-for-browsing-context-group⑤">browsing context group</a>.</p>
    </ol>
    <p class="note" role="note"><span class="marker">Note:</span> There doesn’t seem to be a reason to <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append">append</a> <var>group</var> to the user agent’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context-group-set" id="ref-for-browsing-context-group-set">browsing
  context group set</a> like <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#creating-a-new-browsing-context-group" id="ref-for-creating-a-new-browsing-context-group">create a new browsing context group and document</a> does.</p>
    <ol>
     <li data-md>
      <p>Let <var>document</var> be the second return value of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#creating-a-new-browsing-context" id="ref-for-creating-a-new-browsing-context①">creating a new browsing context and document</a> given <var>element</var> <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-document" id="ref-for-concept-node-document①">node document</a>, <var>element</var>, and <var>group</var>.</p>
     <li data-md>
      <p>Let <var>documentState</var> be a new <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state" id="ref-for-she-document-state④">document state</a>, whose <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-document" id="ref-for-document-state-document">document</a> is <var>document</var>.</p>
     <li data-md>
      <p>Let <var>traversable</var> be a new <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable⑨">traversable navigable</a>.</p>
     <li data-md>
      <p>Let <var>parentNavigable</var> be <var>element</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable①">node navigable</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#initialize-the-nested-traversable" id="ref-for-initialize-the-nested-traversable">Initialize the nested traversable</a> <var>traversable</var> given <var>documentState</var> and <var>parentNavigable</var>.</p>
     <li data-md>
      <p>Set <var>element</var>’s <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable①⑥">fenced navigable</a> to <var>traversable</var>.</p>
     <li data-md>
      <p>Let <var>initialHistoryEntry</var> be <var>traversable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-active-history-entry" id="ref-for-nav-active-history-entry">active session history entry</a>.</p>
     <li data-md>
      <p>Set <var>initialHistoryEntry</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-step" id="ref-for-she-step">step</a> to 0.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-append" id="ref-for-concept-node-append">Append</a> <var>initialHistoryEntry</var> to <var>traversable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#tn-session-history-entries" id="ref-for-tn-session-history-entries">session history
 entries</a>.</p>
     <li data-md>
      <p>Return <var>traversable</var>.</p>
    </ol>
   </div>
   <p class="note" role="note"><span class="marker">Note:</span> The <a data-link-type="dfn" href="#create-a-new-nested-traversable" id="ref-for-create-a-new-nested-traversable②">create a new nested traversable</a> algorithm creates the first kind of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable①⓪">traversable
navigable</a> that is not a <a data-link-type="dfn" href="#top-level-traversable" id="ref-for-top-level-traversable④">top-level traversable</a>. This will require removing the note about
nested traversables in <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>'s <a href="https://html.spec.whatwg.org/multipage/document-sequences.html#top-level-traversables">Top-level
traversables</a> section.</p>
   <h4 class="heading settled" data-level="3.5.4" id="top-level-traversables"><span class="secno">3.5.4. </span><span class="content">Top-level traversables</span><a class="self-link" href="#top-level-traversables"></a></h4>
   <p>The <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a> Standard currently defines a <a data-link-type="dfn" href="#top-level-traversable" id="ref-for-top-level-traversable⑤">top-level traversable</a> as a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable①①">traversable navigable</a> whose <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent" id="ref-for-nav-parent③">parent</a> is null, however this is an insufficient definition that this
specification changes. <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a> mentions that outside of this specification, all <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable①②">traversable
navigables</a> are <a data-link-type="dfn" href="#top-level-traversable" id="ref-for-top-level-traversable⑥">top-level traversables</a>, but "envisions" future specifications that may want to
create a kind of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable①③">traversable</a> that is nested, and achieves the nesting
through a non-null <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent" id="ref-for-nav-parent④">parent</a>; hence the distinction between <a data-link-type="dfn" href="#top-level-traversable" id="ref-for-top-level-traversable⑦">top-level traversables</a> and <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable①④">traversable navigables</a> relies on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent" id="ref-for-nav-parent⑤">parent</a> null-ness.</p>
   <p>The <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable①⑦">fenced navigable</a> this specification proposes is precisely what <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a> envisioned when carving out space for the distinction between <a data-link-type="dfn" href="#top-level-traversable" id="ref-for-top-level-traversable⑧">top-level traversables</a> and <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable①⑤">traversable navigables</a>, however this specification does not make use of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent" id="ref-for-nav-parent⑥">parent</a> pointer for <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable①⑧">fenced navigables</a>, for reasons
described <a href="#nested-traversables-intro">above</a> (instead they use the <a data-link-type="dfn" href="#traversable-navigable-unfenced-parent" id="ref-for-traversable-navigable-unfenced-parent⑦">unfenced parent</a> pointer). That means by default, both <a data-link-type="dfn" href="#top-level-traversable" id="ref-for-top-level-traversable⑨">top-level traversables</a> and <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable①⑨">fenced navigables</a> both have null <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent" id="ref-for-nav-parent⑦">parents</a>, which renders
the distinction meaningless.</p>
   <p>To mend the intended distinction between <a data-link-type="dfn" href="#top-level-traversable" id="ref-for-top-level-traversable①⓪">top-level traversables</a> and <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable②⓪">fenced navigables</a>, patch the following definitions like so:</p>
   <div class="algorithm" data-algorithm="top-level traversable"> A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="top-level-traversable">top-level traversable</dfn> is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable①⑥">traversable navigable</a> whose <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent" id="ref-for-nav-parent⑧">parent</a> and <a data-link-type="dfn" href="#traversable-navigable-unfenced-parent" id="ref-for-traversable-navigable-unfenced-parent⑧">unfenced parent</a> are both null. </div>
   <p><br></p>
   <div class="algorithm" data-algorithm="top-level traversable" data-algorithm-for="navigable">
     To get the <dfn data-dfn-for="navigable" data-dfn-type="dfn" data-noexport id="navigable-top-level-traversable">top-level traversable<a class="self-link" href="#navigable-top-level-traversable"></a></dfn> of a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable⑧">navigable</a> <var>inputNavigable</var>: 
    <ol>
     <li data-md>
      <p>Let <var>navigable</var> be <var>inputNavigable</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-while" id="ref-for-iteration-while">While</a>:</p>
      <ol>
       <li data-md>
        <p>If <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent" id="ref-for-nav-parent⑨">parent</a> and <a data-link-type="dfn" href="#traversable-navigable-unfenced-parent" id="ref-for-traversable-navigable-unfenced-parent⑨">unfenced parent</a> are
 both null, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break①">break</a>.</p>
       <li data-md>
        <p>Set <var>navigable</var> to <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent" id="ref-for-nav-parent①⓪">parent</a> or <a data-link-type="dfn" href="#traversable-navigable-unfenced-parent" id="ref-for-traversable-navigable-unfenced-parent①⓪">unfenced
 parent</a>, whichever is non-null.</p>
        <p class="note" role="note"><span class="marker">Note:</span> Exactly one of <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent" id="ref-for-nav-parent①①">parent</a> or <a data-link-type="dfn" href="#traversable-navigable-unfenced-parent" id="ref-for-traversable-navigable-unfenced-parent①①">unfenced
 parent</a> will be non-null here.</p>
      </ol>
     <li data-md>
      <p>Return <var>navigable</var>.</p>
    </ol>
   </div>
   <p class="note" role="note"><span class="marker">Note:</span> With these new definitions, a <a data-link-type="dfn" href="#top-level-traversable" id="ref-for-top-level-traversable①①">top-level traversable</a> is essentially "unfenced" as described
in the <a href="#nested-traversables-intro">§ 3.5.1 Introduction</a>.</p>
   <h3 class="heading settled" data-level="3.6" id="navigable-traversing-algorithms"><span class="secno">3.6. </span><span class="content">Modifications to navigable-traversing algorithms</span><a class="self-link" href="#navigable-traversing-algorithms"></a></h3>
   <div class="algorithm" data-algorithm="inclusive-descendant-navigables-patch">
     Modify the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#inclusive-descendant-navigables" id="ref-for-inclusive-descendant-navigables">inclusive descendant navigables</a> algorithm to take a new optional <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean①②">boolean</a> argument <var><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="inclusive-dn-unfenced" data-noexport id="inclusive-dn-unfenced">unfenced</dfn></var> that defaults to
  false. 
    <p>Further rewrite step 2 of this algorithm to:</p>
    <ol start="2">
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-extend" id="ref-for-list-extend">Extend</a> <var>navigables</var> with <var>document</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#descendant-navigables" id="ref-for-descendant-navigables②">descendant navigables</a> with <a data-link-type="dfn" href="#dn-unfenced" id="ref-for-dn-unfenced">unfenced</a> set to <var><a data-link-type="dfn" href="#inclusive-dn-unfenced" id="ref-for-inclusive-dn-unfenced">unfenced</a></var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="descendant-navigables-patch">
     Modify the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#descendant-navigables" id="ref-for-descendant-navigables③">descendant navigables</a> algorithm to take a new optional <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean①③">boolean</a> argument <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="dn-unfenced" data-noexport id="dn-unfenced">unfenced</dfn> that defaults to false, and rewrite the algorithm
  like so: 
    <ol>
     <li data-md>
      <p>Let <var>navigables</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①④">list</a>.</p>
     <li data-md>
      <p>Let <var>navigableContainers</var> be a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑤">list</a> of all <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-shadow-including-descendant" id="ref-for-concept-shadow-including-descendant">shadow-including descendants</a> of <var>document</var> that are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable-container" id="ref-for-navigable-container②">navigable containers</a> (or <a data-link-type="dfn" href="#fenced-navigable-containers" id="ref-for-fenced-navigable-containers①">fenced navigable containers</a>, if <var><a data-link-type="dfn" href="#dn-unfenced" id="ref-for-dn-unfenced①">unfenced</a></var> is true), in <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-shadow-including-tree-order" id="ref-for-concept-shadow-including-tree-order">shadow-including tree order</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate④">For each</a> <var>navigableContainer</var> of <var>navigableContainers</var>:</p>
      <ol>
       <li data-md>
        <p>If <var>navigableContainer</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#content-navigable" id="ref-for-content-navigable②">content navigable</a> and <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable②①">fenced navigable</a> are both null, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-continue" id="ref-for-iteration-continue">continue</a>.</p>
       <li data-md>
        <p>Let <var>descendantNavigable</var> be either <var>navigableContainer</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#content-navigable" id="ref-for-content-navigable③">content
 navigable</a> or <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable②②">fenced navigable</a>, whichever is non-null.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-extend" id="ref-for-list-extend①">Extend</a> <var>navigables</var> with <var>descendantNavigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document②">active document</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#inclusive-descendant-navigables" id="ref-for-inclusive-descendant-navigables①">inclusive descendant navigables</a> with <a data-link-type="dfn" href="#inclusive-dn-unfenced" id="ref-for-inclusive-dn-unfenced①">unfenced</a> set to <var><a data-link-type="dfn" href="#dn-unfenced" id="ref-for-dn-unfenced②">unfenced</a></var>.</p>
      </ol>
     <li data-md>
      <p>Return <var>navigables</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="3.7" id="focusing-changes"><span class="secno">3.7. </span><span class="content">Modifications to the focusing algorithms</span><a class="self-link" href="#focusing-changes"></a></h3>
   <p>The <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a> standard defines how to handle focusing elements and <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window" id="ref-for-window④">Window</a></code>s, both by user gesture
and through script-initiated APIs. Since fenced frames are designed to prevent communication across
a fenced frame boundary, we need to handle focusing carefully. This is because when focus crosses a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe④⑤">fencedframe</a></code> boundary, contexts on both sides of the boundary can detect that change, which can
be used to open a communication channel between a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe④⑥">fencedframe</a></code> and its embedder.</p>
   <p>We do this by not allowing the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps" id="ref-for-focusing-steps">focusing steps</a> to move script-initiated focus across a fenced
frame boundary.</p>
   <p class="example" id="user-initiated-focus"><a class="self-link" href="#user-initiated-focus"></a>When a user clicks on an element like a <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element" id="ref-for-the-button-element">button</a></code> inside a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe④⑦">fencedframe</a></code> while another element <em>outside</em> of the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe④⑧">fencedframe</a></code> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focused" id="ref-for-focused">focused</a>, the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps" id="ref-for-focusing-steps①">focusing steps</a> will allow the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element" id="ref-for-the-button-element①">button</a></code> to <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#gains-focus" id="ref-for-gains-focus">gain focus</a>, because this is specifically a
user-initiated action. Without allowing that, no element inside of a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe④⑨">fencedframe</a></code> would never be
able <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#gains-focus" id="ref-for-gains-focus①">gain focus</a>.</p>
   <p class="example" id="script-initiated-focus"><a class="self-link" href="#script-initiated-focus"></a>If we were to continue allowing all elements to be <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focused" id="ref-for-focused①">focused</a> via the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/interaction.html#dom-focus" id="ref-for-dom-focus">focus()</a></code> method as is the status quo before this
specification, a <a data-link-type="dfn" href="#fenced-navigable-containers" id="ref-for-fenced-navigable-containers②">fenced navigable container</a> and its <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable②③">fenced
navigable</a> could use a sequence of <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/interaction.html#dom-focus" id="ref-for-dom-focus①">focus()</a></code> calls to send arbitrary data across
the fenced frame boundary, which is a privacy leak. To avoid this, we effectively "fence" the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/interaction.html#dom-focus" id="ref-for-dom-focus②">focus()</a></code> method, which sacrifices some functionality for privacy.</p>
   <div class="algorithm" data-algorithm="focusing-steps-patch">
     Modify the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps" id="ref-for-focusing-steps②">focusing steps</a> to take a new optional <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean①④">boolean</a> argument <var><dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="focus-unfenced" data-noexport id="focus-unfenced">unfenced</dfn></var> that defaults to false. 
    <p>Add a new step after step 3 of the algorithm (that changes new focus target) that reads:</p>
    <ol start="3">
     <li data-md>
      <p>If <var>new focus target</var> is a <a data-link-type="dfn" href="#fenced-navigable-containers" id="ref-for-fenced-navigable-containers③">fenced navigable container</a> with non-null <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable②④">fenced navigable</a>, then set <var>new focus target</var> to the <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable②⑤">fenced navigable</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document③">active document</a>.</p>
    </ol>
    <p>Add a new step after the step that defines the <var>new chain</var> variable, that reads:</p>
    <ol start="9">
     <li data-md>
      <p>If <var><a data-link-type="dfn" href="#focus-unfenced" id="ref-for-focus-unfenced">unfenced</a></var> is false, <var>new chain</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain①">contains</a> a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①⑧">Document</a></code> <var>document</var> whose <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable②">node navigable</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-traversable" id="ref-for-nav-traversable②">traversable navigable</a> is a <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable②⑥">fenced navigable</a>, and <var>old chain</var> does not also <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain②">contain</a> <var>document</var>, then return.</p>
      <p class="note" role="note"><span class="marker">Note:</span> This is how we bail-out early just before calling the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focus-update-steps" id="ref-for-focus-update-steps">focus update steps</a>, in the case
where focus is trying to cross the fence.</p>
    </ol>
    <p>Modify the user agent sentence after the algorithm steps in <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps" id="ref-for-focusing-steps③">focusing steps</a> to read:</p>
    <p>User agents must <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/#immediately" id="ref-for-immediately">immediately</a> run the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps" id="ref-for-focusing-steps④">focusing steps</a> for a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusable-area" id="ref-for-focusable-area">focusable area</a> or <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable⑨">navigable</a> <var>candidate</var> with <var><a data-link-type="dfn" href="#focus-unfenced" id="ref-for-focus-unfenced①">unfenced</a></var> set to true whenever the
  user attempts to move the focus to <var>candidate</var>.</p>
   </div>
   <div class="algorithm" data-algorithm="access-key-patch">
     Modify the action of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interactive-elements.html#using-the-accesskey-attribute-to-define-a-command-on-other-elements" id="ref-for-using-the-accesskey-attribute-to-define-a-command-on-other-elements">accesskey attribute command</a> algorithm to be: 
    <ol>
     <li data-md>
      <p>Run the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps" id="ref-for-focusing-steps⑤">focusing steps</a> for the element with <var><a data-link-type="dfn" href="#focus-unfenced" id="ref-for-focus-unfenced②">unfenced</a></var> set to true.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#fire-a-click-event" id="ref-for-fire-a-click-event">Fire a <code>click</code> event</a> at the element.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="activation-patch">
     Modify the behavior when a user <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#activation" id="ref-for-activation">activates</a> a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#click-focusable" id="ref-for-click-focusable">click focusable</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusable-area" id="ref-for-focusable-area①">focusable area</a> to be: 
    <p>When a user <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#activation" id="ref-for-activation①">activates</a> a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#click-focusable" id="ref-for-click-focusable①">click focusable</a> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusable-area" id="ref-for-focusable-area②">focusable area</a>, the user agent must
  run the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps" id="ref-for-focusing-steps⑥">focusing steps</a> on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusable-area" id="ref-for-focusable-area③">focusable area</a> with <var>focus trigger</var> set
  to "<code>click</code>" and <var><a data-link-type="dfn" href="#focus-unfenced" id="ref-for-focus-unfenced③">unfenced</a></var> set to true.</p>
   </div>
   <div class="algorithm" data-algorithm="hide-popover-patch">
     Modify step 10 of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/popover.html#hide-popover-algorithm" id="ref-for-hide-popover-algorithm">hide popover algorithm</a> to read: 
    <ol start="10">
     <li data-md>
      <p>If <var>previouslyFocusedElement</var> is not null, then:</p>
      <ol>
       <li data-md>
        <p>Set <var>element</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interactive-elements.html#previously-focused-element" id="ref-for-previously-focused-element">previously focused element</a> to null.</p>
       <li data-md>
        <p>If <var>focusPreviousElement</var> is true, then run the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps" id="ref-for-focusing-steps⑦">focusing steps</a> for <var>previouslyFocusedElement</var> with <var><a data-link-type="dfn" href="#focus-unfenced" id="ref-for-focus-unfenced④">unfenced</a></var> set to true; the
viewport should not be scrolled by doing this step.</p>
      </ol>
    </ol>
    <p class="note" role="note"><span class="marker">Note:</span> Although dismissing a popover manually is a user-initiated gesture, the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps" id="ref-for-focusing-steps⑧">focusing steps</a> will be called with <a data-link-type="dfn" href="#focus-unfenced" id="ref-for-focus-unfenced⑤">unfenced</a> set to false regardless
  of whether this was called from user gesture or via a script call.</p>
   </div>
   <div class="algorithm" data-algorithm="interactively-validate-patch">
     Modify the first bullet point of step 3 of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#interactively-validate-the-constraints" id="ref-for-interactively-validate-the-constraints">interactively validate the constraints</a> algorithm to read: 
    <ul>
     <li data-md>
      <p>User agents may focus one of those elements in the process, by running the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps" id="ref-for-focusing-steps⑨">focusing steps</a> for that element, and may change the scrolling position of the
document, or perform some other action that brings the element to the user’s attention.
If these steps were invoked by user gesture, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps" id="ref-for-focusing-steps①⓪">focusing steps</a> can be called with <a data-link-type="dfn" href="#focus-unfenced" id="ref-for-focus-unfenced⑥">unfenced</a> set to true. For elements that are <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/custom-elements.html#form-associated-custom-element" id="ref-for-form-associated-custom-element">form-associated custom elements</a>, user agents should use their <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/custom-elements.html#face-validation-anchor" id="ref-for-face-validation-anchor">face validation anchor</a> instead, for the purposes of these actions.</p>
    </ul>
   </div>
   <div class="algorithm" data-algorithm="has-focus-steps">
     Add a step after step 2 of the while loop in the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps" id="ref-for-has-focus-steps">has focus steps</a> algorithm that reads: 
    <ol start="3">
     <li data-md>
      <p>If the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focused-area-of-the-document" id="ref-for-focused-area-of-the-document">focused area</a> of <var>candidate</var> is a <a data-link-type="dfn" href="#fenced-navigable-containers" id="ref-for-fenced-navigable-containers④">fenced navigable container</a> with a non-null <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable②⑦">fenced navigable</a>, then set <var>candidate</var> to the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document④">active
document</a> of that <a data-link-type="dfn" href="#fenced-navigable-containers" id="ref-for-fenced-navigable-containers⑤">fenced navigable container</a>'s <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable②⑧">fenced
navigable</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="focus-chain">
     Modify step 3 of the while loop in the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focus-chain" id="ref-for-focus-chain">focus chain</a> algorithm to read: 
    <ol start="3">
     <li data-md>
      <p>If <var>currentObject</var> is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusable-area" id="ref-for-focusable-area④">focusable area</a>, then set <var>currentObject</var> to <var>currentObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#dom-anchor" id="ref-for-dom-anchor">DOM
 anchor</a>'s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-document" id="ref-for-concept-node-document②">node document</a>.</p>
      <p>Otherwise, if <var>currentObject</var> is a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document①⑨">Document</a></code> whose <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable③">node navigable</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent" id="ref-for-nav-parent①②">parent</a> is non-null, then set <var>currentObject</var> to <var>currentObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable④">node navigable</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent" id="ref-for-nav-parent①③">parent</a>.</p>
      <p>Otherwise, if <var>currentObject</var> is a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②⓪">Document</a></code> whose <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable⑤">node navigable</a> is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable①⑦">traversable
 navigable</a> whose <a data-link-type="dfn" href="#traversable-navigable-unfenced-parent" id="ref-for-traversable-navigable-unfenced-parent①②">unfenced parent</a> is non-null, then set <var>currentObject</var> to <var>currentObject</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable⑥">node navigable</a>'s <a data-link-type="dfn" href="#traversable-navigable-unfenced-parent" id="ref-for-traversable-navigable-unfenced-parent①③">unfenced
 parent</a>.</p>
      <p>Otherwise, <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break②">break</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="get-the-focusable-area">
     Modify the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#get-the-focusable-area" id="ref-for-get-the-focusable-area">get the focusable area</a> algorithm. Add a new case to the switch statement: 
    <dl class="switch">
     <dt>If <var>focus target</var> is a <a data-link-type="dfn" href="#fenced-navigable-containers" id="ref-for-fenced-navigable-containers⑥">fenced navigable container</a> with a non-null <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable②⑨">fenced navigable</a>
     <dd>
      <p>Return the <a data-link-type="dfn" href="#fenced-navigable-containers" id="ref-for-fenced-navigable-containers⑦">fenced navigable container</a>'s <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable③⓪">fenced
    navigable</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document⑤">active document</a>.</p>
    </dl>
    <p class="note" role="note"><span class="marker">Note:</span> This algorithm can unconditionally "jump the fence" boundary because its return value always
  feeds into an algorithm that <em>does</em> carefully consider the fence boundary.</p>
   </div>
   <div class="algorithm" data-algorithm="currently-focused-area-of-a-top-level-traversable">
     Modify step 3 of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#currently-focused-area-of-a-top-level-traversable" id="ref-for-currently-focused-area-of-a-top-level-traversable">currently focused area of a top-level traversable</a> algorithm to read: 
    <ol start="3">
     <li data-md>
      <p>While <var>candidate</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focused-area-of-the-document" id="ref-for-focused-area-of-the-document①">focused area</a> is either a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable-container" id="ref-for-navigable-container③">navigable container</a> with a non-null <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#content-navigable" id="ref-for-content-navigable④">content navigable</a> or a <a data-link-type="dfn" href="#fenced-navigable-containers" id="ref-for-fenced-navigable-containers⑧">fenced navigable container</a> with a non-null <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable③①">fenced navigable</a>: set <var>candidate</var> to the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document⑥">active
 document</a> of either that <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable-container" id="ref-for-navigable-container④">navigable container</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#content-navigable" id="ref-for-content-navigable⑤">content navigable</a> or that <a data-link-type="dfn" href="#fenced-navigable-containers" id="ref-for-fenced-navigable-containers⑨">fenced navigable container</a>'s <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable③②">fenced navigable</a>,
 whichever is non-null.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="sequential-focus-navigation-patch">
     Modify step 6 of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#sequential-focus-navigation" id="ref-for-sequential-focus-navigation">sequential focus navigation</a> algorithm to read: 
    <ol start="6">
     <li data-md>
      <p>If <var>candidate</var> is not null, then run the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps" id="ref-for-focusing-steps①①">focusing steps</a> for <var>candidate</var> with <a data-link-type="dfn" href="#focus-unfenced" id="ref-for-focus-unfenced⑦">unfenced</a> set to true and return.</p>
    </ol>
    <p>Modify step 9 of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#sequential-focus-navigation" id="ref-for-sequential-focus-navigation①">sequential focus navigation</a> algorithm to read:</p>
    <ol start="9">
     <li data-md>
      <p>Otherwise, <var>starting point</var> is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#focusable-area" id="ref-for-focusable-area⑤">focusable area</a> whose <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-document" id="ref-for-concept-node-document③">node document</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable⑦">node
 navigable</a> is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#child-navigable" id="ref-for-child-navigable⑥">child navigable</a> or <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable③③">fenced navigable</a>. Set <var>starting point</var> to that <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable⑧">node navigable</a>'s <a data-link-type="dfn" href="#navigable-unfenced-parent" id="ref-for-navigable-unfenced-parent②">unfenced parent</a> and return to the
 step labeled <i>loop</i>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="sequential-navigation-search-patch">
     Modify step 2 of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#sequential-navigation-search-algorithm" id="ref-for-sequential-navigation-search-algorithm">sequential navigation search algorithm</a> to read: 
    <ol start="2">
     <li data-md>
      <p>If <var>candidate</var> is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable-container" id="ref-for-navigable-container⑤">navigable container</a> with a non-null <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#content-navigable" id="ref-for-content-navigable⑥">content navigable</a>, then let <var>new candidate</var> be the result of running the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#sequential-navigation-search-algorithm" id="ref-for-sequential-navigation-search-algorithm①">sequential navigation search algorithm</a> with <var>candidate</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#content-navigable" id="ref-for-content-navigable⑦">content navigable</a> as the first argument, <var>direction</var> as
the second, and <i>sequential</i> as the third.</p>
      <p>If <var>candidate</var> is a <a data-link-type="dfn" href="#fenced-navigable-containers" id="ref-for-fenced-navigable-containers①⓪">fenced navigable container</a> with a non-null <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable③④">fenced navigable</a>, then let <var>new candidate</var> be the result of
running the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#sequential-navigation-search-algorithm" id="ref-for-sequential-navigation-search-algorithm②">sequential navigation search algorithm</a> with <var>candidate</var>’s <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable③⑤">fenced navigable</a> as the first argument, <var>direction</var> as the second, and <i>sequential</i> as the third.</p>
      <p>If <var>new candidate</var> is null, then let <var>starting point</var> be <var>candidate</var>, and return to the top of this algorithm. Otherwise, let <var>candidate</var> be <var>new candidate</var>.</p>
    </ol>
   </div>
   <details class="wpt-tests-block" dir="ltr" lang="en" open>
    <summary>Tests</summary>
    <ul class="wpt-tests-list">
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/anchor-focus.https.html" title="fenced-frame/anchor-focus.https.html">anchor-focus.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/anchor-focus.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/anchor-focus.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/autofocus-denied.https.html" title="fenced-frame/autofocus-denied.https.html">autofocus-denied.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/autofocus-denied.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/autofocus-denied.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/script-focus.https.html" title="fenced-frame/script-focus.https.html">script-focus.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/script-focus.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/script-focus.https.html"><small>(source)</small></a>
    </ul>
   </details>
   <h3 class="heading settled" data-level="3.8" id="navigation-patch"><span class="secno">3.8. </span><span class="content">Navigation</span><a class="self-link" href="#navigation-patch"></a></h3>
   <p>This section describes how the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑤⓪">fencedframe</a></code> element interacts with the ever-complicated process
of navigation, which includes integration with various headers, isolation mechanisms, and policies.</p>
   <h4 class="heading settled" data-level="3.8.1" id="supports-loading-mode"><span class="secno">3.8.1. </span><span class="content">The `<a data-link-type="http-header" href="https://wicg.github.io/nav-speculation/prerendering.html#http-headerdef-supports-loading-mode" id="ref-for-http-headerdef-supports-loading-mode"><code>Supports-Loading-Mode</code></a>` HTTP response header</span><a class="self-link" href="#supports-loading-mode"></a></h4>
   <p><i>This section is intended to monkeypatch the <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a> Standard, however since the `<a data-link-type="http-header" href="https://wicg.github.io/nav-speculation/prerendering.html#http-headerdef-supports-loading-mode" id="ref-for-http-headerdef-supports-loading-mode①"><code>Supports-Loading-Mode</code></a>` header has not been merged into <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a> yet,
and instead lives in the <a data-link-type="biblio" href="#biblio-prerendering-revamped" title="Prerendering Revamped">[Prerendering-Revamped]</a> specification, this section effectively
monkeypatches that monkeypatch specification.</i></p>
   <p>Add the new <a data-link-type="dfn" href="https://www.rfc-editor.org/rfc/rfc8941.html#name-tokens" id="ref-for-name-tokens">token</a> below to the list of valid <a data-link-type="dfn" href="https://www.rfc-editor.org/rfc/rfc8941.html#name-tokens" id="ref-for-name-tokens①">tokens</a> for the `<a data-link-type="http-header" href="https://wicg.github.io/nav-speculation/prerendering.html#http-headerdef-supports-loading-mode" id="ref-for-http-headerdef-supports-loading-mode②"><code>Supports-Loading-Mode</code></a>` response header:</p>
   <p>The `<code><dfn class="dfn-paneled" data-dfn-for="Supports-Loading-Mode" data-dfn-type="dfn" data-export id="supports-loading-mode-fenced-frame">fenced-frame</dfn></code>` token indicates that
the response can be used to create a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②①">Document</a></code> inside of a <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable③⑥">fenced
navigable</a>. Without this explicit opt-in, all navigations inside of a <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable③⑦">fenced navigable</a> will fail, as outlined in <a href="#navigation-patch">§ 3.8 Navigation</a>.</p>
   <div class="algorithm" data-algorithm="navigation-patch">
     <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#attempt-to-populate-the-history-entry&apos;s-document" id="ref-for-attempt-to-populate-the-history-entry&apos;s-document①">attempt to populate the history entry’s document</a> algorithm is modified such that
  just before the step inside the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task" id="ref-for-queue-a-task">queued task</a> starting with "If <var>failure</var> is true, then:", insert a new step: 
    <ol start="8">
     <li data-md>
      <p>Otherwise, if all of the following conditions are true:</p>
      <ul>
       <li data-md>
        <p><var>navigationParams</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-navigable" id="ref-for-navigation-params-navigable">navigable</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-traversable" id="ref-for-nav-traversable③">traversable navigable</a> is
a <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable③⑧">fenced navigable</a>;</p>
       <li data-md>
        <p><var>navigationParams</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-response" id="ref-for-navigation-params-response">response</a>'s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-url" id="ref-for-concept-response-url①">URL</a>'s <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme①">scheme</a> is
"<code>https</code>"; and</p>
       <li data-md>
        <p>the result of <a data-link-type="dfn" href="https://wicg.github.io/nav-speculation/prerendering.html#get-the-supported-loading-modes" id="ref-for-get-the-supported-loading-modes">getting the supported loading modes</a> for <var>navigationParams</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-response" id="ref-for-navigation-params-response①">response</a> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain③">contain</a> `<code><a data-link-type="dfn" href="#supports-loading-mode-fenced-frame" id="ref-for-supports-loading-mode-fenced-frame">fenced-frame</a></code>`</p>
      </ul>
      <p>then set <var>failure</var> to true.</p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="3.8.2" id="allow-automatic-beacons"><span class="secno">3.8.2. </span><span class="content">The
`<a data-link-type="http-header" href="#http-headerdef-allow-fenced-frame-automatic-beacons" id="ref-for-http-headerdef-allow-fenced-frame-automatic-beacons"><code>Allow-Fenced-Frame-Automatic-Beacons</code></a>` HTTP response header</span><a class="self-link" href="#allow-automatic-beacons"></a></h4>
   <p>Serving a document resource that gets loaded into a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②②">Document</a></code> that is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin⑧">same origin</a> with
its <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#concept-document-bc" id="ref-for-concept-document-bc②">browsing context</a>'s <a data-link-type="dfn" href="#fenced-frame-config-instance" id="ref-for-fenced-frame-config-instance⑤">fenced frame config instance</a>'s <a data-link-type="dfn" href="#fenced-frame-config-instance-mapped-url" id="ref-for-fenced-frame-config-instance-mapped-url⑦">mapped url</a> with the <dfn class="dfn-paneled" data-dfn-type="http-header" data-export id="http-headerdef-allow-fenced-frame-automatic-beacons"><code>Allow-Fenced-Frame-Automatic-Beacons</code></dfn> HTTP response header opts in the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②③">Document</a></code> to having automatic beacon events trigger when it performs navigations. This header is
a <a data-link-type="dfn" href="https://www.rfc-editor.org/rfc/rfc8941.html#section-1" id="ref-for-section-1">structured header</a> whose value must be a <a data-link-type="dfn" href="https://www.rfc-editor.org/rfc/rfc8941.html#boolean" id="ref-for-boolean①⑤">boolean</a>.</p>
   <h4 class="heading settled" data-level="3.8.3" id="allow-cross-origin-reporting"><span class="secno">3.8.3. </span><span class="content">The
`<a data-link-type="http-header" href="#http-headerdef-allow-cross-origin-event-reporting" id="ref-for-http-headerdef-allow-cross-origin-event-reporting"><code>Allow-Cross-Origin-Event-Reporting</code></a>` HTTP response header</span><a class="self-link" href="#allow-cross-origin-reporting"></a></h4>
   <p>Serving a document resource that gets loaded into a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑤①">fencedframe</a></code> by a <a data-link-type="dfn" href="#fenced-frame-config-instance" id="ref-for-fenced-frame-config-instance⑥">fenced frame config
instance</a> with the <dfn class="dfn-paneled" data-dfn-type="http-header" data-export id="http-headerdef-allow-cross-origin-event-reporting"><code>Allow-Cross-Origin-Event-Reporting</code></dfn> HTTP
response header opts in the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②④">Document</a></code>'s cross-origin <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#child-navigable" id="ref-for-child-navigable⑦">child navigables</a> to be able to send <code class="idl"><a data-link-type="idl" href="#dom-fence-reportevent" id="ref-for-dom-fence-reportevent①">reportEvent()</a></code> beacons. This header is a <a data-link-type="dfn" href="https://www.rfc-editor.org/rfc/rfc8941.html#section-1" id="ref-for-section-1①">structured header</a> whose value must be a <a data-link-type="dfn" href="https://www.rfc-editor.org/rfc/rfc8941.html#boolean" id="ref-for-boolean①⑥">boolean</a>.</p>
   <h4 class="heading settled" data-level="3.8.4" id="coop-coep"><span class="secno">3.8.4. </span><span class="content">COOP, COEP, and cross-origin isolation</span><a class="self-link" href="#coop-coep"></a></h4>
   <p>Outside of this specification, the `<a data-link-type="http-header" href="https://html.spec.whatwg.org/multipage/browsers.html#cross-origin-opener-policy-2" id="ref-for-cross-origin-opener-policy-2"><code>Cross-Origin-Opener-Policy</code></a>`
header only <a href="https://html.spec.whatwg.org/C#populating-a-session-history-entry:top-level-traversable-2">applies</a> to <a data-link-type="dfn" href="#top-level-traversable" id="ref-for-top-level-traversable①②">top-level traversables</a> instead of all <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable①⓪">navigables</a>, and this specification continues this
intention insofar as this header does not have an impact on <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable③⑨">fenced
navigables</a>, nor is it inherited from its embedder. Consequently, the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context-group" id="ref-for-browsing-context-group⑥">browsing context group</a> hosted inside of a <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable④⓪">fenced traversable navigable</a> will
always have its <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#bcg-cross-origin-isolation" id="ref-for-bcg-cross-origin-isolation">cross-origin isolation mode</a> set to "<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#cross-origin-isolation-none" id="ref-for-cross-origin-isolation-none"><code>none</code></a>".</p>
   <p>Nevertheless, a <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable④①">fenced navigable</a> respects its <a data-link-type="dfn" href="#traversable-navigable-unfenced-parent" id="ref-for-traversable-navigable-unfenced-parent①④">unfenced parent</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#policy-container-embedder-policy" id="ref-for-policy-container-embedder-policy">embedder policy</a>, which is accomplished below:</p>
   <div class="algorithm" data-algorithm="coep-adherence-patch">
     In the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#check-a-navigation-response&apos;s-adherence-to-its-embedder-policy" id="ref-for-check-a-navigation-response&apos;s-adherence-to-its-embedder-policy">check a navigation response’s adherence to its embedder policy</a> algorithm, rewrite all
  occurrences of: 
    <ul>
     <li data-md>
      <p><var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-container-document" id="ref-for-nav-container-document">container document</a></p>
    </ul>
    <p>with:</p>
    <ul>
     <li data-md>
      <p><var>navigable</var>’s <a data-link-type="dfn" href="#navigable-unfenced-container-document" id="ref-for-navigable-unfenced-container-document">unfenced container document</a></p>
    </ul>
   </div>
   <p class="note" role="note"><span class="marker">Note:</span> This causes navigations inside of a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑤②">fencedframe</a></code> to fail if they are not served with a
suitable `<a data-link-type="http-header" href="https://html.spec.whatwg.org/multipage/browsers.html#cross-origin-embedder-policy" id="ref-for-cross-origin-embedder-policy"><code>Cross-Origin-Embedder-Policy</code></a>` header, just as <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" id="ref-for-the-iframe-element⑧">iframe</a></code>s behave.</p>
   <p class="issue" id="issue-3fa4bcc3"><a class="self-link" href="#issue-3fa4bcc3"></a> Determine if we need to fence or unfence the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#queue-a-cross-origin-embedder-policy-inheritance-violation" id="ref-for-queue-a-cross-origin-embedder-policy-inheritance-violation">queue a cross-origin embedder policy
inheritance violation</a> algorithm, as leaving it unfenced may cause a privacy leak.</p>
   <div class="algorithm" data-algorithm="corp-patch">
     Next, we modify how the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#cross-origin-resource-policy-check" id="ref-for-cross-origin-resource-policy-check">cross-origin resource policy check</a> <a href="https://html.spec.whatwg.org/C#populating-a-session-history-entry:cross-origin-resource-policy-check">applies
  to navigation requests</a>. Rewrite step 19, substep 13 of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#create-navigation-params-by-fetching" id="ref-for-create-navigation-params-by-fetching①">create navigation params by
  fetching</a> algorithm like so: 
    <ol>
     <li data-md>
      <p>If <var>response</var> is not a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error" id="ref-for-concept-network-error">network error</a>, <var>navigable</var> is a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#child-navigable" id="ref-for-child-navigable⑧">child navigable</a> or <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable④②">fenced navigable</a>, and the result of performing a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#cross-origin-resource-policy-check" id="ref-for-cross-origin-resource-policy-check①">cross-origin
 resource policy check</a> with <var>navigable</var>’s <a data-link-type="dfn" href="#navigable-unfenced-container-document" id="ref-for-navigable-unfenced-container-document①">unfenced container document</a>'s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document-origin" id="ref-for-concept-document-origin①">origin</a>, <var>navigable</var>’s <a data-link-type="dfn" href="#navigable-unfenced-container-document" id="ref-for-navigable-unfenced-container-document②">unfenced container document</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object⑤">relevant
 settings object</a>, <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-destination" id="ref-for-concept-request-destination⑤">destination</a>, <var>response</var>, and
 true is <strong>blocked</strong>, then set <var>response</var> to a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error" id="ref-for-concept-network-error①">network error</a> and <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break③">break</a>.</p>
      <p class="note" role="note"><span class="marker">Note:</span> Here we’re running the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#cross-origin-resource-policy-check" id="ref-for-cross-origin-resource-policy-check②">cross-origin resource policy check</a> against the <a data-link-type="dfn" href="#navigable-unfenced-parent" id="ref-for-navigable-unfenced-parent③">unfenced parent navigable</a> rather than <var>navigable</var> itself. This
 is because we care about the same-originness of the embedded content against the embedder’s
 context (ignoring the "fence"), not the navigation source.</p>
    </ol>
   </div>
   <p class="issue" id="issue-0714cdd7"><a class="self-link" href="#issue-0714cdd7"></a> Determine if we need to fence or unfence the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#queue-a-cross-origin-embedder-policy-corp-violation-report" id="ref-for-queue-a-cross-origin-embedder-policy-corp-violation-report">queue a cross-origin embedder policy
CORP violation report</a> algorithm, as leaving it unfenced may cause a privacy leak.</p>
   <details class="wpt-tests-block" dir="ltr" lang="en" open>
    <summary>Tests</summary>
    <ul class="wpt-tests-list">
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/embedder-coop-coep-blocked.https.html" title="fenced-frame/embedder-coop-coep-blocked.https.html">embedder-coop-coep-blocked.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/embedder-coop-coep-blocked.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/embedder-coop-coep-blocked.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/embedder-no-coep.https.html" title="fenced-frame/embedder-no-coep.https.html">embedder-no-coep.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/embedder-no-coep.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/embedder-no-coep.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/embedder-require-corp.https.html" title="fenced-frame/embedder-require-corp.https.html">embedder-require-corp.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/embedder-require-corp.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/embedder-require-corp.https.html"><small>(source)</small></a>
    </ul>
   </details>
   <h4 class="heading settled" data-level="3.8.5" id="navigation-changes"><span class="secno">3.8.5. </span><span class="content">Actual navigation changes</span><a class="self-link" href="#navigation-changes"></a></h4>
   <div class="algorithm" data-algorithm="source-snapshot-param-config">
     Add the following new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item②⑤">item</a>s to the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params" id="ref-for-source-snapshot-params①">source snapshot params</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct②⑤">struct</a>: 
    <dl>
     <dt data-md><dfn class="dfn-paneled" data-dfn-for="source snapshot params" data-dfn-type="dfn" data-noexport id="source-snapshot-params-initiator-fenced-frame-config-instance">initiator fenced frame config instance</dfn>
     <dd data-md>
      <p>a <a data-link-type="dfn" href="#fenced-frame-config-instance" id="ref-for-fenced-frame-config-instance⑦">fenced frame config instance</a> or null, initially null.</p>
     <dt data-md><dfn class="dfn-paneled" data-dfn-for="source snapshot params" data-dfn-type="dfn" data-noexport id="source-snapshot-params-target-fenced-frame-config">target fenced frame config</dfn>
     <dd data-md>
      <p>a <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config②②">fenced frame config</a> or null, initially null.</p>
     <dt data-md><dfn class="dfn-paneled" data-dfn-for="source snapshot params" data-dfn-type="dfn" data-noexport id="source-snapshot-params-attribution-reporting-enabled">attribution reporting enabled</dfn>
     <dd data-md>
      <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean①⑦">boolean</a>.</p>
     <dt data-md><dfn class="dfn-paneled" data-dfn-for="source snapshot params" data-dfn-type="dfn" data-noexport id="source-snapshot-params-attribution-reporting-context-origin">attribution reporting context origin</dfn>
     <dd data-md>
      <p>an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin⑦">origin</a>.</p>
     <dt data-md><dfn class="dfn-paneled" data-dfn-for="source snapshot params" data-dfn-type="dfn" data-noexport id="source-snapshot-params-automatic-beacons-allowed">automatic beacons allowed</dfn>
     <dd data-md>
      <p>an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean①⑧">boolean</a>.</p>
     <dt data-md><dfn class="dfn-paneled" data-dfn-for="source snapshot params" data-dfn-type="dfn" data-noexport id="source-snapshot-params-automatic-beacon-data-map">automatic beacon data map</dfn>
     <dd data-md>
      <p>a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①③">map</a> whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-keys" id="ref-for-map-getting-the-keys①②">keys</a> are <a data-link-type="dfn" href="#fencedframetype-automatic-beacon-event-type" id="ref-for-fencedframetype-automatic-beacon-event-type⑤">automatic beacon event type</a>s and whose <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-getting-the-values" id="ref-for-map-getting-the-values①①">values</a> are null or an <a data-link-type="dfn" href="#fencedframetype-automatic-beacon-data" id="ref-for-fencedframetype-automatic-beacon-data②">automatic beacon data</a></p>
    </dl>
    <p class="note" role="note"><span class="marker">Note:</span> The <a data-link-type="dfn" href="#source-snapshot-params-initiator-fenced-frame-config-instance" id="ref-for-source-snapshot-params-initiator-fenced-frame-config-instance①">initiator fenced frame config instance</a> is the <a data-link-type="dfn" href="#fenced-frame-config-instance" id="ref-for-fenced-frame-config-instance⑧">fenced frame
  config instance</a> that’s loaded into a navigation initiator’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context" id="ref-for-browsing-context①">browsing context</a>, if any exists.
  It is used by the <a data-link-type="dfn" href="#attempt-to-send-an-automatic-beacon" id="ref-for-attempt-to-send-an-automatic-beacon③">attempt to send an automatic beacon</a> algorithm to compare <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin⑧">origin</a>s and
  determine which <code class="idl"><a data-link-type="idl" href="#enumdef-fencereportingdestination" id="ref-for-enumdef-fencereportingdestination⑥">FenceReportingDestination</a></code>s to send beacons to, if the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑤③">fencedframe</a></code>-initiated navigation succeeds. The <a data-link-type="dfn" href="#source-snapshot-params-target-fenced-frame-config" id="ref-for-source-snapshot-params-target-fenced-frame-config">target fenced frame
  config</a> on the other hand, is the non-<a data-link-type="dfn" href="#instantiate-a-config" id="ref-for-instantiate-a-config">instantiated</a> <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config②③">fenced frame
  config</a> that will be loaded into a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑤④">fencedframe</a></code> element for navigations targeting fenced
  frames. These fields do not interact <em>together</em> in any meaningful way.</p>
   </div>
   <div class="algorithm" data-algorithm="get the automatic beacon data mapping to use">
     To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="get-the-automatic-beacon-data-mapping-to-use">get the automatic beacon data mapping to use</dfn> given a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②⑤">Document</a></code> <var>sourceDocument</var>: 
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑦">Assert</a> these steps are running on <var>sourceDocument</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loop" id="ref-for-event-loop">event loop</a>.</p>
     <li data-md>
      <p>Let <var>automatic beacon data map</var> be a new empty <a data-link-type="dfn" href="#document-automatic-beacon-data-map" id="ref-for-document-automatic-beacon-data-map①">automatic beacon data map</a>.</p>
     <li data-md>
      <p>Let <var>current navigable</var> be <var>sourceDocument</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable⑨">node navigable</a>.</p>
     <li data-md>
      <p>While <var>current navigable</var> is not null:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-iterate" id="ref-for-map-iterate④">For each</a> <var>type</var> → <var>data</var> of <var>current navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document⑦">active
 document</a>'s <a data-link-type="dfn" href="#document-automatic-beacon-data-map" id="ref-for-document-automatic-beacon-data-map②">automatic beacon data map</a>:</p>
        <ol>
         <li data-md>
          <p>If <var>automatic beacon data map</var>[<var>type</var>] does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#map-exists" id="ref-for-map-exists⑨">exist</a>, set <var>automatic beacon data map</var>[<var>type</var>] to <var>data</var>.</p>
        </ol>
        <p class="note" role="note"><span class="marker">Note:</span> This guarantees that the first ancestor that contains automatic beacon data for a
specific type will be usable by the document initiating the navigation. This will also prevent
an ancestor blocking a document from using data set in a higher ancestor.</p>
       <li data-md>
        <p>Set <var>current navigable</var> to <var>current navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent" id="ref-for-nav-parent①④">parent</a>.</p>
      </ol>
     <li data-md>
      <p>Return <var>automatic beacon data map</var>.</p>
    </ol>
    <p class="note" role="note"><span class="marker">Note:</span> The returned map is meant to hold references to the original <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②⑥">Document</a></code>'s <a data-link-type="dfn" href="#document-automatic-beacon-data-map" id="ref-for-document-automatic-beacon-data-map③">automatic beacon data map</a>s that were used to build <var>automatic beacon data map</var>. These
  are later modified in <a data-link-type="dfn" href="#attempt-to-send-an-automatic-beacon" id="ref-for-attempt-to-send-an-automatic-beacon④">attempt to send an automatic beacon</a> to clear out any beacon data with <a data-link-type="dfn" href="#automatic-beacon-data-once" id="ref-for-automatic-beacon-data-once②">once</a> set to true.</p>
   </div>
   <div class="algorithm" data-algorithm="snapshot-source-snapshot-params">
     Modify the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#snapshotting-source-snapshot-params" id="ref-for-snapshotting-source-snapshot-params">snapshot source snapshot params</a> algorithm to return a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params" id="ref-for-source-snapshot-params②">source snapshot params</a> with these additional fields: 
    <dl>
     <dt data-md><a data-link-type="dfn" href="#source-snapshot-params-initiator-fenced-frame-config-instance" id="ref-for-source-snapshot-params-initiator-fenced-frame-config-instance②">initiator fenced frame config instance</a>
     <dd data-md>
      <p><var>sourceDocument</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context" id="ref-for-browsing-context②">browsing context</a>'s <a data-link-type="dfn" href="#browsing-context-fenced-frame-config-instance" id="ref-for-browsing-context-fenced-frame-config-instance⑧">fenced frame
 config instance</a></p>
     <dt data-md><a data-link-type="dfn" href="#source-snapshot-params-attribution-reporting-enabled" id="ref-for-source-snapshot-params-attribution-reporting-enabled①">attribution reporting enabled</a>
     <dd data-md>
      <p>The result of determining whether <var>sourceDocument</var> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" id="ref-for-allowed-to-use①">allowed to use</a> the
 "<code><code class="idl"><a data-link-type="idl" href="https://wicg.github.io/attribution-reporting-api/#dom-permissionpolicy-attribution-reporting" id="ref-for-dom-permissionpolicy-attribution-reporting①">attribution-reporting</a></code></code>" feature</p>
     <dt data-md><a data-link-type="dfn" href="#source-snapshot-params-attribution-reporting-context-origin" id="ref-for-source-snapshot-params-attribution-reporting-context-origin①">attribution reporting context origin</a>
     <dd data-md>
      <p><var>sourceDocument</var>’s <a data-link-type="dfn" href="https://wicg.github.io/attribution-reporting-api/#node-context-origin" id="ref-for-node-context-origin①">context origin</a></p>
     <dt data-md><a data-link-type="dfn" href="#source-snapshot-params-automatic-beacons-allowed" id="ref-for-source-snapshot-params-automatic-beacons-allowed①">automatic beacons allowed</a>
     <dd data-md>
      <p><var>sourceDocument</var>’s <a data-link-type="dfn" href="#document-automatic-beacons-allowed" id="ref-for-document-automatic-beacons-allowed">automatic beacons allowed</a></p>
     <dt data-md><a data-link-type="dfn" href="#source-snapshot-params-automatic-beacon-data-map" id="ref-for-source-snapshot-params-automatic-beacon-data-map②">automatic beacon data map</a>
     <dd data-md>
      <p>The result of running <a data-link-type="dfn" href="#get-the-automatic-beacon-data-mapping-to-use" id="ref-for-get-the-automatic-beacon-data-mapping-to-use">get the automatic beacon data mapping to use</a> on <var>sourceDocument</var>.</p>
    </dl>
   </div>
   <div class="algorithm" data-algorithm="navigate">
     Modify the definition of <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate⑦">navigate</a> algorithm to include an extra parameter: an
  optional <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②⓪">string</a> <var>sharedStorageContext</var> (default null). 
    <p>Modify step 7 of <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate" id="ref-for-navigate⑧">navigate</a> algorithm to include the following condition:</p>
    <ul>
     <li data-md>
      <p><var>navigable</var> is a <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable④③">fenced navigable</a>;</p>
      <p class="note" role="note"><span class="marker">Note:</span> This ensures that <em>all</em> navigations inside of a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑤⑤">fencedframe</a></code> are made with the "<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#hh-replace" id="ref-for-hh-replace①"><code>replace</code></a>" mode, regardless of the initiator.</p>
    </ul>
    <details class="wpt-tests-block" dir="ltr" lang="en" open>
     <summary>Tests</summary>
     <ul class="wpt-tests-list">
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/history-back-and-forward-should-not-work-in-fenced-tree.https.html" title="fenced-frame/history-back-and-forward-should-not-work-in-fenced-tree.https.html">history-back-and-forward-should-not-work-in-fenced-tree.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/history-back-and-forward-should-not-work-in-fenced-tree.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/history-back-and-forward-should-not-work-in-fenced-tree.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/history-length-fenced-navigations-replace-do-not-contribute-to-joint.https.html" title="fenced-frame/history-length-fenced-navigations-replace-do-not-contribute-to-joint.https.html">history-length-fenced-navigations-replace-do-not-contribute-to-joint.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/history-length-fenced-navigations-replace-do-not-contribute-to-joint.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/history-length-fenced-navigations-replace-do-not-contribute-to-joint.https.html"><small>(source)</small></a>
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/history-length-outer-page-navigation-not-reflected-in-fenced.https.html" title="fenced-frame/history-length-outer-page-navigation-not-reflected-in-fenced.https.html">history-length-outer-page-navigation-not-reflected-in-fenced.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/history-length-outer-page-navigation-not-reflected-in-fenced.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/history-length-outer-page-navigation-not-reflected-in-fenced.https.html"><small>(source)</small></a>
     </ul>
    </details>
    <p>Modify step 8 of the same algorithm to include the following condition:</p>
    <ul>
     <li data-md>
      <p><var>sourceDocument</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable①⓪">node navigable</a> is not a <a data-link-type="dfn" href="#fenced-navigable-containers" id="ref-for-fenced-navigable-containers①①">fenced navigable container</a> while at the same time <var>navigable</var> is a <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable④④">fenced navigable</a>.</p>
      <p class="note" role="note"><span class="marker">Note:</span> This ensures that embedder-initiated navigations can <em>never</em> trigger a fragment
navigation inside of a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑤⑥">fencedframe</a></code>.</p>
    </ul>
    <details class="wpt-tests-block" dir="ltr" lang="en" open>
     <summary>Tests</summary>
     <ul class="wpt-tests-list">
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/fragment-navigation.https.html" title="fenced-frame/fragment-navigation.https.html">fragment-navigation.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/fragment-navigation.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/fragment-navigation.https.html"><small>(source)</small></a>
     </ul>
    </details>
    <p>Insert these steps immediately after step 20, the step that goes <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑤">in parallel</a>, so that what
  follows are the first steps that run <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑥">in parallel</a> in the patched algorithm:</p>
    <ol>
     <li data-md>
      <p>If <var>url</var> is a <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#urn-uuid" id="ref-for-urn-uuid①⑥">urn uuid</a> and <var>navigable</var> is a <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable④⑤">fenced
 navigable</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>config</var> be the result of <a data-link-type="dfn" href="#fenced-frame-config-mapping-find-a-config" id="ref-for-fenced-frame-config-mapping-find-a-config①">finding a
 config</a> in <var>sourceDocument</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable①①">node navigable</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-traversable" id="ref-for-nav-traversable④">traversable
 navigable</a>'s <a data-link-type="dfn" href="#traversable-navigable-fenced-frame-config-mapping" id="ref-for-traversable-navigable-fenced-frame-config-mapping③">fenced frame config mapping</a>.</p>
        <p class="note" role="note"><span class="marker">Note:</span> This might "wait" for an arbitrary period of time for the <var>config</var> associated with
 the <a data-link-type="dfn" href="https://www.ietf.org/rfc/rfc4122.txt#urn-uuid" id="ref-for-urn-uuid①⑦">urn uuid</a> <var>url</var> to be "finalized" in the <a data-link-type="dfn" href="#traversable-navigable-fenced-frame-config-mapping" id="ref-for-traversable-navigable-fenced-frame-config-mapping④">fenced frame config
 mapping</a>. This is why this step runs <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel⑦">in parallel</a>. This navigation will be canceled by
 any subsequent embedder-initiated navigations, <span class="allow-2119">should</span> they
 occur, by the usual mechanism that tracks the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#ongoing-navigation" id="ref-for-ongoing-navigation">ongoing navigation</a>.</p>
       <li data-md>
        <p>Set <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-embedder-shared-storage-context" id="ref-for-fenced-frame-config-embedder-shared-storage-context②">embedder shared storage context</a> to <var>sharedStorageContext</var>.</p>
       <li data-md>
        <p>Set <var>sourceSnapshotParams</var>’s <a data-link-type="dfn" href="#source-snapshot-params-target-fenced-frame-config" id="ref-for-source-snapshot-params-target-fenced-frame-config①">target fenced frame
 config</a> to <var>config</var>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑧">Assert</a> <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-mapped-url" id="ref-for-fenced-frame-config-mapped-url⑦">mapped url</a>'s <a data-link-type="dfn" href="#mapped-url-value" id="ref-for-mapped-url-value④">value</a> is a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑧">URL</a> whose <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme" id="ref-for-concept-url-scheme②">scheme</a> is "<code>https</code>".</p>
       <li data-md>
        <p>Set <var>url</var> to <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-mapped-url" id="ref-for-fenced-frame-config-mapped-url⑧">mapped url</a>'s <a data-link-type="dfn" href="#mapped-url-value" id="ref-for-mapped-url-value⑤">value</a>.</p>
       <li data-md>
        <p>Run steps in <var>config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-on-navigate-callback" id="ref-for-fenced-frame-config-on-navigate-callback②">on navigate callback</a>.</p>
      </ol>
    </ol>
    <details class="wpt-tests-block" dir="ltr" lang="en" open>
     <summary>Tests</summary>
     <ul class="wpt-tests-list">
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/frame-navigation.https.html" title="fenced-frame/frame-navigation.https.html">frame-navigation.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/frame-navigation.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/frame-navigation.https.html"><small>(source)</small></a>
     </ul>
    </details>
    <p>Rewrite the step starting with "Let <var>unloadPromptCanceled</var> be the result of" to:</p>
    <ol>
     <li data-md>
      <p>Let <var>unloadPromptCanceled</var> be false if <var>navigable</var> is a <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable④⑥">fenced
 navigable</a>, or the result of <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#checking-if-unloading-is-user-canceled" id="ref-for-checking-if-unloading-is-user-canceled">checking if unloading is user-canceled</a> for <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document⑧">active document</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#inclusive-descendant-navigables" id="ref-for-inclusive-descendant-navigables②">inclusive descendant navigables</a> otherwise.</p>
    </ol>
    <p>Add a step after step 22.8.2 (Let <var>finalSandboxFlags</var> be the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-union" id="ref-for-set-union">union</a>...) that reads:</p>
    <ol start="3">
     <li data-md>
      <p>If <var>sourceSnapshotParams</var>’s <a data-link-type="dfn" href="#source-snapshot-params-target-fenced-frame-config" id="ref-for-source-snapshot-params-target-fenced-frame-config②">target fenced frame config</a> is not null,
 and if <var>sourceSnapshotParams</var>’s <a data-link-type="dfn" href="#source-snapshot-params-target-fenced-frame-config" id="ref-for-source-snapshot-params-target-fenced-frame-config③">target fenced frame config</a>'s <a data-link-type="dfn" href="#fenced-frame-config-effective-sandboxing-flags" id="ref-for-fenced-frame-config-effective-sandboxing-flags②">effective sandboxing flags</a> is not null, then set <var>finalSandboxFlags</var> to
 the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-union" id="ref-for-set-union①">union</a> of <var>finalSandboxFlags</var> and <var>sourceSnapshotParams</var>’s <a data-link-type="dfn" href="#source-snapshot-params-target-fenced-frame-config" id="ref-for-source-snapshot-params-target-fenced-frame-config④">target fenced frame config</a>'s <a data-link-type="dfn" href="#fenced-frame-config-effective-sandboxing-flags" id="ref-for-fenced-frame-config-effective-sandboxing-flags③">effective sandboxing flags</a>' <a data-link-type="dfn" href="#effective-sandboxing-flags-value" id="ref-for-effective-sandboxing-flags-value①">value</a>.</p>
      <p class="note" role="note"><span class="marker">Note:</span> This ensures that the <var>finalSandboxFlags</var> are <em>at least</em> as restrictive as the <a data-link-type="dfn" href="#fenced-frame-config-effective-sandboxing-flags" id="ref-for-fenced-frame-config-effective-sandboxing-flags④">effective sandboxing flags</a> defined in the <a data-link-type="dfn" href="#source-snapshot-params-target-fenced-frame-config" id="ref-for-source-snapshot-params-target-fenced-frame-config⑤">target fenced
 frame config</a>. A separate check in the <a data-link-type="dfn" href="#should-navigation-response-to-navigation-request-be-blocked-by-sandboxing-flags" id="ref-for-should-navigation-response-to-navigation-request-be-blocked-by-sandboxing-flags">blocked by sandboxing flags?</a> algorithm will make sure that <var>finalSandboxFlags</var> is not more restrictive than the <a data-link-type="dfn" href="#fenced-frame-config-effective-sandboxing-flags" id="ref-for-fenced-frame-config-effective-sandboxing-flags⑤">effective sandboxing
 flags</a>.</p>
    </ol>
    <details class="wpt-tests-block" dir="ltr" lang="en" open>
     <summary>Tests</summary>
     <ul class="wpt-tests-list">
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/before-unload.https.html" title="fenced-frame/before-unload.https.html">before-unload.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/before-unload.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/before-unload.https.html"><small>(source)</small></a>
     </ul>
    </details>
   </div>
   <p><br></p>
   <p>The below patches make use of the previously-assigned <a data-link-type="dfn" href="#source-snapshot-params-target-fenced-frame-config" id="ref-for-source-snapshot-params-target-fenced-frame-config⑥">target fenced frame
config</a>, <a data-link-type="dfn" href="#instantiate-a-config" id="ref-for-instantiate-a-config①">instantiating</a> it in preparation for use when the navigation is
finalized.</p>
   <div class="algorithm" data-algorithm="navigation-params-config-instance">
     Add a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct-item" id="ref-for-struct-item②⑥">item</a> to the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params" id="ref-for-navigation-params">navigation params</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#struct" id="ref-for-struct②⑥">struct</a>: 
    <dl>
     <dt data-md><dfn class="dfn-paneled" data-dfn-for="navigation params" data-dfn-type="dfn" data-noexport id="navigation-params-fenced-frame-config-instance">fenced frame config instance</dfn>
     <dd data-md>
      <p>A <a data-link-type="dfn" href="#fenced-frame-config-instance" id="ref-for-fenced-frame-config-instance⑨">fenced frame config instance</a> or null, initially null.</p>
      <p class="note" role="note"><span class="marker">Note:</span> This is only set for embedder-initiated <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑤⑦">fencedframe</a></code> navigations, and if a new <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②⑦">Document</a></code> is created as a result of such a navigation, this member is transferred to the new <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable④⑦">fenced navigable</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-bc" id="ref-for-nav-bc">active browsing context</a>'s <a data-link-type="dfn" href="#browsing-context-fenced-frame-config-instance" id="ref-for-browsing-context-fenced-frame-config-instance⑨">fenced frame config instance</a> member.</p>
    </dl>
   </div>
   <div class="algorithm" data-algorithm="create-navigation-params-config-instance">
     Modify <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#create-navigation-params-by-fetching" id="ref-for-create-navigation-params-by-fetching②">create navigation params by fetching</a> algorithm such that the last step that
  returns a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params" id="ref-for-navigation-params①">navigation params</a> has the following additional assignment: 
    <dl>
     <dt data-md><a data-link-type="dfn" href="#navigation-params-fenced-frame-config-instance" id="ref-for-navigation-params-fenced-frame-config-instance">fenced frame config instance</a>
     <dd data-md>
      <p>If <var>sourceSnapshotParams</var>’s <a data-link-type="dfn" href="#source-snapshot-params-target-fenced-frame-config" id="ref-for-source-snapshot-params-target-fenced-frame-config⑦">target fenced frame config</a> is null, then
 null; otherwise, the result of <a data-link-type="dfn" href="#instantiate-a-config" id="ref-for-instantiate-a-config②">instantiating</a> <var>sourceSnapshotParams</var>’s <a data-link-type="dfn" href="#source-snapshot-params-target-fenced-frame-config" id="ref-for-source-snapshot-params-target-fenced-frame-config⑧">target fenced frame config</a>.</p>
    </dl>
   </div>
   <p><br></p>
   <p>Finally, the below patches make use of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params" id="ref-for-navigation-params②">navigation params</a>'s <a data-link-type="dfn" href="#navigation-params-fenced-frame-config-instance" id="ref-for-navigation-params-fenced-frame-config-instance①">fenced frame
config instance</a>, and handle the assignment of a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context" id="ref-for-browsing-context③">browsing context</a>'s <a data-link-type="dfn" href="#browsing-context-fenced-frame-config-instance" id="ref-for-browsing-context-fenced-frame-config-instance①⓪">fenced
frame config instance</a> that is initiated by a navigation.</p>
   <p class="note" role="note"><span class="marker">Note:</span> A <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context" id="ref-for-browsing-context④">browsing context</a>'s <a data-link-type="dfn" href="#browsing-context-fenced-frame-config-instance" id="ref-for-browsing-context-fenced-frame-config-instance①①">fenced frame config instance</a> is assigned in two
different ways: (1) during embedder-initiated <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑤⑧">fencedframe</a></code> navigation, as described by the rest
of this section, and (2) inherited during initial <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②⑧">Document</a></code> creation for <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document②⑨">Document</a></code>s in <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#child-navigable" id="ref-for-child-navigable⑨">child
navigables</a> whose <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-traversable" id="ref-for-nav-traversable⑤">traversable navigable</a> is a <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable④⑧">fenced
navigable</a>, as handled in the <a href="#creating-browsing-contexts-patch">§ 3.3 Modifications to creating browsing contexts</a> section.</p>
   <p>For any successful navigation inside of a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑤⑨">fencedframe</a></code>, regardless of whether it was initiated by
content in the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑥⓪">fencedframe</a></code> or its embedder, exactly one of two things will happen:</p>
   <ul>
    <li data-md>
     <p><i>Embedder-initiated navigations</i>: The <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params" id="ref-for-navigation-params③">navigation params</a>'s <a data-link-type="dfn" href="#navigation-params-fenced-frame-config-instance" id="ref-for-navigation-params-fenced-frame-config-instance②">fenced
 frame config instance</a> will be unconditionally assigned to the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑥①">fencedframe</a></code>'s <a data-link-type="dfn" href="#fenced-navigable-containers" id="ref-for-fenced-navigable-containers①②">fenced
 navigable container</a>'s <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable④⑨">fenced navigable</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-bc" id="ref-for-nav-bc①">active
 browsing context</a>'s <a data-link-type="dfn" href="#browsing-context-fenced-frame-config-instance" id="ref-for-browsing-context-fenced-frame-config-instance①②">fenced frame config instance</a>.</p>
    <li data-md>
     <p><i>Inner-content-initiated navigations</i>: The <a data-link-type="dfn" href="#fenced-frame-config-instance" id="ref-for-fenced-frame-config-instance①⓪">fenced frame config instance</a> referenced in
 the immediately-preceding point persists through this kind of cross-<code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document③⓪">Document</a></code> navigation.</p>
   </ul>
   <div class="algorithm" data-algorithm="create-and-initialize-document-patch">
     Modify <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#initialise-the-document-object" id="ref-for-initialise-the-document-object">create and initialize a Document object</a> algorithm to insert one step after
  step 2 that reads: 
    <ol start="3">
     <li data-md>
      <p>If <var>navigationParams</var>’s <a data-link-type="dfn" href="#navigation-params-fenced-frame-config-instance" id="ref-for-navigation-params-fenced-frame-config-instance③">fenced frame config instance</a> is not null:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑨">Assert</a>: <var>browsingContext</var> does not equal <var>navigationParams</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-navigable" id="ref-for-navigation-params-navigable①">navigable</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-bc" id="ref-for-nav-bc②">active browsing context</a>.</p>
        <p class="note" role="note"><span class="marker">Note:</span> This is because embedder-initiated navigations (indicated by <var>navigationParams</var>’s <a data-link-type="dfn" href="#navigation-params-fenced-frame-config-instance" id="ref-for-navigation-params-fenced-frame-config-instance④">fenced frame config instance</a> being non-null) always cause a <a href="#bcg-swap">§ 3.8.6 Browsing context group swap</a>.</p>
       <li data-md>
        <p>Set <var>navigationParams</var>’s <a data-link-type="dfn" href="#navigation-params-fenced-frame-config-instance" id="ref-for-navigation-params-fenced-frame-config-instance⑤">fenced frame config instance</a>'s <a data-link-type="dfn" href="#fenced-frame-config-cross-origin-reporting-allowed" id="ref-for-fenced-frame-config-cross-origin-reporting-allowed①">cross-origin reporting allowed</a> to the result of running <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-get-structured-header" id="ref-for-concept-header-list-get-structured-header">get a
 structured field value</a> on <var>navigationParams</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-response" id="ref-for-navigation-params-response②">response</a>'s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list">header list</a> given <span>`<code><a data-link-type="http-header" href="#http-headerdef-allow-cross-origin-event-reporting" id="ref-for-http-headerdef-allow-cross-origin-event-reporting①">Allow-Cross-Origin-Event-Reporting</a></code>`</span> and "<code>item</code>".</p>
       <li data-md>
        <p>Set <var>browsingContext</var>’s <a data-link-type="dfn" href="#browsing-context-fenced-frame-config-instance" id="ref-for-browsing-context-fenced-frame-config-instance①③">fenced frame config instance</a> to <var>navigationParams</var>’s <a data-link-type="dfn" href="#navigation-params-fenced-frame-config-instance" id="ref-for-navigation-params-fenced-frame-config-instance⑥">fenced frame config instance</a>.</p>
      </ol>
    </ol>
    <p>Add a new step after step 9 that reads:</p>
    <ol start="10">
     <li data-md>
      <p>Let <var>automaticBeaconsAllowed</var> be the result of running <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-get-structured-header" id="ref-for-concept-header-list-get-structured-header①">get a structured field
  value</a> on <var>navigationParams</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-response" id="ref-for-navigation-params-response③">response</a>'s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-header-list" id="ref-for-concept-response-header-list①">header list</a> given <span>`<code><a data-link-type="http-header" href="#http-headerdef-allow-fenced-frame-automatic-beacons" id="ref-for-http-headerdef-allow-fenced-frame-automatic-beacons①">Allow-Fenced-Frame-Automatic-Beacons</a></code>`</span> and "<code>item</code>".</p>
    </ol>
    <p>Further rewrite step 10 (now step 12) to return a new <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document③①">Document</a></code> with an additional parameter:</p>
    <dl>
     <dt data-md><a data-link-type="dfn" href="#document-automatic-beacons-allowed" id="ref-for-document-automatic-beacons-allowed①">automatic beacons allowed</a>
     <dd data-md>
      <p><var>automaticBeaconsAllowed</var>.</p>
    </dl>
   </div>
   <h4 class="heading settled" data-level="3.8.6" id="bcg-swap"><span class="secno">3.8.6. </span><span class="content">Browsing context group swap</span><a class="self-link" href="#bcg-swap"></a></h4>
   <p>When the embedder of a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑥②">fencedframe</a></code> initiates navigations inside the frame, we must perform a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context-group" id="ref-for-browsing-context-group⑦">browsing context group</a> swap to entirely reset the context inside the frame, to ensure nothing is
left over to be leaked to the next <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document③②">Document</a></code>.</p>
   <div class="algorithm" data-algorithm="attempt-populate-history-bcg-swap">
     Modify <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#attempt-to-populate-the-history-entry&apos;s-document" id="ref-for-attempt-to-populate-the-history-entry&apos;s-document②">attempt to populate the history entry’s document</a> algorithm. Add a step
  before the step that reads "6. <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task" id="ref-for-queue-a-global-task④">Queue a global task</a> on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#navigation-and-traversal-task-source" id="ref-for-navigation-and-traversal-task-source">navigation and traversal task
  source</a>", that reads: 
    <ol start="6">
     <li data-md>
      <p>If all of the following conditions are true:</p>
      <ul>
       <li data-md>
        <p><var>navigable</var> is a <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable⑤⓪">fenced navigable</a>;</p>
       <li data-md>
        <p><var>sourceSnapshotParams</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params-client" id="ref-for-source-snapshot-params-client">fetch client</a> is <strong>not</strong> <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document" id="ref-for-nav-document⑨">active document</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object" id="ref-for-relevant-settings-object⑥">relevant settings object</a>;</p>
       <li data-md>
        <p><var>navigationParams</var> is non-null</p>
      </ul>
      <p>then set <var>navigationParams</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-coop-enforcement-result" id="ref-for-navigation-params-coop-enforcement-result">COOP enforcement result</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#coop-enforcement-bcg-switch" id="ref-for-coop-enforcement-bcg-switch">needs a browsing context group switch</a> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean①⑨">boolean</a> to true.</p>
      <p class="issue" id="issue-65d90823"><a class="self-link" href="#issue-65d90823"></a> This indeed works, but we should consider using a separate mechanism to carry this out,
 instead of piggybacking off of the COOP mechanism which was designed without fenced frames in
 mind, and could evolve in ways that give this specification unwanted side-effects.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="3.9" id="page-visibility"><span class="secno">3.9. </span><span class="content">Page visibility</span><a class="self-link" href="#page-visibility"></a></h3>
   <p>The <a href="https://html.spec.whatwg.org/#page-visibility">Page visibility</a> section of <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a> is
modified such that the first step of the algorithm that runs when a user-agent changes a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable" id="ref-for-traversable-navigable①⑧">traversable navigable</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#system-visibility-state" id="ref-for-system-visibility-state">system visibility state</a> calls the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#inclusive-descendant-navigables" id="ref-for-inclusive-descendant-navigables③">inclusive descendant
navigables</a> algorithm with <a data-link-type="dfn" href="#inclusive-dn-unfenced" id="ref-for-inclusive-dn-unfenced②">unfenced</a> set to true.</p>
   <h2 class="heading settled" data-level="4" id="interaction-with-other-specs"><span class="secno">4. </span><span class="content">Interactions with other specifications</span><a class="self-link" href="#interaction-with-other-specs"></a></h2>
   <p>Due to the necessarily cross-cutting nature of the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑥③">fencedframe</a></code> element and its interactions with
core concepts like <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable①①">navigable</a> and <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context-group" id="ref-for-browsing-context-group⑧">browsing context group</a>, there are a number of
specifications that rely on terms whose usages must be re-evaluated in light of this specification;
this section houses the various changes that we propose to other specifications.</p>
   <h3 class="heading settled" data-level="4.1" id="prerendering-monkeypatch"><span class="secno">4.1. </span><span class="content">Prerendering</span><a class="self-link" href="#prerendering-monkeypatch"></a></h3>
   <p>The <a href="https://wicg.github.io/nav-speculation/prerendering.html">Prerendering Revamped</a> specification defines <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable①②">navigable</a>'s <a data-link-type="dfn" href="https://wicg.github.io/nav-speculation/prerendering.html#navigable-loading-mode" id="ref-for-navigable-loading-mode①">loading mode</a> and the values it can take on. Our
specification adds another value for fenced frames:</p>
   <dl>
    <dt data-md>"<code>fencedframe</code>"
    <dd data-md>
     <p>This <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable①③">navigable</a> is displaying a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑥④">fencedframe</a></code>'s content</p>
   </dl>
   <p class="issue" id="issue-d22ed66a"><a class="self-link" href="#issue-d22ed66a"></a> Specify the behavior that leads to the following:</p>
   <details class="wpt-tests-block" dir="ltr" lang="en" open>
    <summary>Tests</summary>
    <ul class="wpt-tests-list">
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/prerender.https.html" title="fenced-frame/prerender.https.html">prerender.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/prerender.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/prerender.https.html"><small>(source)</small></a>
    </ul>
   </details>
   <h3 class="heading settled" data-level="4.2" id="csp-integration"><span class="secno">4.2. </span><span class="content">Content Security Policy</span><a class="self-link" href="#csp-integration"></a></h3>
   <p><em>This introductory section is non-normative</em>.</p>
   <p>Content Security Policy <a data-link-type="biblio" href="#biblio-csp" title="Content Security Policy Level 3">[CSP]</a> can ordinarily be used by web content associated with a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document③③">Document</a></code> that hosts a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable-container" id="ref-for-navigable-container⑥">navigable container</a> to limit the source of navigations in a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#child-navigable" id="ref-for-child-navigable①⓪">child
navigable</a>.</p>
   <p>In order to prevent <a data-link-type="biblio" href="#biblio-csp" title="Content Security Policy Level 3">[CSP]</a> from being used a communication side-channel exposing the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url⑨">URL</a> of
navigations inside a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑥⑤">fencedframe</a></code> to the site operating its embedder, the only <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#source-expression" id="ref-for-source-expression">source
expressions</a> that can influence a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑥⑥">fencedframe</a></code> navigation are:</p>
   <ul>
    <li data-md>
     <p>The <a data-link-type="grammar" href="https://w3c.github.io/webappsec-csp/#grammardef-scheme-source" id="ref-for-grammardef-scheme-source">scheme-source</a> "<code>https:</code>"</p>
    <li data-md>
     <p>The <a data-link-type="grammar" href="https://w3c.github.io/webappsec-csp/#grammardef-host-source" id="ref-for-grammardef-host-source">host-source</a> "<code>https://*:*</code>"</p>
    <li data-md>
     <p>The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string②①">string</a> "<code>*</code>"</p>
   </ul>
   <p>See our <a href="https://github.com/WICG/fenced-frame/blob/master/explainer/interaction_with_content_security_policy.md#proposal---scheme-source-matching">CSP
explainer</a> that describes this.</p>
   <h4 class="heading settled" data-level="4.2.1" id="csp-algorithms"><span class="secno">4.2.1. </span><span class="content">Algorithms</span><a class="self-link" href="#csp-algorithms"></a></h4>
   <div class="algorithm" data-algorithm="pre-request-check-csp">
     Add a step after step 2 of the <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#frame-src-pre-request" id="ref-for-frame-src-pre-request">frame-src pre-request check</a> that says: 
    <ol start="3">
     <li data-md>
      <p>If <var>request</var>’s <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-destination" id="ref-for-concept-request-destination⑥">destination</a> is "<code>fencedframe</code>", and this directive’s <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#directive-value" id="ref-for-directive-value">value</a> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain④">contain</a> either "<code>https:</code>", "<code>https://*:*</code>", or
 "<code>*</code>", return "<code>Blocked</code>".</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="post-request-check-csp">
     Add a step after step 2 of the <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#frame-src-post-request" id="ref-for-frame-src-post-request">frame-src post-request check</a> that says: 
    <ol start="3">
     <li data-md>
      <p>If <var>request</var> <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-destination" id="ref-for-concept-request-destination⑦">destination</a> is "<code>fencedframe</code>", and this directive’s <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#directive-value" id="ref-for-directive-value①">value</a> does not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain⑤">contain</a> either "<code>https:</code>", "<code>https://*:*</code>", or "<code>*</code>",
return "<code>Blocked</code>".</p>
    </ol>
   </div>
   <p>Next, we modify the behavior of the <a data-link-type="biblio" href="#biblio-cspee" title="Prerendering Revamped">[CSPEE]</a> specification. If the embedding frame specifies a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-cspee/#browsing-context-required-csp" id="ref-for-browsing-context-required-csp">required CSP</a>, fenced frames will not load. This is done to prevent arbitrary data flow from the
embedder to the fenced frame.</p>
   <div class="algorithm" data-algorithm="cspee-changes">
     Add a step after step 1 in the <a data-link-type="dfn" href="https://w3c.github.io/webappsec-cspee/#process-response" id="ref-for-process-response①">Is response to request blocked by context’s required CSP?</a> algorithm that reads: 
    <ol start="2">
     <li data-md>
      <p>If <var>context</var>’s <a data-link-type="dfn" href="https://w3c.github.io/webappsec-cspee/#browsing-context-required-csp" id="ref-for-browsing-context-required-csp①">required csp</a> is not <code>null</code>, and <var>request</var> <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-destination" id="ref-for-concept-request-destination⑧">destination</a> is "<code>fencedframe</code>", return "<code>Blocked</code>".</p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="4.2.2" id="new-csp-directive"><span class="secno">4.2.2. </span><span class="content">New fenced-frame-src <a data-link-type="biblio" href="#biblio-csp" title="Content Security Policy Level 3">[CSP]</a> <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#directives" id="ref-for-directives">directive</a></span><a class="self-link" href="#new-csp-directive"></a></h4>
   <p>Since <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑥⑦">fencedframe</a></code> is a different element than <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" id="ref-for-the-iframe-element⑨">iframe</a></code>, using the <b><i><a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#frame-src" id="ref-for-frame-src">frame-src</a></i></b> directive wouldn’t give web sites enough control over their CSP rules. Introduce a new <a data-link-type="biblio" href="#biblio-csp" title="Content Security Policy Level 3">[CSP]</a> <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#directives" id="ref-for-directives①">directive</a>: <b><i>fenced-frame-src</i></b>. The monkey-patched specification is printed below:</p>
   <div class="algorithm" data-algorithm="fenced-frame-src">
     The <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="fenced-frame-src">fenced-frame-src</dfn> directive restricts the URLs which may be loaded into a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑥⑧">fencedframe</a></code>'s <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable⑤①">fenced navigable</a>. The syntax for the directive’s
  name and value is described by the following ABNF: 
<pre>directive-name  = "fenced-frame-src"
directive-value = <a data-link-type="grammar" href="https://w3c.github.io/webappsec-csp/#grammardef-serialized-source-list" id="ref-for-grammardef-serialized-source-list">serialized-source-list</a>
</pre>
    <div class="example" id="fenced-frame-src-example">
     <a class="self-link" href="#fenced-frame-src-example"></a> Given a page with the following Content Security Policy: 
<pre><a data-link-type="http-header" href="https://w3c.github.io/webappsec-csp/#header-content-security-policy" id="ref-for-header-content-security-policy">Content-Security-Policy</a>: <a data-link-type="dfn" href="#fenced-frame-src" id="ref-for-fenced-frame-src">fenced-frame-src</a> https://example.com/
</pre>
     <p>Fetches for the following code will return a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-network-error" id="ref-for-concept-network-error②">network error</a>, as the URL provided does not
    match <code>fenced-frame-src</code>’s <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#source-lists" id="ref-for-source-lists">source list</a>:</p>
<pre class="highlight"><c- p>&lt;</c-><c- f>fencedframe</c-> <c- e>src</c-><c- o>=</c-><c- s>"https://example.org/"</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>fencedframe</c-><c- p>></c->
</pre>
    </div>
    <p>The <a href="https://w3c.github.io/webappsec-csp/#frame-src-pre-request" id="e8859a960">Pre-request check</a> and <a href="https://w3c.github.io/webappsec-csp/#frame-src-post-request" id="a6116a630">Post-request check</a> will
  be the same as the <a href="https://w3c.github.io/webappsec-csp/#directive-frame-src">frame-src</a>’s check.</p>
   </div>
   <div class="algorithm" data-algorithm="default-src-amendment">
     The <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#default-src" id="ref-for-default-src">default-src</a> directive’s Example 7 and Example 8 will be amended. Where it says: 
<pre><a data-link-type="http-header" href="https://w3c.github.io/webappsec-csp/#header-content-security-policy" id="ref-for-header-content-security-policy①">Content-Security-Policy</a>: <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#connect-src" id="ref-for-connect-src">connect-src</a> <a data-link-type="grammar" href="https://w3c.github.io/webappsec-csp/#grammardef-self" id="ref-for-grammardef-self">'self'</a>;
                        ...
                        <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#worker-src" id="ref-for-worker-src">worker-src</a> <a data-link-type="grammar" href="https://w3c.github.io/webappsec-csp/#grammardef-self" id="ref-for-grammardef-self①">'self'</a>
</pre>
    <p>It will now say:</p>
<pre><a data-link-type="http-header" href="https://w3c.github.io/webappsec-csp/#header-content-security-policy" id="ref-for-header-content-security-policy②">Content-Security-Policy</a>: <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#connect-src" id="ref-for-connect-src①">connect-src</a> <a data-link-type="grammar" href="https://w3c.github.io/webappsec-csp/#grammardef-self" id="ref-for-grammardef-self②">'self'</a>;
                        ...
                        <a data-link-type="dfn" href="#fenced-frame-src" id="ref-for-fenced-frame-src①">fenced-frame-src</a> <a data-link-type="grammar" href="https://w3c.github.io/webappsec-csp/#grammardef-self" id="ref-for-grammardef-self③">'self'</a>;
                        ...
                        <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#worker-src" id="ref-for-worker-src①">worker-src</a> <a data-link-type="grammar" href="https://w3c.github.io/webappsec-csp/#grammardef-self" id="ref-for-grammardef-self④">'self'</a>
</pre>
   </div>
   <div class="algorithm" data-algorithm="directive-fallback-list">
     In the <a href="https://w3c.github.io/webappsec-csp/#directive-fallback-list">directive fallback
  list</a>, in step 1, add a new entry to the list: 
    <dl>
     <dt data-md>"<code>fenced-frame-src</code>"
     <dd data-md>
      <ol>
       <li data-md>
        <p>Return <code>&lt;&lt; "fenced-frame-src", "frame-src", "child-src", "default-src" >></code>.</p>
      </ol>
    </dl>
   </div>
   <div class="algorithm" data-algorithm="effective-directive-switch-patch">
     Modify the switch on step 3 of the <a data-link-type="dfn" href="https://w3c.github.io/webappsec-csp/#effective-directive-for-a-request" id="ref-for-effective-directive-for-a-request">Get the effective directive for request</a> algorithm to
  include the following case: 
    <dl>
     <dt data-md>"<code>fencedframe</code>"
     <dd data-md>
      <ol>
       <li data-md>
        <p>Return <code>fenced-frame-src</code>.</p>
      </ol>
    </dl>
   </div>
   <details class="wpt-tests-block" dir="ltr" lang="en" open>
    <summary>Tests</summary>
    <ul class="wpt-tests-list">
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/ancestor-throttle.https.html" title="fenced-frame/ancestor-throttle.https.html">ancestor-throttle.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/ancestor-throttle.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/ancestor-throttle.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/csp-allowed.https.html" title="fenced-frame/csp-allowed.https.html">csp-allowed.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/csp-allowed.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/csp-allowed.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/csp-blocked.https.html" title="fenced-frame/csp-blocked.https.html">csp-blocked.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/csp-blocked.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/csp-blocked.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/csp-fenced-frame-src-allowed.https.html" title="fenced-frame/csp-fenced-frame-src-allowed.https.html">csp-fenced-frame-src-allowed.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/csp-fenced-frame-src-allowed.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/csp-fenced-frame-src-allowed.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/csp-fenced-frame-src-blocked.https.html" title="fenced-frame/csp-fenced-frame-src-blocked.https.html">csp-fenced-frame-src-blocked.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/csp-fenced-frame-src-blocked.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/csp-fenced-frame-src-blocked.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/csp-frame-src-allowed.https.html" title="fenced-frame/csp-frame-src-allowed.https.html">csp-frame-src-allowed.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/csp-frame-src-allowed.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/csp-frame-src-allowed.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/csp-frame-src-blocked.https.html" title="fenced-frame/csp-frame-src-blocked.https.html">csp-frame-src-blocked.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/csp-frame-src-blocked.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/csp-frame-src-blocked.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/csp-allowed-transparent.https.html" title="fenced-frame/csp-allowed-transparent.https.html">csp-allowed-transparent.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/csp-allowed-transparent.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/csp-allowed-transparent.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/csp-blocked-transparent.https.html" title="fenced-frame/csp-blocked-transparent.https.html">csp-blocked-transparent.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/csp-blocked-transparent.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/csp-blocked-transparent.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/csp.https.html" title="fenced-frame/csp.https.html">csp.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/csp.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/csp.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/cspee.https.html" title="fenced-frame/cspee.https.html">cspee.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/cspee.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/cspee.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/embedder-csp-not-propagate.https.html" title="fenced-frame/embedder-csp-not-propagate.https.html">embedder-csp-not-propagate.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/embedder-csp-not-propagate.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/embedder-csp-not-propagate.https.html"><small>(source)</small></a>
    </ul>
   </details>
   <h3 class="heading settled" data-level="4.3" id="permissions-policy-changes"><span class="secno">4.3. </span><span class="content">Permissions Policies</span><a class="self-link" href="#permissions-policy-changes"></a></h3>
   <p><em>This introductory sub-section is non-normative.</em></p>
   <p>The <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature④">policy-controlled features</a> available to <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document③④">Document</a></code>s inside of a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑥⑨">fencedframe</a></code> are
determined exclusively by the <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config②④">fenced frame config</a> that the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑦⓪">fencedframe</a></code> navigates to.
Specifically, the <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config②⑤">fenced frame config</a>'s <a data-link-type="dfn" href="#fenced-frame-config-effective-enabled-permissions" id="ref-for-fenced-frame-config-effective-enabled-permissions③">effective enabled permissions</a> defines the exclusive list of <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature⑤">policy-controlled features</a> that will be enabled in the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document③⑤">Document</a></code> (all others will be disabled).</p>
   <p>During navigation, the <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config②⑥">fenced frame config</a> <a data-link-type="dfn" href="#instantiate-a-config" id="ref-for-instantiate-a-config③">instantiates</a> a <a data-link-type="dfn" href="#browsing-context-fenced-frame-config-instance" id="ref-for-browsing-context-fenced-frame-config-instance①④">fenced frame config instance</a> that is stored on the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context" id="ref-for-browsing-context⑤">browsing context</a> in the <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable⑤②">fenced navigable</a>. This browsing context’s <a data-link-type="dfn" href="#browsing-context-fenced-frame-config-instance" id="ref-for-browsing-context-fenced-frame-config-instance①⑤">fenced frame
config instance</a>'s <a data-link-type="dfn" href="#fenced-frame-config-instance-effective-enabled-permissions" id="ref-for-fenced-frame-config-instance-effective-enabled-permissions①">effective enabled permissions</a> is consulted <a data-link-type="dfn" href="#should-navigation-response-to-navigation-request-be-blocked-by-permissions-policy" id="ref-for-should-navigation-response-to-navigation-request-be-blocked-by-permissions-policy">during
navigation</a>. A <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑦①">fencedframe</a></code> navigation can only succeed if the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-document-permissions-policy" id="ref-for-concept-document-permissions-policy②">permissions policy</a> for the navigation’s resulting <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document③⑥">Document</a></code> has an <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#permissions-policy-inherited-policy" id="ref-for-permissions-policy-inherited-policy②">inherited policy</a> such that
the <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#inherited-policy-for-a-feature" id="ref-for-inherited-policy-for-a-feature①">inherited policy value</a> is "<code>Enabled</code>" for each feature in the <a data-link-type="dfn" href="#fenced-frame-config-effective-enabled-permissions" id="ref-for-fenced-frame-config-effective-enabled-permissions④">effective enabled permissions</a>. Otherwise the environment the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑦②">fencedframe</a></code> is embedded in is deemed unsuitable for the <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config②⑦">fenced frame config</a>, and the navigation is blocked.</p>
   <p>At the same time, to make sure that a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑦③">fencedframe</a></code>'s embedder does not directly influence content
in the frame based on that navigation’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-origin" id="ref-for-navigation-params-origin">origin</a> (since the origin is derived
from cross-site data), this specification modifies various <a data-link-type="biblio" href="#biblio-permissions-policy" title="Permissions Policy">[PERMISSIONS-POLICY]</a> algorithms such
that a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑦④">fencedframe</a></code> <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document③⑦">Document</a></code>'s <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#permissions-policy-inherited-policy" id="ref-for-permissions-policy-inherited-policy③">inherited policy</a> is computed without
consideration of whether its <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-origin" id="ref-for-navigation-params-origin①">origin</a> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin⑨">same origin</a> with its embedder’s.
Therefore a feature can only be enabled inside of a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑦⑤">fencedframe</a></code> if its embedder <em>explicitly</em> delegates it via <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#the-special-value" id="ref-for-the-special-value">the special value *</a> <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#allowlist" id="ref-for-allowlist">allowlist</a>.</p>
   <p>Considering all of the above, we get the following interesting implications:</p>
   <ul>
    <li data-md>
     <p>If a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature⑥">feature</a> that <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain⑥">exists</a> in the <a data-link-type="dfn" href="#fenced-frame-config-effective-enabled-permissions" id="ref-for-fenced-frame-config-effective-enabled-permissions⑤">effective enabled permissions</a> has a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist" id="ref-for-policy-controlled-feature-default-allowlist">default allowlist</a> of <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#the-special-value" id="ref-for-the-special-value①">the special value *</a>, and no `<a data-link-type="http-header" href="https://w3c.github.io/webappsec-permissions-policy/#permissions-policy-header" id="ref-for-permissions-policy-header"><code>Permissions-Policy</code></a>` header is served on
 the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑦⑥">fencedframe</a></code> embedder, and the <code><a data-link-type="element-sub" href="#element-attrdef-fencedframe-allow" id="ref-for-element-attrdef-fencedframe-allow①">allow</a></code> attribute is empty, the navigation
 inside the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑦⑦">fencedframe</a></code> will succeed, and the resulting <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document③⑧">Document</a></code> will be <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" id="ref-for-allowed-to-use②">allowed to
 use</a> the <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature⑦">feature</a> (i.e., it will be enabled).</p>
    <li data-md>
     <p>If a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature⑧">feature</a> that <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain⑦">exists</a> in the <a data-link-type="dfn" href="#fenced-frame-config-effective-enabled-permissions" id="ref-for-fenced-frame-config-effective-enabled-permissions⑥">effective enabled permissions</a> has a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist" id="ref-for-policy-controlled-feature-default-allowlist①">default allowlist</a> of <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#default-allowlist-self" id="ref-for-default-allowlist-self"><code>'self'</code></a>, and no `<a data-link-type="http-header" href="https://w3c.github.io/webappsec-permissions-policy/#permissions-policy-header" id="ref-for-permissions-policy-header①"><code>Permissions-Policy</code></a>`
 header is served on the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑦⑧">fencedframe</a></code> embedder, and the <code><a data-link-type="element-sub" href="#element-attrdef-fencedframe-allow" id="ref-for-element-attrdef-fencedframe-allow②">allow</a></code> attribute is
 empty, the navigation inside the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑦⑨">fencedframe</a></code> will be blocked.</p>
     <p class="note" role="note"><span class="marker">Note:</span> This is because ordinarily this <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature⑨">feature</a> would only be enabled
 if the subframe’s <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document③⑨">Document</a></code> was <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①⓪">same origin</a> with its embedder, a check this specification
 avoids for fenced frames, since the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑧⓪">fencedframe</a></code>s <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document④⓪">Document</a></code>'s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document-origin" id="ref-for-concept-document-origin②">origin</a> is
 derived from cross-site data. Therefore, we simply "fail close".</p>
    <li data-md>
     <p>If a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature①⓪">feature</a> that <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain⑧">exists</a> in the <a data-link-type="dfn" href="#fenced-frame-config-effective-enabled-permissions" id="ref-for-fenced-frame-config-effective-enabled-permissions⑦">effective enabled permissions</a> has a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist" id="ref-for-policy-controlled-feature-default-allowlist②">default allowlist</a> of <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#default-allowlist-self" id="ref-for-default-allowlist-self①"><code>'self'</code></a>, and the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑧①">fencedframe</a></code>'s <code><a data-link-type="element-sub" href="#element-attrdef-fencedframe-allow" id="ref-for-element-attrdef-fencedframe-allow③">allow</a></code> attribute contains the <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature①①">feature</a> but no <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#allowlist" id="ref-for-allowlist①">allowlist</a>, the rules
 described in <a href="allow-attribute-fenced-frame">The <code>allow</code> attribute section</a>, the default <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#allowlist" id="ref-for-allowlist②">allowlist</a> for the feature will be <code>'src'</code> which is meant to represent the embedder-supplied
 navigation <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①⓪">URL</a>, for which there is none when navigating a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑧②">fencedframe</a></code>, as the navigation <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url" id="ref-for-concept-url①①">URL</a> is determined by the <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config②⑧">fenced frame config</a>. The navigation will be blocked.</p>
    <li data-md>
     <p>If a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature①②">feature</a> that <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain⑨">exists</a> in the <a data-link-type="dfn" href="#fenced-frame-config-effective-enabled-permissions" id="ref-for-fenced-frame-config-effective-enabled-permissions⑧">effective enabled permissions</a> has a <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist" id="ref-for-policy-controlled-feature-default-allowlist③">default allowlist</a> of <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#default-allowlist-self" id="ref-for-default-allowlist-self②"><code>'self'</code></a> but either the `<a data-link-type="http-header" href="https://w3c.github.io/webappsec-permissions-policy/#permissions-policy-header" id="ref-for-permissions-policy-header②"><code>Permissions-Policy</code></a>` header served on the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑧③">fencedframe</a></code>'s embedder <em>OR</em> the <code><a data-link-type="element-sub" href="#element-attrdef-fencedframe-allow" id="ref-for-element-attrdef-fencedframe-allow④">allow</a></code> attribute sets that <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature①③">feature</a>'s <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#allowlist" id="ref-for-allowlist③">allowlist</a> to <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#the-special-value" id="ref-for-the-special-value②">the special value *</a>, then the navigation inside the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑧④">fencedframe</a></code> will succeed, and the
 resulting <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document④①">Document</a></code> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" id="ref-for-allowed-to-use③">allowed to use</a> the <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature①④">feature</a>.</p>
    <li data-md>
     <p>If a navigation inside a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑧⑤">fencedframe</a></code> would otherwise succeed, but the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response②">response</a> on the
 navigation inside the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑧⑥">fencedframe</a></code> is served with a `<a data-link-type="http-header" href="https://w3c.github.io/webappsec-permissions-policy/#permissions-policy-header" id="ref-for-permissions-policy-header③"><code>Permissions-Policy</code></a>` header that sets the <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#allowlist" id="ref-for-allowlist④">allowlist</a> to "<code>none</code>" or an
 otherwise incompatible <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin⑨">origin</a> for a feature in the <a data-link-type="dfn" href="#fenced-frame-config-effective-enabled-permissions" id="ref-for-fenced-frame-config-effective-enabled-permissions⑨">effective enabled
 permissions</a>, the navigation still succeeds, but the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document④②">Document</a></code> in the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑧⑦">fencedframe</a></code> is <strong>not</strong> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use" id="ref-for-allowed-to-use④">allowed to use</a> the feature.</p>
     <p class="note" role="note"><span class="marker">Note:</span> This is OK because it is the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑧⑧">fencedframe</a></code>'s content <em>itself</em> that is making the decision
 to disable a particular feature, not its embedder environment.</p>
   </ul>
   <p>The patches in the below section "fence" the appropriate <a data-link-type="biblio" href="#biblio-permissions-policy" title="Permissions Policy">[PERMISSIONS-POLICY]</a> and <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a> algorithms to achieve the outcomes described in the above explanatory content.</p>
   <h4 class="heading settled" data-level="4.3.1" id="permissions-policy-patches"><span class="secno">4.3.1. </span><span class="content">Algorithm patches</span><a class="self-link" href="#permissions-policy-patches"></a></h4>
   <div class="algorithm" data-algorithm="allow-attribute-fenced-frame" id="allow-attribute-fenced-frame">
     Rename the <a href="https://w3c.github.io/webappsec-permissions-policy/#iframe-allow-attribute">The <code>allow</code> attribute of the <code>iframe</code> element</a> section to "The <code>allow</code> attribute of the <code>iframe</code> and <code>fencedframe</code> element", and rewrite the section to read: 
    <p><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" id="ref-for-the-iframe-element①⓪">iframe</a></code> and <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑧⑨">fencedframe</a></code> elements have an respective <code>allow</code> attributes (<code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" id="ref-for-the-iframe-element①①">iframe</a></code>: <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow" id="ref-for-attr-iframe-allow">allow</a></code>; <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑨⓪">fencedframe</a></code>: <code><a data-link-type="element-sub" href="#element-attrdef-fencedframe-allow" id="ref-for-element-attrdef-fencedframe-allow⑤">allow</a></code>), which contain an <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#serialized-policy-directive" id="ref-for-serialized-policy-directive">ASCII-serialized
  policy directive</a>.</p>
    <p>The allowlist for the features named in the attribute may be empty; in that case, the default
  value for the <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#allowlist" id="ref-for-allowlist⑤">allowlist</a> is "<code>src</code>", which represents the origin of the URL in the iframe’s <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-src" id="ref-for-attr-iframe-src">src</a></code> attribute, or the fencedframe’s <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config②⑨">fenced frame config</a>.</p>
    <p>When not empty, the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" id="ref-for-the-iframe-element①②">iframe</a></code>'s <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow" id="ref-for-attr-iframe-allow①">allow</a></code> or <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑨①">fencedframe</a></code>'s <code><a data-link-type="element-sub" href="#element-attrdef-fencedframe-allow" id="ref-for-element-attrdef-fencedframe-allow⑥">allow</a></code> attribute will result in adding an <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#allowlist" id="ref-for-allowlist⑥">allowlist</a> for each <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#supported-features" id="ref-for-supported-features">supported feature</a> to the <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" id="ref-for-the-iframe-element①③">iframe</a></code> or <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑨②">fencedframe</a></code>'s <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#container-policy" id="ref-for-container-policy①">container policy</a>, when it is constructed.</p>
   </div>
   <div class="algorithm" data-algorithm="Derive a permissions policy directly from a fenced frame config instance">
     Create a new algorithm, called <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="Derive a permissions policy directly from a fenced frame config instance" data-noexport id="derive-a-permissions-policy-directly-from-a-fenced-frame-config-instance">Derive a permissions policy directly from a fenced frame
  config instance</dfn>. 
    <p>Given null or an <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-element" id="ref-for-concept-element">element</a> (<var>container</var>), this algorithm returns a new <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#permissions-policy" id="ref-for-permissions-policy①">permissions policy</a>.</p>
    <ol>
     <li data-md>
      <p>Let <var>inherited policy</var> be a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①④">ordered map</a>.</p>
     <li data-md>
      <p>Let <var>effective permissions</var> be an empty <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list①⑥">list</a>.</p>
     <li data-md>
      <p>Let <var>fenced frame config</var> be <var>container</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-document" id="ref-for-concept-node-document④">node document</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-bc" id="ref-for-nav-bc③">active browsing
 context</a>'s <a data-link-type="dfn" href="#browsing-context-fenced-frame-config-instance" id="ref-for-browsing-context-fenced-frame-config-instance①⑥">fenced frame config instance</a>.</p>
     <li data-md>
      <p>If <var>fenced frame config</var> is not null, and <var>fenced frame config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-effective-enabled-permissions" id="ref-for-fenced-frame-config-effective-enabled-permissions①⓪"> effective enabled permissions</a> are not null, set <var>effective permissions</var> to <var>fenced frame config</var>’s <a data-link-type="dfn" href="#fenced-frame-config-effective-enabled-permissions" id="ref-for-fenced-frame-config-effective-enabled-permissions①①">effective enabled permissions</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑤">For each</a> <var>feature</var> <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#supported-features" id="ref-for-supported-features①">supported</a>:</p>
      <ol>
       <li data-md>
        <p>If <var>effective permissions</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain①⓪">contains</a> <var>feature</var>, then set <var>inherited policy</var>[feature]
 to "<code>Enabled</code>".</p>
        <p>Otherwise, set <var>inherited policy</var>[feature] to "<code>Disabled</code>".</p>
      </ol>
     <li data-md>
      <p>Let <var>policy</var> be a new <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#permissions-policy" id="ref-for-permissions-policy②">permissions policy</a>, with <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#permissions-policy-inherited-policy" id="ref-for-permissions-policy-inherited-policy④">inherited policy</a> <var>inherited policy</var> and <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#permissions-policy-declared-policy" id="ref-for-permissions-policy-declared-policy">declared policy</a> a new <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-map" id="ref-for-ordered-map①⑤">ordered map</a>.</p>
     <li data-md>
      <p>Return <var>policy</var>.</p>
    </ol>
    <p class="note" role="note"><span class="marker">Note:</span> While this algorithm doesn’t take the <code><a data-link-type="element-sub" href="#element-attrdef-fencedframe-allow" id="ref-for-element-attrdef-fencedframe-allow⑦">allow</a></code> attribute into consideration, it
  will have already been checked by the time this is called because of <a data-link-type="dfn" href="#should-navigation-response-to-navigation-request-be-blocked-by-permissions-policy" id="ref-for-should-navigation-response-to-navigation-request-be-blocked-by-permissions-policy①">Should navigation response
  to navigation request be blocked by Permissions Policy?</a>. Any policy specified in <code><a data-link-type="element-sub" href="#element-attrdef-fencedframe-allow" id="ref-for-element-attrdef-fencedframe-allow⑧">allow</a></code> that is too restrictive would have cause the fenced frame to not load, and
  any policy that is more permissive than what is specified in the <a data-link-type="dfn" href="#fenced-frame-config-effective-enabled-permissions" id="ref-for-fenced-frame-config-effective-enabled-permissions①②">effective
  enabled permissions</a> will be ignored.</p>
   </div>
   <div class="algorithm" data-algorithm="create-permissions-policy">
     Modify the <a data-link-type="abstract-op" href="https://w3c.github.io/webappsec-permissions-policy/#create-for-navigable" id="ref-for-create-for-navigable">Create a Permissions Policy for a navigable</a> algorithm: 
    <p>Given null or an <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-element" id="ref-for-concept-element①">element</a> (<var>container</var>), an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①⓪">origin</a> (<var>origin</var>), and an optional <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean②⓪">boolean</a> <var>fenced</var> that defaults to false, this algorithm returns a new <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#permissions-policy" id="ref-for-permissions-policy③">permissions policy</a>.</p>
    <p>Rewrite step 1 to read:</p>
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⓪">Assert</a>: if not null, <var>container</var> is either a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable-container" id="ref-for-navigable-container⑦">navigable container</a> or a <a data-link-type="dfn" href="#fenced-navigable-containers" id="ref-for-fenced-navigable-containers①③">fenced navigable container</a>.</p>
    </ol>
    <p>Rewrite step 3 to read:</p>
    <ol start="4">
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑥">For each</a> <var>feature</var> <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#supported-features" id="ref-for-supported-features②">supported</a>:</p>
      <ol>
       <li data-md>
        <p>Let <var>isInherited</var> be the result of running <a data-link-type="abstract-op" href="https://w3c.github.io/webappsec-permissions-policy/#define-inherited-policy-in-container" id="ref-for-define-inherited-policy-in-container">Define an inherited policy for feature in
  container at origin</a> on <var>feature</var>, <var>container</var>, <var>origin</var>, and <var>fenced</var>.</p>
       <li data-md>
        <p>Set <var>inherited policy</var>[<var>feature</var>] to <var>isInherited</var>.</p>
      </ol>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="create-permissions-policy-response">
     Modify the <a data-link-type="abstract-op" href="https://w3c.github.io/webappsec-permissions-policy/#create-from-response" id="ref-for-create-from-response">Create a Permissions Policy for a navigable from response</a> algorithm to read: 
    <p>Given null, a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable-container" id="ref-for-navigable-container⑧">navigable container</a>-or-<a data-link-type="dfn" href="#fenced-navigable-containers" id="ref-for-fenced-navigable-containers①④">fenced navigable container</a> (<var>container</var>), an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①①">origin</a> (<var>origin</var>), and a <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response" id="ref-for-concept-response③">response</a> (<var>response</var>), this algorithm returns a
  new <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#permissions-policy" id="ref-for-permissions-policy④">permissions policy</a>.</p>
    <p>Rewrite step 1 to read:</p>
    <ol>
     <li data-md>
      <p>If <var>container</var> is a <a data-link-type="dfn" href="#fenced-navigable-containers" id="ref-for-fenced-navigable-containers①⑤">fenced navigable container</a>, then let <var>policy</var> be the result of running <a data-link-type="dfn" href="#derive-a-permissions-policy-directly-from-a-fenced-frame-config-instance" id="ref-for-derive-a-permissions-policy-directly-from-a-fenced-frame-config-instance">derive a permissions policy directly from a fenced frame config instance</a> given <var>container</var>.</p>
      <p>Otherwise, Let <var>policy</var> be the result of running <a data-link-type="abstract-op" href="https://w3c.github.io/webappsec-permissions-policy/#create-for-navigable" id="ref-for-create-for-navigable①">Create a Permissions Policy for a
 navigable</a> given <var>container</var> and <var>origin</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="process-permissions-policy-attribute-patch">
     Modify step 1 of the <a data-link-type="abstract-op" href="https://w3c.github.io/webappsec-permissions-policy/#process-policy-attributes" id="ref-for-process-policy-attributes">Process permissions policy attributes</a> algorithm to read: 
    <ol>
     <li data-md>
      <p>If <var>element</var> is not an <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element" id="ref-for-the-iframe-element①④">iframe</a></code> element or a <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑨③">fencedframe</a></code> element, then
 return an empty <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#policy-directive" id="ref-for-policy-directive">policy directive</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="attempt-populate-history-patches">
     Modify <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#attempt-to-populate-the-history-entry&apos;s-document" id="ref-for-attempt-to-populate-the-history-entry&apos;s-document③">attempt to populate the history entry’s document</a> algorithm. Add the
  following conditions to step 6.4 (Otherwise, if any of the following are true:) that say: 
    <ul>
     <li data-md>
      <p>The result of <a data-link-type="dfn" href="#should-navigation-response-to-navigation-request-be-blocked-by-permissions-policy" id="ref-for-should-navigation-response-to-navigation-request-be-blocked-by-permissions-policy②">should navigation response to navigation request be blocked by Permissions
Policy?</a> given <var>navigationParams</var> is "<code>Blocked</code>";</p>
     <li data-md>
      <p>The result of <a data-link-type="dfn" href="#should-navigation-response-to-navigation-request-be-blocked-by-sandboxing-flags" id="ref-for-should-navigation-response-to-navigation-request-be-blocked-by-sandboxing-flags①">should navigation response to navigation request be blocked by sandboxing
flags?</a> given <var>navigationParams</var> and <var>sourceSnapshotParams</var> is
"<code>Blocked</code>";</p>
    </ul>
    <p class="note" role="note"><span class="marker">Note:</span> If any of these algorithms returns "<code>Blocked</code>", the pre-existing <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document④③">Document</a></code> in the <code><a data-link-type="element" href="#elementdef-fencedframe" id="ref-for-elementdef-fencedframe⑨④">fencedframe</a></code> does not stick around; an error page will be loaded.</p>
   </div>
   <div class="algorithm" data-algorithm="permissions-policy-block-request">
     Create a new algorithm called <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="should navigation response to navigation request be blocked by Permissions Policy?" data-noexport id="should-navigation-response-to-navigation-request-be-blocked-by-permissions-policy">should navigation response to navigation request be blocked by
  Permissions Policy?</dfn> in <a data-link-type="biblio" href="#biblio-html" title="HTML Standard">[HTML]</a>. 
    <p>Given a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params" id="ref-for-navigation-params④">navigation params</a> (<var>navigationParams</var>), this algorithm returns "<code>Blocked</code>" or
  "<code>Allowed</code>":</p>
    <ol>
     <li data-md>
      <p>Let <var>navigable</var> be <var>navigationParams</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-navigable" id="ref-for-navigation-params-navigable②">navigable</a>.</p>
     <li data-md>
      <p>If <var>navigable</var> is not a <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable⑤③">fenced navigable</a>, then return
 "<code>Allowed</code>".</p>
     <li data-md>
      <p>Let <var>origin</var> be <var>navigationParams</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-origin" id="ref-for-navigation-params-origin②">origin</a>.</p>
     <li data-md>
      <p>Let <var>effective permissions</var> be the <var>navigable</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-bc" id="ref-for-nav-bc④">active browsing context</a>'s <a data-link-type="dfn" href="#browsing-context-fenced-frame-config-instance" id="ref-for-browsing-context-fenced-frame-config-instance①⑦">fenced frame config instance</a>'s <a data-link-type="dfn" href="#fenced-frame-config-instance-effective-enabled-permissions" id="ref-for-fenced-frame-config-instance-effective-enabled-permissions②">effective
 enabled permissions</a>.</p>
      <p class="issue" id="issue-0ffad658"><a class="self-link" href="#issue-0ffad658"></a> Per work omitted in <a href="https://github.com/WICG/fenced-frame/pull/84#discussion_r1186531028">pull request
 #84</a>, the config instance
 has not yet been assigned to the browsing context. We should consider storing the instance
 inside <var>navigationParams</var> and reference it from here instead.</p>
     <li data-md>
      <p>Let <var>permissions policy</var> be the result of <a data-link-type="abstract-op" href="https://w3c.github.io/webappsec-permissions-policy/#create-for-navigable" id="ref-for-create-for-navigable②"> creating a permissions policy</a> given <var>navigable</var>’s <a data-link-type="dfn" href="#fenced-navigable-containers" id="ref-for-fenced-navigable-containers①⑥">fenced navigable container</a>, <var>origin</var>,
 and <var>fenced</var> set to true.</p>
      <p class="note" role="note"><span class="marker">Note:</span> This is almost identical to the <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#permissions-policy" id="ref-for-permissions-policy⑤">permissions policy</a> that will be <a data-link-type="dfn" href="#derive-a-permissions-policy-directly-from-a-fenced-frame-config-instance" id="ref-for-derive-a-permissions-policy-directly-from-a-fenced-frame-config-instance①">created</a> when the navigation
 constructs the ultimate <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document④④">Document</a></code> for this pending navigation. The difference is that this
 algorithm, just like when it is called on iframes, will include all of the permissions
 specified in the <code><a data-link-type="element-sub" href="#element-attrdef-fencedframe-allow" id="ref-for-element-attrdef-fencedframe-allow⑨">allow</a></code> attribute, even if that permission isn’t specified in
 the <a data-link-type="dfn" href="#fenced-frame-config" id="ref-for-fenced-frame-config③⓪">fenced frame config</a>'s <a data-link-type="dfn" href="#fenced-frame-config-effective-enabled-permissions" id="ref-for-fenced-frame-config-effective-enabled-permissions①③">effective enabled permissions</a>. We create
 it now and run tests on it since this is the appropriate time to determine if a navigation will
 fail, and then throw it away. If the navigation succeeds, it will be recreated and
 unconditionally installed on the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document④⑤">Document</a></code>. However, the recreation will not include any
 additional enabled permissions that are not included in the <a data-link-type="dfn" href="#fenced-frame-config-effective-enabled-permissions" id="ref-for-fenced-frame-config-effective-enabled-permissions①④">effective
 enabled permissions</a>, effectively locking the enabled permissions to only what is specified in <a data-link-type="dfn" href="#fenced-frame-config-effective-enabled-permissions" id="ref-for-fenced-frame-config-effective-enabled-permissions①⑤">effective enabled permissions</a>.</p>
     <li data-md>
      <p>Let <var>inherited policy</var> be <var>permissions policy</var>’s <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#permissions-policy-inherited-policy" id="ref-for-permissions-policy-inherited-policy⑤">inherited policy</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate⑦">For each</a> <var>effective permission</var> of <var>effective permissions</var>:</p>
      <ol>
       <li data-md>
        <p>If <var>inherited policy</var>[<var>effective permission</var>] is "Disabled", return "<code>Blocked</code>".</p>
      </ol>
     <li data-md>
      <p>Return "<code>Allowed</code>."</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="Should navigation response to navigation request be blocked by sandboxing flags?">
     <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="should-navigation-response-to-navigation-request-be-blocked-by-sandboxing-flags">Should navigation response to navigation request be blocked by sandboxing flags?</dfn> 
    <p>Given a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params" id="ref-for-navigation-params⑤">navigation params</a> (<var>navigationParams</var>) and a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params" id="ref-for-source-snapshot-params③">source snapshot params</a> (<var>sourceSnapshotParams</var>), this algorithm returns "<code>Blocked</code>" or "<code>Allowed</code>":</p>
    <ol>
     <li data-md>
      <p>Let <var>navigable</var> be <var>navigationParams</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-navigable" id="ref-for-navigation-params-navigable③">navigable</a>.</p>
     <li data-md>
      <p>If <var>navigable</var> is not a <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable⑤④">fenced navigable</a>, then return
 "<code>Allowed</code>".</p>
     <li data-md>
      <p>Let <var>effectiveSandboxingFlags</var> be the <var>sourceSnapshotParams</var>’s <a data-link-type="dfn" href="#source-snapshot-params-target-fenced-frame-config" id="ref-for-source-snapshot-params-target-fenced-frame-config⑨">target
 fenced frame config</a>'s <a data-link-type="dfn" href="#fenced-frame-config-effective-sandboxing-flags" id="ref-for-fenced-frame-config-effective-sandboxing-flags⑥">effective sandboxing flags</a>.</p>
     <li data-md>
      <p>If <var>navigationParams</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-sandboxing" id="ref-for-navigation-params-sandboxing">final sandboxing flag set</a> is not a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-subset" id="ref-for-set-subset">subset</a> of <var>effectiveSandboxingFlags</var>, then return "<code>Blocked</code>".</p>
      <p class="note" role="note"><span class="marker">Note:</span> This means that the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-sandboxing" id="ref-for-navigation-params-sandboxing①">final sandboxing flag set</a> cannot restrict a
 feature that isn’t already restricted in the <a data-link-type="dfn" href="#fenced-frame-config-instance-effective-sandboxing-flags" id="ref-for-fenced-frame-config-instance-effective-sandboxing-flags①">effective
 sandboxing flags</a>, as the extra restrictions can be used as a communication channel. By this
 point, the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-sandboxing" id="ref-for-navigation-params-sandboxing②">final sandboxing flag set</a> will already have been set to
 something <em>at least</em> as restrictive as the <a data-link-type="dfn" href="#fenced-frame-config-instance-effective-sandboxing-flags" id="ref-for-fenced-frame-config-instance-effective-sandboxing-flags②">effective sandboxing
 flags</a>.</p>
     <li data-md>
      <p>Otherwise, return "<code>Allowed</code>".</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="define-inherited-policy-in-container-patches">
     Modify the <a data-link-type="abstract-op" href="https://w3c.github.io/webappsec-permissions-policy/#define-inherited-policy-in-container" id="ref-for-define-inherited-policy-in-container①">Define an inherited policy for feature in container at origin</a> algorithm to
  read: 
    <p>Given a feature (<var>feature</var>), null or a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable-container" id="ref-for-navigable-container⑨">navigable container</a> (<var>container</var>), an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#concept-origin" id="ref-for-concept-origin①②">origin</a> for a
  document in that container (<var>origin</var>), and an optional <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean②①">boolean</a> <var>fenced</var> that defaults to
  false, this algorithm returns the <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#permissions-policy-inherited-policy" id="ref-for-permissions-policy-inherited-policy⑥">inherited policy</a> for that feature.</p>
    <p>Rewrite step 3 to read:</p>
    <ol start="3">
     <li data-md>
      <p>If the result of executing <a data-link-type="abstract-op" href="https://w3c.github.io/webappsec-permissions-policy/#is-feature-enabled" id="ref-for-is-feature-enabled">Is feature enabled in document for origin?</a> on <var>feature</var>, <var>container</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-document" id="ref-for-concept-node-document⑤">node document</a>, <var>origin</var>, and <var>fenced</var> is "Disabled", return
 "Disabled".</p>
    </ol>
    <p class="note" role="note"><span class="marker">Note:</span> We don’t have to rewrite step 2, which also delegates to the same algorithm, to pass in the <var>fenced</var> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean②②">boolean</a> because step 2 has to do with checking to see if <var>feature</var> is enabled <var>container</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-document" id="ref-for-concept-node-document⑥">node document</a>, not the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document④⑥">Document</a></code> hosted <em>inside</em> <var>container</var>.</p>
    <p>Rewrite step 7 to read:</p>
    <ol start="7">
     <li data-md>
      <p>If <var>fenced</var> is false, <var>feature</var>’s <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist" id="ref-for-policy-controlled-feature-default-allowlist④">default allowlist</a> is <code>'self'</code>, and <var>origin</var> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①①">same origin</a> with <var>container</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-document" id="ref-for-concept-node-document⑦">node document</a>'s
 origin, return <code>"Enabled"</code>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="is-feature-enabled-patches">
     Modify the <a data-link-type="abstract-op" href="https://w3c.github.io/webappsec-permissions-policy/#is-feature-enabled" id="ref-for-is-feature-enabled①">Is feature enabled in document for origin?</a> algorithm to read: 
    <p>Given a feature (<var>feature</var>), a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document④⑦">Document</a></code> object (<var>document</var>), an <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-origin" id="ref-for-concept-url-origin⑦">origin</a> (<var>origin</var>), and
  an optional <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean②③">boolean</a> <var>fenced</var> that defaults to false, this algorithm returns "<code>Disabled</code>" if <var>feature</var> should be considered disabled, and "<code>Enabled</code>" otherwise.</p>
    <p>Rewrite step 3 to read:</p>
    <ol start="3">
     <li data-md>
      <p>If <var>feature</var> is present in <var>policy</var>’s <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#permissions-policy-declared-policy" id="ref-for-permissions-policy-declared-policy①">declared policy</a>,</p>
      <ol>
       <li data-md>
        <p>If <var>fenced</var> is false, and the <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#allowlist" id="ref-for-allowlist⑦">allowlist</a> for <var>feature</var> in <var>policy</var>’s <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#permissions-policy-declared-policy" id="ref-for-permissions-policy-declared-policy②"> declared policy</a> <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#matches" id="ref-for-matches">matches</a> <var>origin</var>, then return "<code>Enabled</code>".</p>
       <li data-md>
        <p>Otherwise, if <var>fenced</var> is true, and the <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#allowlist" id="ref-for-allowlist⑧">allowlist</a> for <var>feature</var> in <var>policy</var>’s <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#permissions-policy-declared-policy" id="ref-for-permissions-policy-declared-policy③">declared policy</a> is <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy#the-special-value" id="ref-for-the-special-value③">the special value *</a>, then return "<code>Enabled</code>".</p>
       <li data-md>
        <p>Otherwise, return "<code>Disabled</code>".</p>
      </ol>
    </ol>
    <p>Rewrite step 5 to read:</p>
    <ol start="5">
     <li data-md>
      <p>If <var>fenced</var> is false, <var>feature</var>’s <a data-link-type="dfn" href="https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist" id="ref-for-policy-controlled-feature-default-allowlist⑤">default allowlist</a> is <code>'self'</code>,
 and <var>origin</var> is <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#same-origin" id="ref-for-same-origin①②">same origin</a> with <var>document</var>’s origin, return "Enabled".</p>
    </ol>
   </div>
   <details class="wpt-tests-block" dir="ltr" lang="en" open>
    <summary>Tests</summary>
    <ul class="wpt-tests-list">
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/default-enabled-features-allow-all.https.html" title="fenced-frame/default-enabled-features-allow-all.https.html">default-enabled-features-allow-all.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/default-enabled-features-allow-all.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/default-enabled-features-allow-all.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/default-enabled-features-allow-none.https.html" title="fenced-frame/default-enabled-features-allow-none.https.html">default-enabled-features-allow-none.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/default-enabled-features-allow-none.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/default-enabled-features-allow-none.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/default-enabled-features-allow-self.https.html" title="fenced-frame/default-enabled-features-allow-self.https.html">default-enabled-features-allow-self.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/default-enabled-features-allow-self.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/default-enabled-features-allow-self.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/default-enabled-features-attribute-allow.https.html" title="fenced-frame/default-enabled-features-attribute-allow.https.html">default-enabled-features-attribute-allow.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/default-enabled-features-attribute-allow.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/default-enabled-features-attribute-allow.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/default-enabled-features-attribute-change.https.html" title="fenced-frame/default-enabled-features-attribute-change.https.html">default-enabled-features-attribute-change.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/default-enabled-features-attribute-change.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/default-enabled-features-attribute-change.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/default-enabled-features-attribute-disallow.https.html" title="fenced-frame/default-enabled-features-attribute-disallow.https.html">default-enabled-features-attribute-disallow.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/default-enabled-features-attribute-disallow.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/default-enabled-features-attribute-disallow.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/default-enabled-features-attribution-disabled.https.html" title="fenced-frame/default-enabled-features-attribution-disabled.https.html">default-enabled-features-attribution-disabled.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/default-enabled-features-attribution-disabled.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/default-enabled-features-attribution-disabled.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/default-enabled-features-subframe.https.html" title="fenced-frame/default-enabled-features-subframe.https.html">default-enabled-features-subframe.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/default-enabled-features-subframe.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/default-enabled-features-subframe.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/default-enabled-features-unset.https.html" title="fenced-frame/default-enabled-features-unset.https.html">default-enabled-features-unset.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/default-enabled-features-unset.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/default-enabled-features-unset.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/permission-api-denied-non-standard.https.html" title="fenced-frame/permission-api-denied-non-standard.https.html">permission-api-denied-non-standard.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/permission-api-denied-non-standard.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/permission-api-denied-non-standard.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/permission-api-denied.https.html" title="fenced-frame/permission-api-denied.https.html">permission-api-denied.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/permission-api-denied.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/permission-api-denied.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/permission-geolocation.https.html" title="fenced-frame/permission-geolocation.https.html">permission-geolocation.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/permission-geolocation.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/permission-geolocation.https.html"><small>(source)</small></a>
     <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/permission-notification.https.html" title="fenced-frame/permission-notification.https.html">permission-notification.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/permission-notification.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/permission-notification.https.html"><small>(source)</small></a>
    </ul>
   </details>
   <h3 class="heading settled" data-level="4.4" id="cssom-monkeypatch"><span class="secno">4.4. </span><span class="content">CSSOM View</span><a class="self-link" href="#cssom-monkeypatch"></a></h3>
   <p>The <a data-link-type="biblio" href="#biblio-cssom-view" title="CSSOM View Module">[CSSOM-VIEW]</a> specification defines the <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-element-scrollintoview" id="ref-for-dom-element-scrollintoview">scrollIntoView()</a></code> method that calls the <a data-link-type="dfn" href="https://drafts.csswg.org/cssom-view-1/#scroll-a-target-into-view" id="ref-for-scroll-a-target-into-view">scroll a target into view</a> algorithm. This will not only scroll the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element">Element</a></code> or <a data-link-type="dfn" href="https://www.w3.org/TR/CSS21/visuren.html#viewport" id="ref-for-viewport">viewport</a> to make the target visible, but will also scroll <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-tree-ancestor" id="ref-for-concept-tree-ancestor">ancestor</a>s if necessary
to make the target visible, essentially causing the scroll to "bubble up". This means that <code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/cssom-view-1/#dom-element-scrollintoview" id="ref-for-dom-element-scrollintoview①">scrollIntoView()</a></code> performed in a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#child-navigable" id="ref-for-child-navigable①①">child navigable</a> or <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable⑤⑤"> fenced navigable</a> can be observed by its embedder, allowing for collusion across a fenced frame
boundary. This section patches the <a data-link-type="dfn" href="https://drafts.csswg.org/cssom-view-1/#scroll-a-target-into-view" id="ref-for-scroll-a-target-into-view①">scroll a target into view</a> algorithm to prevent that collusion
at the expense of some utility.</p>
   <div class="algorithm" data-algorithm="scroll-target-into-view">
     Modify the <a data-link-type="dfn" href="https://drafts.csswg.org/cssom-view-1/#scroll-a-target-into-view" id="ref-for-scroll-a-target-into-view②">scroll a target into view</a> algorithm to add a step at the end of the algorithm that
  reads: 
    <ol start="14">
     <li data-md>
      <p>If <var>scrolling box</var>’s associated <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element" id="ref-for-element①">Element</a></code>'s associated <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document④⑧">Document</a></code>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable①②">node
 navigable</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-traversable" id="ref-for-nav-traversable⑥">traversable navigable</a> is a <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable⑤⑥">fenced
 navigable</a>, or if <var>scrolling box</var>’s associated <a data-link-type="dfn" href="https://www.w3.org/TR/CSS21/visuren.html#viewport" id="ref-for-viewport①">viewport</a>'s associated <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document" id="ref-for-document④⑨">Document</a></code>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable①③">node navigable</a>'s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-traversable" id="ref-for-nav-traversable⑦">traversable navigable</a> is a <a data-link-type="dfn" href="#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable⑤⑦">fenced navigable</a>, then let this be the last instance of this algorithm that stops
 any further recursive instances that would otherwise follow.</p>
    </ol>
    <p class="note" role="note"><span class="marker">Note:</span> This allows scrolling to "bubble up" to a fenced frame boundary, but not cross it.</p>
    <details class="wpt-tests-block" dir="ltr" lang="en" open>
     <summary>Tests</summary>
     <ul class="wpt-tests-list">
      <li class="wpt-test"><a class="wpt-name" href="https://wpt.fyi/results/fenced-frame/scroll-into-view.https.html" title="fenced-frame/scroll-into-view.https.html">scroll-into-view.https.html</a> <a class="wpt-live" href="https://wpt.live/fenced-frame/scroll-into-view.https.html"><small>(live test)</small></a> <a class="wpt-source" href="https://github.com/web-platform-tests/wpt/blob/master/fenced-frame/scroll-into-view.https.html"><small>(source)</small></a>
     </ul>
    </details>
   </div>
   <h2 class="heading settled" data-level="5" id="security-and-privacy"><span class="secno">5. </span><span class="content">Security &amp; Privacy Considerations</span><a class="self-link" href="#security-and-privacy"></a></h2>
   <p>This material is being upstreamed from our explainer into this specification, and in the meantime
you can consult the following resources:</p>
   <ul>
    <li data-md>
     <p><a href="https://github.com/WICG/fenced-frame/tree/master/explainer#security-considerations">Security considerations</a></p>
    <li data-md>
     <p><a href="https://github.com/WICG/fenced-frame/tree/master/explainer#privacy-considerations">Privacy considerations</a></p>
    <li data-md>
     <p><a href="https://github.com/WICG/fenced-frame/blob/master/explainer/TAG_Security_Privacy_Questionnaire.md">TAG Security/Privacy Questionnaire</a></p>
   </ul>
  </main>
<script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#dom-navigator-adauctioncomponents">adAuctionComponents(numAdComponents)</a><span>, in § 2.3.5</span>
   <li>
    allow
    <ul>
     <li><a href="#dom-htmlfencedframeelement-allow">attribute for HTMLFencedFrameElement</a><span>, in § 2</span>
     <li><a href="#element-attrdef-fencedframe-allow">element-attr for fencedframe</a><span>, in § 2</span>
    </ul>
   <li><a href="#http-headerdef-allow-cross-origin-event-reporting">Allow-Cross-Origin-Event-Reporting</a><span>, in § 3.8.3</span>
   <li><a href="#fenced-frame-reporting-metadata-allowed-reporting-origins">allowed reporting origins</a><span>, in § 2.3.3</span>
   <li><a href="#http-headerdef-allow-fenced-frame-automatic-beacons">Allow-Fenced-Frame-Automatic-Beacons</a><span>, in § 3.8.2</span>
   <li><a href="#exfiltration-budget-metadata-amount-to-debit">amount to debit</a><span>, in § 2.3.3</span>
   <li><a href="#exfiltration-budget-metadata-reference-amount-to-debit-reference">amount to debit reference</a><span>, in § 2.3.3</span>
   <li><a href="#fenced-frame-reporting-metadata-attempted-custom-url-report-to-disallowed-origin">attempted custom url report to disallowed origin</a><span>, in § 2.3.3</span>
   <li><a href="#attempt-to-send-an-automatic-beacon">attempt to send an automatic beacon</a><span>, in § 2.6</span>
   <li><a href="#source-snapshot-params-attribution-reporting-context-origin">attribution reporting context origin</a><span>, in § 3.8.5</span>
   <li>
    attributionReportingContextOrigin
    <ul>
     <li><a href="#automatic-beacon-event-attributionreportingcontextorigin">dfn for automatic beacon event</a><span>, in § 2.3.3</span>
     <li><a href="#destination-enum-event-attributionreportingcontextorigin">dfn for destination enum event</a><span>, in § 2.3.3</span>
    </ul>
   <li><a href="#source-snapshot-params-attribution-reporting-enabled">attribution reporting enabled</a><span>, in § 3.8.5</span>
   <li>
    attributionReportingEnabled
    <ul>
     <li><a href="#automatic-beacon-event-attributionreportingenabled">dfn for automatic beacon event</a><span>, in § 2.3.3</span>
     <li><a href="#destination-enum-event-attributionreportingenabled">dfn for destination enum event</a><span>, in § 2.3.3</span>
    </ul>
   <li><a href="#fencedframetype-automatic-beacon-data">automatic beacon data</a><span>, in § 3.2</span>
   <li>
    automatic beacon data map
    <ul>
     <li><a href="#document-automatic-beacon-data-map">dfn for Document</a><span>, in § 3.2</span>
     <li><a href="#source-snapshot-params-automatic-beacon-data-map">dfn for source snapshot params</a><span>, in § 3.8.5</span>
    </ul>
   <li><a href="#fencedframetype-automatic-beacon-event">automatic beacon event</a><span>, in § 2.3.3</span>
   <li><a href="#fencedframetype-automatic-beacon-event-type">automatic beacon event type</a><span>, in § 2.3.3</span>
   <li>
    automatic beacons allowed
    <ul>
     <li><a href="#document-automatic-beacons-allowed">dfn for Document</a><span>, in § 3.2</span>
     <li><a href="#source-snapshot-params-automatic-beacons-allowed">dfn for source snapshot params</a><span>, in § 3.8.5</span>
    </ul>
   <li><a href="#dom-fencereportingdestination-buyer">"buyer"</a><span>, in § 2.4</span>
   <li><a href="#dom-fencereportingdestination-component-seller">"component-seller"</a><span>, in § 2.4</span>
   <li>
    config
    <ul>
     <li><a href="#dom-htmlfencedframeelement-config">attribute for HTMLFencedFrameElement</a><span>, in § 2</span>
     <li><a href="#fencedframe-config">dfn for fencedframe</a><span>, in § 2</span>
    </ul>
   <li><a href="#dom-htmlfencedframeelement-htmlfencedframeelement">constructor()</a><span>, in § 2</span>
   <li><a href="#dom-fencedframeconfig-fencedframeconfig">constructor(url)</a><span>, in § 2.3.5</span>
   <li>
    containerHeight
    <ul>
     <li><a href="#dom-fencedframeconfig-containerheight">attribute for FencedFrameConfig</a><span>, in § 2.3.5</span>
     <li><a href="#fencedframeconfig-containerheight">dfn for fencedframeconfig</a><span>, in § 2.3.5</span>
    </ul>
   <li>
    container size
    <ul>
     <li><a href="#fenced-frame-config-container-size">dfn for fenced frame config</a><span>, in § 2.3.3</span>
     <li><a href="#fenced-frame-config-instance-container-size">dfn for fenced frame config instance</a><span>, in § 2.3.4</span>
    </ul>
   <li>
    containerWidth
    <ul>
     <li><a href="#dom-fencedframeconfig-containerwidth">attribute for FencedFrameConfig</a><span>, in § 2.3.5</span>
     <li><a href="#fencedframeconfig-containerwidth">dfn for fencedframeconfig</a><span>, in § 2.3.5</span>
    </ul>
   <li>
    contentHeight
    <ul>
     <li><a href="#dom-fencedframeconfig-contentheight">attribute for FencedFrameConfig</a><span>, in § 2.3.5</span>
     <li><a href="#fencedframeconfig-contentheight">dfn for fencedframeconfig</a><span>, in § 2.3.5</span>
    </ul>
   <li>
    content size
    <ul>
     <li><a href="#fenced-frame-config-content-size">dfn for fenced frame config</a><span>, in § 2.3.3</span>
     <li><a href="#fenced-frame-config-instance-content-size">dfn for fenced frame config instance</a><span>, in § 2.3.4</span>
    </ul>
   <li>
    contentWidth
    <ul>
     <li><a href="#dom-fencedframeconfig-contentwidth">attribute for FencedFrameConfig</a><span>, in § 2.3.5</span>
     <li><a href="#fencedframeconfig-contentwidth">dfn for fencedframeconfig</a><span>, in § 2.3.5</span>
    </ul>
   <li><a href="#create-a-new-nested-traversable">create a new nested traversable</a><span>, in § 3.5.3</span>
   <li>
    crossOriginExposed
    <ul>
     <li><a href="#automatic-beacon-data-crossoriginexposed">dfn for automatic beacon data</a><span>, in § 3.2</span>
     <li><a href="#dom-fenceevent-crossoriginexposed">dict-member for FenceEvent</a><span>, in § 2.4</span>
    </ul>
   <li>
    cross-origin reporting allowed
    <ul>
     <li><a href="#fenced-frame-config-cross-origin-reporting-allowed">dfn for fenced frame config</a><span>, in § 2.3.3</span>
     <li><a href="#fenced-frame-config-instance-cross-origin-reporting-allowed">dfn for fenced frame config instance</a><span>, in § 2.3.4</span>
    </ul>
   <li>
    data
    <ul>
     <li><a href="#automatic-beacon-event-data">dfn for automatic beacon event</a><span>, in § 2.3.3</span>
     <li><a href="#destination-enum-event-data">dfn for destination enum event</a><span>, in § 2.3.3</span>
    </ul>
   <li><a href="#dom-navigator-deprecatedreplaceinurn">deprecatedReplaceInURN(urnOrConfig, replacements)</a><span>, in § 2.3.5</span>
   <li><a href="#dom-navigator-deprecatedurntourl">deprecatedURNtoURL(urnOrConfig)</a><span>, in § 2.3.5</span>
   <li><a href="#dom-navigator-deprecatedurntourl">deprecatedURNtoURL(urnOrConfig, send_reports)</a><span>, in § 2.3.5</span>
   <li><a href="#derive-a-permissions-policy-directly-from-a-fenced-frame-config-instance">Derive a permissions policy directly from a fenced frame config instance</a><span>, in § 4.3.1</span>
   <li>
    destination
    <ul>
     <li><a href="#automatic-beacon-data-destination">dfn for automatic beacon data</a><span>, in § 3.2</span>
     <li><a href="#pending-event-destination">dfn for pending event</a><span>, in § 2.3.3</span>
     <li><a href="#dom-fenceevent-destination">dict-member for FenceEvent</a><span>, in § 2.4</span>
    </ul>
   <li><a href="#fencedframetype-destination-enum-event">destination enum event</a><span>, in § 2.3.3</span>
   <li><a href="#fencedframetype-destination-event">destination event</a><span>, in § 2.3.3</span>
   <li><a href="#dom-fenceevent-destinationurl">destinationURL</a><span>, in § 2.4</span>
   <li><a href="#fencedframetype-destination-url-event">destination URL event</a><span>, in § 2.3.3</span>
   <li><a href="#dom-fencereportingdestination-direct-seller">"direct-seller"</a><span>, in § 2.4</span>
   <li><a href="#fenced-frame-reporting-metadata-direct-seller-is-seller">direct seller is seller</a><span>, in § 2.3.3</span>
   <li><a href="#dn-unfenced">dn-unfenced</a><span>, in § 3.6</span>
   <li>
    effective enabled permissions
    <ul>
     <li><a href="#fenced-frame-config-effective-enabled-permissions">dfn for fenced frame config</a><span>, in § 2.3.3</span>
     <li><a href="#fenced-frame-config-instance-effective-enabled-permissions">dfn for fenced frame config instance</a><span>, in § 2.3.4</span>
    </ul>
   <li>
    effective sandboxing flags
    <ul>
     <li><a href="#fenced-frame-config-effective-sandboxing-flags">dfn for fenced frame config</a><span>, in § 2.3.3</span>
     <li><a href="#fenced-frame-config-instance-effective-sandboxing-flags">dfn for fenced frame config instance</a><span>, in § 2.3.4</span>
    </ul>
   <li>
    embedder shared storage context
    <ul>
     <li><a href="#fenced-frame-config-embedder-shared-storage-context">dfn for fenced frame config</a><span>, in § 2.3.3</span>
     <li><a href="#fenced-frame-config-instance-embedder-shared-storage-context">dfn for fenced frame config instance</a><span>, in § 2.3.4</span>
    </ul>
   <li><a href="#pending-event-event">event</a><span>, in § 2.3.3</span>
   <li>
    eventData
    <ul>
     <li><a href="#automatic-beacon-data-eventdata">dfn for automatic beacon data</a><span>, in § 3.2</span>
     <li><a href="#dom-fenceevent-eventdata">dict-member for FenceEvent</a><span>, in § 2.4</span>
    </ul>
   <li><a href="#dom-fenceevent-eventtype">eventType</a><span>, in § 2.4</span>
   <li>
    exfiltration budget metadata
    <ul>
     <li><a href="#fenced-frame-config-exfiltration-budget-metadata">dfn for fenced frame config</a><span>, in § 2.3.3</span>
     <li><a href="#fencedframetype-exfiltration-budget-metadata">dfn for fencedframetype</a><span>, in § 2.3.3</span>
    </ul>
   <li>
    exfiltration budget metadata reference
    <ul>
     <li><a href="#fenced-frame-config-instance-exfiltration-budget-metadata-reference">dfn for fenced frame config instance</a><span>, in § 2.3.4</span>
     <li><a href="#fencedframetype-exfiltration-budget-metadata-reference">dfn for fencedframetype</a><span>, in § 2.3.3</span>
    </ul>
   <li><a href="#fence">Fence</a><span>, in § 2.4</span>
   <li>
    fence
    <ul>
     <li><a href="#dom-window-fence">attribute for Window</a><span>, in § 3.1</span>
     <li><a href="#window-fence">dfn for Window</a><span>, in § 3.1</span>
    </ul>
   <li><a href="#supports-loading-mode-fenced-frame">fenced-frame</a><span>, in § 3.8.1</span>
   <li><a href="#elementdef-fencedframe">fencedframe</a><span>, in § 2</span>
   <li><a href="#fenced-frame-config">fenced frame config</a><span>, in § 2.3.3</span>
   <li><a href="#fencedframeconfig">FencedFrameConfig</a><span>, in § 2.3.5</span>
   <li>
    fenced frame config instance
    <ul>
     <li><a href="#fenced-frame-config-instance">definition of</a><span>, in § 2.3.4</span>
     <li><a href="#browsing-context-fenced-frame-config-instance">dfn for browsing context</a><span>, in § 2.3.4</span>
     <li><a href="#navigation-params-fenced-frame-config-instance">dfn for navigation params</a><span>, in § 3.8.5</span>
    </ul>
   <li>
    fenced frame config mapping
    <ul>
     <li><a href="#fenced-frame-config-mapping">definition of</a><span>, in § 2.2</span>
     <li><a href="#traversable-navigable-fenced-frame-config-mapping">dfn for traversable navigable</a><span>, in § 2.2</span>
    </ul>
   <li><a href="#typedefdef-fencedframeconfigsize">FencedFrameConfigSize</a><span>, in § 2.3.5</span>
   <li><a href="#dom-fencedframeconfig-fencedframeconfig">FencedFrameConfig(url)</a><span>, in § 2.3.5</span>
   <li><a href="#typedefdef-fencedframeconfigurl">FencedFrameConfigURL</a><span>, in § 2.3.5</span>
   <li>
    fenced frame reporter
    <ul>
     <li><a href="#fenced-frame-config-instance-fenced-frame-reporter">dfn for fenced frame config instance</a><span>, in § 2.3.4</span>
     <li><a href="#fencedframetype-fenced-frame-reporter">dfn for fencedframetype</a><span>, in § 2.3.3</span>
    </ul>
   <li>
    fenced frame reporting map
    <ul>
     <li><a href="#fenced-frame-reporting-metadata-fenced-frame-reporting-map">dfn for fenced frame reporting metadata</a><span>, in § 2.3.3</span>
     <li><a href="#fencedframetype-fenced-frame-reporting-map">dfn for fencedframetype</a><span>, in § 2.3.3</span>
    </ul>
   <li>
    fenced frame reporting metadata
    <ul>
     <li><a href="#fenced-frame-config-fenced-frame-reporting-metadata">dfn for fenced frame config</a><span>, in § 2.3.3</span>
     <li><a href="#fencedframetype-fenced-frame-reporting-metadata">dfn for fencedframetype</a><span>, in § 2.3.3</span>
    </ul>
   <li><a href="#fenced-frame-reporter-fenced-frame-reporting-metadata-reference">fenced frame reporting metadata reference</a><span>, in § 2.3.3</span>
   <li><a href="#fencedframe-fencedframe-sandboxing-flag-set">fencedframe sandboxing flag set</a><span>, in § 2</span>
   <li><a href="#fenced-frame-src">fenced-frame-src</a><span>, in § 4.2.2</span>
   <li><a href="#fenced-navigable-container-fenced-navigable">fenced navigable</a><span>, in § 3.5.3</span>
   <li><a href="#fenced-navigable-containers">fenced navigable containers</a><span>, in § 3.5.3</span>
   <li><a href="#dictdef-fenceevent">FenceEvent</a><span>, in § 2.4</span>
   <li><a href="#enumdef-fencereportingdestination">FenceReportingDestination</a><span>, in § 2.4</span>
   <li><a href="#fenced-frame-config-mapping-finalize-a-pending-config">finalize a pending config</a><span>, in § 2.2</span>
   <li><a href="#finalize-a-reporting-destination">finalize a reporting destination</a><span>, in § 2.3.3</span>
   <li><a href="#fenced-frame-config-mapping-finalized-config-mapping">finalized config mapping</a><span>, in § 2.2</span>
   <li><a href="#fenced-frame-config-mapping-find-a-config">find a config</a><span>, in § 2.2</span>
   <li><a href="#focus-unfenced">focus-unfenced</a><span>, in § 3.7</span>
   <li><a href="#dom-fence-getnestedconfigs">getNestedConfigs()</a><span>, in § 2.4</span>
   <li><a href="#get-the-automatic-beacon-data-mapping-to-use">get the automatic beacon data mapping to use</a><span>, in § 3.8.5</span>
   <li>
    height
    <ul>
     <li><a href="#dom-htmlfencedframeelement-height">attribute for HTMLFencedFrameElement</a><span>, in § 2.1</span>
     <li><a href="#size-height">dfn for size</a><span>, in § 2.3.3</span>
     <li><a href="#element-attrdef-fencedframe-height">element-attr for fencedframe</a><span>, in § 2.1</span>
    </ul>
   <li><a href="#htmlfencedframeelement">HTMLFencedFrameElement</a><span>, in § 2</span>
   <li><a href="#dom-htmlfencedframeelement-htmlfencedframeelement">HTMLFencedFrameElement()</a><span>, in § 2</span>
   <li><a href="#inclusive-dn-unfenced">inclusive-dn-unfenced</a><span>, in § 3.6</span>
   <li><a href="#initialize-the-nested-traversable">initialize the nested traversable</a><span>, in § 3.5.3</span>
   <li><a href="#source-snapshot-params-initiator-fenced-frame-config-instance">initiator fenced frame config instance</a><span>, in § 3.8.5</span>
   <li><a href="#instantiate-a-config">instantiate a config</a><span>, in § 2.3.4</span>
   <li>
    interest group descriptor
    <ul>
     <li><a href="#fenced-frame-config-interest-group-descriptor">dfn for fenced frame config</a><span>, in § 2.3.3</span>
     <li><a href="#fenced-frame-config-instance-interest-group-descriptor">dfn for fenced frame config instance</a><span>, in § 2.3.4</span>
     <li><a href="#fencedframetype-interest-group-descriptor">dfn for fencedframetype</a><span>, in § 2.3.3</span>
    </ul>
   <li>
    is ad component
    <ul>
     <li><a href="#fenced-frame-config-is-ad-component">dfn for fenced frame config</a><span>, in § 2.3.3</span>
     <li><a href="#fenced-frame-config-instance-is-ad-component">dfn for fenced frame config instance</a><span>, in § 2.3.4</span>
    </ul>
   <li>
    mapped url
    <ul>
     <li><a href="#fenced-frame-config-mapped-url">dfn for fenced frame config</a><span>, in § 2.3.3</span>
     <li><a href="#fenced-frame-config-instance-mapped-url">dfn for fenced frame config instance</a><span>, in § 2.3.4</span>
    </ul>
   <li><a href="#fenced-frame-config-mapping-maximum-number-of-configs">maximum number of configs</a><span>, in § 2.2</span>
   <li><a href="#interest-group-descriptor-name">name</a><span>, in § 2.3.3</span>
   <li><a href="#fenced-frame-config-mapping-nested-config-mapping">nested config mapping</a><span>, in § 2.2</span>
   <li>
    nested configs
    <ul>
     <li><a href="#fenced-frame-config-nested-configs">dfn for fenced frame config</a><span>, in § 2.3.3</span>
     <li><a href="#fenced-frame-config-instance-nested-configs">dfn for fenced frame config instance</a><span>, in § 2.3.4</span>
    </ul>
   <li>
    once
    <ul>
     <li><a href="#automatic-beacon-data-once">dfn for automatic beacon data</a><span>, in § 3.2</span>
     <li><a href="#dom-fenceevent-once">dict-member for FenceEvent</a><span>, in § 2.4</span>
    </ul>
   <li>
    on navigate callback
    <ul>
     <li><a href="#fenced-frame-config-on-navigate-callback">dfn for fenced frame config</a><span>, in § 2.3.3</span>
     <li><a href="#fenced-frame-config-instance-on-navigate-callback">dfn for fenced frame config instance</a><span>, in § 2.3.4</span>
    </ul>
   <li><a href="#dom-opaqueproperty-opaque">"opaque"</a><span>, in § 2.3.5</span>
   <li><a href="#visibility-opaque">opaque</a><span>, in § 2.3.3</span>
   <li><a href="#enumdef-opaqueproperty">OpaqueProperty</a><span>, in § 2.3.5</span>
   <li>
    origin
    <ul>
     <li><a href="#exfiltration-budget-metadata-origin">dfn for exfiltration budget metadata</a><span>, in § 2.3.3</span>
     <li><a href="#exfiltration-budget-metadata-reference-origin">dfn for exfiltration budget metadata reference</a><span>, in § 2.3.3</span>
    </ul>
   <li><a href="#interest-group-descriptor-owner">owner</a><span>, in § 2.3.3</span>
   <li>
    partition nonce
    <ul>
     <li><a href="#partition-nonce">definition of</a><span>, in § 2.3.3</span>
     <li><a href="#fenced-frame-config-instance-partition-nonce">dfn for fenced frame config instance</a><span>, in § 2.3.4</span>
    </ul>
   <li><a href="#fenced-frame-config-mapping-pending-config-mapping">pending config mapping</a><span>, in § 2.2</span>
   <li><a href="#fencedframetype-pending-event">pending event</a><span>, in § 2.3.3</span>
   <li><a href="#report-an-event">report an event</a><span>, in § 2.3.3</span>
   <li><a href="#report-a-private-aggregation-event">report a private aggregation event</a><span>, in § 2.3.3</span>
   <li><a href="#dom-fence-reportevent">reportEvent()</a><span>, in § 2.4</span>
   <li><a href="#dom-fence-reportevent">reportEvent(event)</a><span>, in § 2.4</span>
   <li><a href="#typedefdef-reporteventtype">ReportEventType</a><span>, in § 2.4</span>
   <li><a href="#fencedframetype-reporting-destination-info">reporting destination info</a><span>, in § 2.3.3</span>
   <li><a href="#reporting-destination-info-reporting-macro-map">reporting macro map</a><span>, in § 2.3.3</span>
   <li><a href="#reporting-destination-info-reporting-url-map">reporting url map</a><span>, in § 2.3.3</span>
   <li><a href="#automatic-beacon-event-type-reservedtop_navigation">reserved.top_navigation</a><span>, in § 2.3.3</span>
   <li><a href="#automatic-beacon-event-type-reservedtop_navigation_commit">reserved.top_navigation_commit</a><span>, in § 2.3.3</span>
   <li><a href="#automatic-beacon-event-type-reservedtop_navigation_start">reserved.top_navigation_start</a><span>, in § 2.3.3</span>
   <li>
    sandbox
    <ul>
     <li><a href="#dom-htmlfencedframeelement-sandbox">attribute for HTMLFencedFrameElement</a><span>, in § 2</span>
     <li><a href="#element-attrdef-fencedframe-sandbox">element-attr for fencedframe</a><span>, in § 2</span>
    </ul>
   <li><a href="#dom-fencereportingdestination-seller">"seller"</a><span>, in § 2.4</span>
   <li><a href="#send-a-beacon">send a beacon</a><span>, in § 2.3.3</span>
   <li><a href="#dom-fence-setreporteventdataforautomaticbeacons">setReportEventDataForAutomaticBeacons()</a><span>, in § 2.4</span>
   <li><a href="#dom-fence-setreporteventdataforautomaticbeacons">setReportEventDataForAutomaticBeacons(event)</a><span>, in § 2.4</span>
   <li><a href="#dom-fencedframeconfig-setsharedstoragecontext">setSharedStorageContext(contextString)</a><span>, in § 2.3.5</span>
   <li><a href="#fencedframeconfig-sharedstoragecontext">sharedStorageContext</a><span>, in § 2.3.5</span>
   <li><a href="#dom-fencereportingdestination-shared-storage-select-url">"shared-storage-select-url"</a><span>, in § 2.4</span>
   <li><a href="#should-navigation-response-to-navigation-request-be-blocked-by-permissions-policy">should navigation response to navigation request be blocked by Permissions Policy?</a><span>, in § 4.3.1</span>
   <li><a href="#should-navigation-response-to-navigation-request-be-blocked-by-sandboxing-flags">Should navigation response to navigation request be blocked by sandboxing flags?</a><span>, in § 4.3.1</span>
   <li><a href="#fencedframetype-size">size</a><span>, in § 2.3.3</span>
   <li><a href="#fenced-frame-config-mapping-store-a-pending-config">store a pending config</a><span>, in § 2.2</span>
   <li><a href="#fenced-frame-config-mapping-store-nested-configs">store nested configs</a><span>, in § 2.2</span>
   <li><a href="#fencedframeutil-substitute-macros">substitute macros</a><span>, in § 2.3.5</span>
   <li><a href="#source-snapshot-params-target-fenced-frame-config">target fenced frame config</a><span>, in § 3.8.5</span>
   <li>
    top-level traversable
    <ul>
     <li><a href="#top-level-traversable">definition of</a><span>, in § 3.5.4</span>
     <li><a href="#navigable-top-level-traversable">dfn for navigable</a><span>, in § 3.5.4</span>
    </ul>
   <li><a href="#visibility-transparent">transparent</a><span>, in § 2.3.3</span>
   <li>
    type
    <ul>
     <li><a href="#automatic-beacon-event-type">dfn for automatic beacon event</a><span>, in § 2.3.3</span>
     <li><a href="#destination-enum-event-type">dfn for destination enum event</a><span>, in § 2.3.3</span>
    </ul>
   <li><a href="#navigable-unfenced-container-document">unfenced container document</a><span>, in § 3.5.2</span>
   <li>
    unfenced parent
    <ul>
     <li><a href="#navigable-unfenced-parent">dfn for navigable</a><span>, in § 3.5.2</span>
     <li><a href="#traversable-navigable-unfenced-parent">dfn for traversable navigable</a><span>, in § 3.5.2</span>
    </ul>
   <li><a href="#fencedframeconfig-url">url</a><span>, in § 2.3.5</span>
   <li><a href="#fencedframeconfig-urn">urn</a><span>, in § 2.3.5</span>
   <li><a href="#typedefdef-urnorconfig">UrnOrConfig</a><span>, in § 2.3.5</span>
   <li>
    value
    <ul>
     <li><a href="#content-size-value">dfn for content size</a><span>, in § 2.3.3</span>
     <li><a href="#effective-enabled-permissions-value">dfn for effective enabled permissions</a><span>, in § 2.3.3</span>
     <li><a href="#effective-sandboxing-flags-value">dfn for effective sandboxing flags</a><span>, in § 2.3.3</span>
     <li><a href="#exfiltration-budget-metadata-value">dfn for exfiltration budget metadata</a><span>, in § 2.3.3</span>
     <li><a href="#fenced-frame-reporting-metadata-value">dfn for fenced frame reporting metadata</a><span>, in § 2.3.3</span>
     <li><a href="#interest-group-descriptor-value">dfn for interest group descriptor</a><span>, in § 2.3.3</span>
     <li><a href="#mapped-url-value">dfn for mapped url</a><span>, in § 2.3.3</span>
     <li><a href="#nested-configs-value">dfn for nested configs</a><span>, in § 2.3.3</span>
    </ul>
   <li>
    visibility
    <ul>
     <li><a href="#content-size-visibility">dfn for content size</a><span>, in § 2.3.3</span>
     <li><a href="#effective-enabled-permissions-visibility">dfn for effective enabled permissions</a><span>, in § 2.3.3</span>
     <li><a href="#effective-sandboxing-flags-visibility">dfn for effective sandboxing flags</a><span>, in § 2.3.3</span>
     <li><a href="#exfiltration-budget-metadata-visibility">dfn for exfiltration budget metadata</a><span>, in § 2.3.3</span>
     <li><a href="#fenced-frame-reporting-metadata-visibility">dfn for fenced frame reporting metadata</a><span>, in § 2.3.3</span>
     <li><a href="#fencedframeconfig-visibility">dfn for fencedframeconfig</a><span>, in § 2.3.3</span>
     <li><a href="#interest-group-descriptor-visibility">dfn for interest group descriptor</a><span>, in § 2.3.3</span>
     <li><a href="#mapped-url-visibility">dfn for mapped url</a><span>, in § 2.3.3</span>
     <li><a href="#nested-configs-visibility">dfn for nested configs</a><span>, in § 2.3.3</span>
    </ul>
   <li>
    width
    <ul>
     <li><a href="#dom-htmlfencedframeelement-width">attribute for HTMLFencedFrameElement</a><span>, in § 2.1</span>
     <li><a href="#size-width">dfn for size</a><span>, in § 2.3.3</span>
     <li><a href="#element-attrdef-fencedframe-width">element-attr for fencedframe</a><span>, in § 2.1</span>
    </ul>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="ae6f41f1">urn uuid</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ATTRIBUTION-REPORTING]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="83812ffe">event-source</span>
     <li><span class="dfn-paneled" id="dfae33ed">navigation-source</span>
     <li><span class="dfn-paneled" id="355b22b6">unset</span>
    </ul>
   <li>
    <a data-link-type="biblio">[ATTRIBUTION-REPORTING-API]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="4e56ed22">attribution reporting eligibility</span>
     <li><span class="dfn-paneled" id="4d702792">attribution-reporting</span>
     <li><span class="dfn-paneled" id="42730a08">check if an origin is suitable</span>
     <li><span class="dfn-paneled" id="f022ac0f">context origin</span>
     <li><span class="dfn-paneled" id="1985de80">process an attribution eligible response</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSP]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="233e6d44">'self'</span>
     <li><span class="dfn-paneled" id="6e4a4b23">connect-src</span>
     <li><span class="dfn-paneled" id="b7c21a86">content-security-policy</span>
     <li><span class="dfn-paneled" id="2591d27a">default-src</span>
     <li><span class="dfn-paneled" id="b43a01e9">directive value</span>
     <li><span class="dfn-paneled" id="c80aa797">directives</span>
     <li><span class="dfn-paneled" id="246aae4c">frame-src</span>
     <li><span class="dfn-paneled" id="8d4c2bb9">frame-src post-request check</span>
     <li><span class="dfn-paneled" id="aec77e5c">frame-src pre-request check</span>
     <li><span class="dfn-paneled" id="0cc094e4">get the effective directive for request</span>
     <li><span class="dfn-paneled" id="0950067d">host-source</span>
     <li><span class="dfn-paneled" id="d4ec2d19">scheme-source</span>
     <li><span class="dfn-paneled" id="8f1a9afe">serialized-source-list</span>
     <li><span class="dfn-paneled" id="b36452d7">source expression</span>
     <li><span class="dfn-paneled" id="75aafb4f">source lists</span>
     <li><span class="dfn-paneled" id="3f168208">worker-src</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSPEE]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="b9acc23e">is response to request blocked by context's required csp?</span>
     <li><span class="dfn-paneled" id="6265964a">required csp</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS21]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="aaa743a2">viewport</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS22]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="5d5f4fe6">visibility</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSSOM-VIEW]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="2cbb079e">scroll a target into view</span>
     <li><span class="dfn-paneled" id="82b885c9">scrollIntoView()</span>
    </ul>
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="141bbada">DOMTokenList</span>
     <li><span class="dfn-paneled" id="85394472">Document</span>
     <li><span class="dfn-paneled" id="296f3551">Element</span>
     <li><span class="dfn-paneled" id="80159636">ancestor</span>
     <li><span class="dfn-paneled" id="543878fa">append</span>
     <li><span class="dfn-paneled" id="d1a6c008">attribute change steps</span>
     <li><span class="dfn-paneled" id="9638f92b">connected</span>
     <li><span class="dfn-paneled" id="27d9b7ea">element</span>
     <li><span class="dfn-paneled" id="5216e1a0">node document</span>
     <li><span class="dfn-paneled" id="c62cd7cf">origin</span>
     <li><span class="dfn-paneled" id="fd32e3c9">shadow-including descendant</span>
     <li><span class="dfn-paneled" id="fefa5851">shadow-including tree order</span>
     <li><span class="dfn-paneled" id="ff74a37a">value</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FETCH]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="b4c5b3f7">RequestDestination</span>
     <li><span class="dfn-paneled" id="644cb530">body</span>
     <li><span class="dfn-paneled" id="8e9945a0">body <small>(for request)</small></span>
     <li><span class="dfn-paneled" id="857d5516">client</span>
     <li><span class="dfn-paneled" id="902380f7">credentials mode</span>
     <li><span class="dfn-paneled" id="2aaa937f">cross-origin resource policy check</span>
     <li><span class="dfn-paneled" id="3ae34c95">destination</span>
     <li><span class="dfn-paneled" id="a33db89a">fetch</span>
     <li><span class="dfn-paneled" id="5c66de35">get a structured field value</span>
     <li><span class="dfn-paneled" id="c9e7c11a">header</span>
     <li><span class="dfn-paneled" id="d85a6c84">header list</span>
     <li><span class="dfn-paneled" id="6ee0eab1">header list <small>(for request)</small></span>
     <li><span class="dfn-paneled" id="f7b00a8b">header list <small>(for response)</small></span>
     <li><span class="dfn-paneled" id="fa4ea124">initiator</span>
     <li><span class="dfn-paneled" id="8f26de31">is local</span>
     <li><span class="dfn-paneled" id="50b05fad">method</span>
     <li><span class="dfn-paneled" id="cb98f71f">mode</span>
     <li><span class="dfn-paneled" id="4b84a0bc">name</span>
     <li><span class="dfn-paneled" id="2889d1ec">navigation request</span>
     <li><span class="dfn-paneled" id="eb1b1af3">network error</span>
     <li><span class="dfn-paneled" id="5a391458">non-subresource request</span>
     <li><span class="dfn-paneled" id="f78d5b5c">origin</span>
     <li><span class="dfn-paneled" id="bd2fe71e">processresponse</span>
     <li><span class="dfn-paneled" id="8cb360fb">queue a cross-origin embedder policy corp violation report</span>
     <li><span class="dfn-paneled" id="358f1dbd">referrer</span>
     <li><span class="dfn-paneled" id="55213b5b">request</span>
     <li><span class="dfn-paneled" id="ee7bba09">response</span>
     <li><span class="dfn-paneled" id="6d1db60d">service-workers mode</span>
     <li><span class="dfn-paneled" id="449b55f1">source</span>
     <li><span class="dfn-paneled" id="dc1cd39b">url <small>(for request)</small></span>
     <li><span class="dfn-paneled" id="3268a8eb">url <small>(for response)</small></span>
     <li><span class="dfn-paneled" id="2c8ec3a8">useparallelqueue</span>
     <li><span class="dfn-paneled" id="8a608b90">value</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="402ed79d">CEReactions</span>
     <li><span class="dfn-paneled" id="973aaf8e">HTMLConstructor</span>
     <li><span class="dfn-paneled" id="b08d0bb2">HTMLElement</span>
     <li><span class="dfn-paneled" id="a2411b6a">History</span>
     <li><span class="dfn-paneled" id="be0c27b2">Navigator</span>
     <li><span class="dfn-paneled" id="eb5c4be3">Serializable</span>
     <li><span class="dfn-paneled" id="5d7209e9">Window</span>
     <li><span class="dfn-paneled" id="6973517b">about:srcdoc</span>
     <li><span class="dfn-paneled" id="5fd912e7">accessibility considerations</span>
     <li><span class="dfn-paneled" id="6fa9162d">accesskey attribute command</span>
     <li><span class="dfn-paneled" id="440fa929">activation</span>
     <li><span class="dfn-paneled" id="36d15a6d">activation notification</span>
     <li><span class="dfn-paneled" id="55a6b830">active browsing context</span>
     <li><span class="dfn-paneled" id="35972864">active document</span>
     <li><span class="dfn-paneled" id="27e10eaf">active sandboxing flag set</span>
     <li><span class="dfn-paneled" id="b565078e">active session history entry</span>
     <li><span class="dfn-paneled" id="57435598">allow</span>
     <li><span class="dfn-paneled" id="318dcf9d">allow-downloads</span>
     <li><span class="dfn-paneled" id="f4b750fa">allow-forms</span>
     <li><span class="dfn-paneled" id="ef9e6349">allow-modals</span>
     <li><span class="dfn-paneled" id="555d820b">allow-orientation-lock</span>
     <li><span class="dfn-paneled" id="5e9eb462">allow-pointer-lock</span>
     <li><span class="dfn-paneled" id="cae8789b">allow-popups</span>
     <li><span class="dfn-paneled" id="3c922136">allow-popups-to-escape-sandbox</span>
     <li><span class="dfn-paneled" id="b0365fad">allow-presentation</span>
     <li><span class="dfn-paneled" id="f29d5587">allow-same-origin</span>
     <li><span class="dfn-paneled" id="ea3171db">allow-scripts</span>
     <li><span class="dfn-paneled" id="26afb25c">allow-top-navigation</span>
     <li><span class="dfn-paneled" id="23bb4c34">allow-top-navigation-by-user-activation</span>
     <li><span class="dfn-paneled" id="7ad34c7a">allow-top-navigation-to-custom-protocols</span>
     <li><span class="dfn-paneled" id="3610bd67">allowed to use</span>
     <li><span class="dfn-paneled" id="ece2ee9d">ancestor navigables</span>
     <li><span class="dfn-paneled" id="3349d69f">associated document</span>
     <li><span class="dfn-paneled" id="1565d481">attempt to populate the history entry's document</span>
     <li><span class="dfn-paneled" id="0d0390b4">browsing context</span>
     <li><span class="dfn-paneled" id="3b2ff63e">browsing context <small>(for Document)</small></span>
     <li><span class="dfn-paneled" id="6d88ab2e">browsing context <small>(for Window)</small></span>
     <li><span class="dfn-paneled" id="59c8a576">browsing context group</span>
     <li><span class="dfn-paneled" id="a45b756f">browsing context group set</span>
     <li><span class="dfn-paneled" id="bfff6250">button</span>
     <li><span class="dfn-paneled" id="dfc4f7e7">categories</span>
     <li><span class="dfn-paneled" id="525a00e8">check a navigation response's adherence to its embedder policy</span>
     <li><span class="dfn-paneled" id="6c784e57">checking if unloading is user-canceled</span>
     <li><span class="dfn-paneled" id="f23dc013">child navigable</span>
     <li><span class="dfn-paneled" id="19336a2d">click focusable</span>
     <li><span class="dfn-paneled" id="00c57527">clone a policy container</span>
     <li><span class="dfn-paneled" id="aca22383">consume user activation</span>
     <li><span class="dfn-paneled" id="cc601639">container document</span>
     <li><span class="dfn-paneled" id="68675e70">content attributes</span>
     <li><span class="dfn-paneled" id="88766833">content model</span>
     <li><span class="dfn-paneled" id="3ecc7220">content navigable</span>
     <li><span class="dfn-paneled" id="3c915747">contexts in which this element can be used</span>
     <li><span class="dfn-paneled" id="254b22d8">coop enforcement result</span>
     <li><span class="dfn-paneled" id="4861a5f1">create a new browsing context and document</span>
     <li><span class="dfn-paneled" id="cf54ffeb">create a new browsing context group and document</span>
     <li><span class="dfn-paneled" id="e0e0e7bc">create and initialize a document object</span>
     <li><span class="dfn-paneled" id="07ad3048">create navigation params by fetching</span>
     <li><span class="dfn-paneled" id="53eede33">cross-origin isolation mode</span>
     <li><span class="dfn-paneled" id="f21d6b26">cross-origin-embedder-policy</span>
     <li><span class="dfn-paneled" id="2e493c47">cross-origin-opener-policy</span>
     <li><span class="dfn-paneled" id="490c0dbc">currently focused area of a top-level traversable</span>
     <li><span class="dfn-paneled" id="82529e79">descendant navigables</span>
     <li><span class="dfn-paneled" id="888d7c65">deserialization steps</span>
     <li><span class="dfn-paneled" id="d20bde85">determine navigation params policy container</span>
     <li><span class="dfn-paneled" id="124faaab">determine the creation sandboxing flags</span>
     <li><span class="dfn-paneled" id="5088ef15">document</span>
     <li><span class="dfn-paneled" id="0c259df4">document base url</span>
     <li><span class="dfn-paneled" id="092de955">document state</span>
     <li><span class="dfn-paneled" id="06834943">dom anchor</span>
     <li><span class="dfn-paneled" id="317acf49">dom interface</span>
     <li><span class="dfn-paneled" id="e10e7eb7">dom manipulation task source</span>
     <li><span class="dfn-paneled" id="38c8ba2c">embedded content</span>
     <li><span class="dfn-paneled" id="f149351d">embedder policy</span>
     <li><span class="dfn-paneled" id="c6d19e56">event loop</span>
     <li><span class="dfn-paneled" id="e4f0217f">face validation anchor</span>
     <li><span class="dfn-paneled" id="220e27a3">fetch client</span>
     <li><span class="dfn-paneled" id="9ac94568">final sandboxing flag set</span>
     <li><span class="dfn-paneled" id="e5cb4a39">fire a click event</span>
     <li><span class="dfn-paneled" id="1236ac1a">flow content</span>
     <li><span class="dfn-paneled" id="716e5220">focus chain</span>
     <li><span class="dfn-paneled" id="672227e0">focus update steps</span>
     <li><span class="dfn-paneled" id="d345f720">focus(options)</span>
     <li><span class="dfn-paneled" id="fad8924f">focusable area</span>
     <li><span class="dfn-paneled" id="4546c309">focused</span>
     <li><span class="dfn-paneled" id="a9123244">focused area</span>
     <li><span class="dfn-paneled" id="fe07e8b2">focusing steps</span>
     <li><span class="dfn-paneled" id="856d9692">form-associated custom element</span>
     <li><span class="dfn-paneled" id="14080e5a">gain focus</span>
     <li><span class="dfn-paneled" id="fafafd09">get the focusable area</span>
     <li><span class="dfn-paneled" id="8fc74046">global attributes</span>
     <li><span class="dfn-paneled" id="7c421916">has focus steps</span>
     <li><span class="dfn-paneled" id="dfa9c14c">has transient activation</span>
     <li><span class="dfn-paneled" id="0b79108e">height</span>
     <li><span class="dfn-paneled" id="979264d7">hide popover algorithm</span>
     <li><span class="dfn-paneled" id="5ea2b73e">history policy container</span>
     <li><span class="dfn-paneled" id="37b5f0f9">historyhandling</span>
     <li><span class="dfn-paneled" id="87fcd40c">iframe</span>
     <li><span class="dfn-paneled" id="4927c7a6">iframe sandboxing flag set</span>
     <li><span class="dfn-paneled" id="b8d9c605">immediately</span>
     <li><span class="dfn-paneled" id="a72449dd">in parallel</span>
     <li><span class="dfn-paneled" id="dbdbb853">inclusive descendant navigables</span>
     <li><span class="dfn-paneled" id="2fa84525">initialize the navigable</span>
     <li><span class="dfn-paneled" id="2895d75d">initiator origin</span>
     <li><span class="dfn-paneled" id="bd7d36d0">interactive content</span>
     <li><span class="dfn-paneled" id="fc2d4032">interactively validate the constraints</span>
     <li><span class="dfn-paneled" id="af07f0c4">length</span>
     <li><span class="dfn-paneled" id="9c19b7fc">navigable</span>
     <li><span class="dfn-paneled" id="228be966">navigable <small>(for Window)</small></span>
     <li><span class="dfn-paneled" id="693b6384">navigable <small>(for navigation params)</small></span>
     <li><span class="dfn-paneled" id="bf63a402">navigable container</span>
     <li><span class="dfn-paneled" id="2594e562">navigate</span>
     <li><span class="dfn-paneled" id="27d98ff5">navigation and traversal task source</span>
     <li><span class="dfn-paneled" id="4437edc6">navigation params</span>
     <li><span class="dfn-paneled" id="a0768d9f">navigator</span>
     <li><span class="dfn-paneled" id="87168c61">needs a browsing context group switch</span>
     <li><span class="dfn-paneled" id="01ff24f7">node is inserted into a document</span>
     <li><span class="dfn-paneled" id="13dd6cae">node navigable</span>
     <li><span class="dfn-paneled" id="e86519ee">none</span>
     <li><span class="dfn-paneled" id="fbadcbc4">nothing</span>
     <li><span class="dfn-paneled" id="e8798b0b">ongoing navigation</span>
     <li><span class="dfn-paneled" id="cbe46402">opener</span>
     <li><span class="dfn-paneled" id="086e3aff">origin</span>
     <li><span class="dfn-paneled" id="43ac8374">origin <small>(for environment settings object)</small></span>
     <li><span class="dfn-paneled" id="225c2b02">origin <small>(for navigation params)</small></span>
     <li><span class="dfn-paneled" id="d54eeea2">palpable content</span>
     <li><span class="dfn-paneled" id="1bba3db7">parent</span>
     <li><span class="dfn-paneled" id="53f0ea4e">parse a sandboxing directive</span>
     <li><span class="dfn-paneled" id="a41102eb">permissions policy</span>
     <li><span class="dfn-paneled" id="e5a7e26c">phrasing content</span>
     <li><span class="dfn-paneled" id="b33787b2">policy container</span>
     <li><span class="dfn-paneled" id="08639fbc">policy container <small>(for Document)</small></span>
     <li><span class="dfn-paneled" id="6aea56c3">previously focused element</span>
     <li><span class="dfn-paneled" id="b1f81001">queue a cross-origin embedder policy inheritance violation</span>
     <li><span class="dfn-paneled" id="48438eb3">queue a global task</span>
     <li><span class="dfn-paneled" id="9a517a7d">queue a task</span>
     <li><span class="dfn-paneled" id="a76e7e27">referrerpolicy</span>
     <li><span class="dfn-paneled" id="5ab7b520">reflect</span>
     <li><span class="dfn-paneled" id="e99bd18e">relevant global object</span>
     <li><span class="dfn-paneled" id="5991ccfb">relevant realm</span>
     <li><span class="dfn-paneled" id="9c4c1e66">relevant settings object</span>
     <li><span class="dfn-paneled" id="cd5fb9ff">removed from a document</span>
     <li><span class="dfn-paneled" id="c75feb22">replace</span>
     <li><span class="dfn-paneled" id="fe811c8e">represents</span>
     <li><span class="dfn-paneled" id="1ae60107">response</span>
     <li><span class="dfn-paneled" id="7393da89">same origin</span>
     <li><span class="dfn-paneled" id="457a6f4c">sandboxing flag set</span>
     <li><span class="dfn-paneled" id="8c20d82f">sequential focus navigation</span>
     <li><span class="dfn-paneled" id="6197cadb">sequential navigation search algorithm</span>
     <li><span class="dfn-paneled" id="0a422d04">serializable object</span>
     <li><span class="dfn-paneled" id="f32dc6c1">serialization steps</span>
     <li><span class="dfn-paneled" id="5e1e14ce">session history entries</span>
     <li><span class="dfn-paneled" id="fb9bb722">site</span>
     <li><span class="dfn-paneled" id="ba5c8415">snapshot source snapshot params</span>
     <li><span class="dfn-paneled" id="b285d8c5">source policy container</span>
     <li><span class="dfn-paneled" id="77093875">source snapshot params</span>
     <li><span class="dfn-paneled" id="deddc6fc">src</span>
     <li><span class="dfn-paneled" id="806c30aa">step</span>
     <li><span class="dfn-paneled" id="ecf857b3">system visibility state</span>
     <li><span class="dfn-paneled" id="8d403805">the document's referrer</span>
     <li><span class="dfn-paneled" id="d0c1b934">traversable navigable</span>
     <li><span class="dfn-paneled" id="17582406">traversable navigable <small>(for navigable)</small></span>
     <li><span class="dfn-paneled" id="16cfba2b">unordered set of unique space-separated tokens</span>
     <li><span class="dfn-paneled" id="b79e50d6">user activation</span>
     <li><span class="dfn-paneled" id="cdb5db7e">width</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="53275e46">append <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="a3b18719">append <small>(for set)</small></span>
     <li><span class="dfn-paneled" id="7f9469b5">ascii case-insensitive</span>
     <li><span class="dfn-paneled" id="77b4c09a">assert</span>
     <li><span class="dfn-paneled" id="36858240">boolean</span>
     <li><span class="dfn-paneled" id="7b0d918d">break</span>
     <li><span class="dfn-paneled" id="ae8def21">contain</span>
     <li><span class="dfn-paneled" id="f937b7b6">continue</span>
     <li><span class="dfn-paneled" id="03afaf9c">empty</span>
     <li><span class="dfn-paneled" id="9c05f1bf">ends with</span>
     <li><span class="dfn-paneled" id="75393c04">exist <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="1243a891">exist <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="d8f8bd6e">extend</span>
     <li><span class="dfn-paneled" id="16d07e10">for each <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="45209803">for each <small>(for map)</small></span>
     <li><span class="dfn-paneled" id="f052b1ea">html namespace</span>
     <li><span class="dfn-paneled" id="860300d4">implementation-defined</span>
     <li><span class="dfn-paneled" id="c88f3887">item</span>
     <li><span class="dfn-paneled" id="efe8653e">iterate</span>
     <li><span class="dfn-paneled" id="31db57e6">keys</span>
     <li><span class="dfn-paneled" id="649608b9">list</span>
     <li><span class="dfn-paneled" id="3fca5a9e">map</span>
     <li><span class="dfn-paneled" id="84b454ff">ordered map</span>
     <li><span class="dfn-paneled" id="7d4424b2">remove</span>
     <li><span class="dfn-paneled" id="0e6b2056">set</span>
     <li><span class="dfn-paneled" id="653d0848">size</span>
     <li><span class="dfn-paneled" id="54627f47">starts with</span>
     <li><span class="dfn-paneled" id="0698d556">string</span>
     <li><span class="dfn-paneled" id="984221ca">struct</span>
     <li><span class="dfn-paneled" id="5c7fa56b">subset</span>
     <li><span class="dfn-paneled" id="5eb733b4">union</span>
     <li><span class="dfn-paneled" id="12d6b9a8">values</span>
     <li><span class="dfn-paneled" id="cbdc89b4">while</span>
    </ul>
   <li>
    <a data-link-type="biblio">[PERMISSIONS-POLICY]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="333b39ba">'self'</span>
     <li><span class="dfn-paneled" id="a4bd3a02">Create a Permissions Policy for a navigable</span>
     <li><span class="dfn-paneled" id="60a07537">Create a Permissions Policy for a navigable from response</span>
     <li><span class="dfn-paneled" id="ed19a3f6">Define an inherited policy for feature in container at origin</span>
     <li><span class="dfn-paneled" id="1ff5a349">Is feature enabled in document for origin?</span>
     <li><span class="dfn-paneled" id="e8285008">Process permissions policy attributes</span>
     <li><span class="dfn-paneled" id="16215713">allowlist</span>
     <li><span class="dfn-paneled" id="512b396d">ascii-serialized policy directive</span>
     <li><span class="dfn-paneled" id="d080b91a">container policy</span>
     <li><span class="dfn-paneled" id="39c68b47">declared policy</span>
     <li><span class="dfn-paneled" id="1570624a">default allowlist</span>
     <li><span class="dfn-paneled" id="c52780db">inherited policy</span>
     <li><span class="dfn-paneled" id="9a53d7fe">inherited policy for a feature</span>
     <li><span class="dfn-paneled" id="a11ac608">matches</span>
     <li><span class="dfn-paneled" id="bd6ce462">permissions policy</span>
     <li><span class="dfn-paneled" id="0e3ba2bf">permissions-policy</span>
     <li><span class="dfn-paneled" id="d39985e3">policy directive</span>
     <li><span class="dfn-paneled" id="cc890cc1">policy-controlled feature</span>
     <li><span class="dfn-paneled" id="afef6e87">serialized permissions policy</span>
     <li><span class="dfn-paneled" id="7e36d255">supported features</span>
     <li><span class="dfn-paneled" id="d47cadd5">the special value *</span>
    </ul>
   <li>
    <a data-link-type="biblio">[Prerendering-Revamped]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="1ce22483">get the supported loading modes</span>
     <li><span class="dfn-paneled" id="4176065d">loading mode</span>
     <li><span class="dfn-paneled" id="0acae8bb">supports-loading-mode</span>
    </ul>
   <li>
    <a data-link-type="biblio">[REFERRER-POLICY]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="bb0c2ce5">"no-referrer"</span>
    </ul>
   <li>
    <a data-link-type="biblio">[RFC8941]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="44ec4d59">boolean</span>
     <li><span class="dfn-paneled" id="928a0e65">structured header</span>
     <li><span class="dfn-paneled" id="e8409d67">token</span>
    </ul>
   <li>
    <a data-link-type="biblio">[TURTLEDOVE]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="198d542e">construct a pending fenced frame config</span>
    </ul>
   <li>
    <a data-link-type="biblio">[URL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="959ad97b">origin</span>
     <li><span class="dfn-paneled" id="3a711be7">scheme</span>
     <li><span class="dfn-paneled" id="dcffbccd">url</span>
     <li><span class="dfn-paneled" id="ca3ca4ae">url parser</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="dca2de17">DOMException</span>
     <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
     <li><span class="dfn-paneled" id="d54f5897">DataCloneError</span>
     <li><span class="dfn-paneled" id="889e932f">Exposed</span>
     <li><span class="dfn-paneled" id="bdbd19d1">Promise</span>
     <li><span class="dfn-paneled" id="21ecf38f">PutForwards</span>
     <li><span class="dfn-paneled" id="a5c91173">SameObject</span>
     <li><span class="dfn-paneled" id="82ca3efc">TypeError</span>
     <li><span class="dfn-paneled" id="b0d7f3c3">USVString</span>
     <li><span class="dfn-paneled" id="dacde8b5">a new promise</span>
     <li><span class="dfn-paneled" id="5372cca8">boolean</span>
     <li><span class="dfn-paneled" id="56f81a8e">new</span>
     <li><span class="dfn-paneled" id="7787d359">record</span>
     <li><span class="dfn-paneled" id="3b90bdcd">resolve</span>
     <li><span class="dfn-paneled" id="9cce47fd">sequence</span>
     <li><span class="dfn-paneled" id="4013a022">this</span>
     <li><span class="dfn-paneled" id="b4cfa5ce">throw</span>
     <li><span class="dfn-paneled" id="5f90bbfb">undefined</span>
     <li><span class="dfn-paneled" id="e97a9688">unsigned long</span>
     <li><span class="dfn-paneled" id="450958f7">unsigned short</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-attribution-reporting-api">[ATTRIBUTION-REPORTING-API]
   <dd><a href="https://wicg.github.io/attribution-reporting-api/"><cite>Attribution Reporting</cite></a>. Draft Community Group Report. URL: <a href="https://wicg.github.io/attribution-reporting-api/">https://wicg.github.io/attribution-reporting-api/</a>
   <dt id="biblio-csp">[CSP]
   <dd>Mike West; Antonio Sartori. <a href="https://w3c.github.io/webappsec-csp/"><cite>Content Security Policy Level 3</cite></a>. URL: <a href="https://w3c.github.io/webappsec-csp/">https://w3c.github.io/webappsec-csp/</a>
   <dt id="biblio-cspee">[CSPEE]
   <dd>Mike West. <a href="https://w3c.github.io/webappsec-cspee/"><cite>Prerendering Revamped</cite></a>. CG-DRAFT. URL: <a href="https://w3c.github.io/webappsec-cspee/">https://w3c.github.io/webappsec-cspee/</a>
   <dt id="biblio-css21">[CSS21]
   <dd>Bert Bos; et al. <a href="https://drafts.csswg.org/css2/"><cite>Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification</cite></a>. URL: <a href="https://drafts.csswg.org/css2/">https://drafts.csswg.org/css2/</a>
   <dt id="biblio-css22">[CSS22]
   <dd>Bert Bos. <a href="https://drafts.csswg.org/css2/"><cite>Cascading Style Sheets Level 2 Revision 2 (CSS 2.2) Specification</cite></a>. URL: <a href="https://drafts.csswg.org/css2/">https://drafts.csswg.org/css2/</a>
   <dt id="biblio-cssom-view">[CSSOM-VIEW]
   <dd>Simon Pieters. <a href="https://drafts.csswg.org/cssom-view/"><cite>CSSOM View Module</cite></a>. URL: <a href="https://drafts.csswg.org/cssom-view/">https://drafts.csswg.org/cssom-view/</a>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-fetch">[FETCH]
   <dd>Anne van Kesteren. <a href="https://fetch.spec.whatwg.org/"><cite>Fetch Standard</cite></a>. Living Standard. URL: <a href="https://fetch.spec.whatwg.org/">https://fetch.spec.whatwg.org/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-permissions-policy">[PERMISSIONS-POLICY]
   <dd>Ian Clelland. <a href="https://w3c.github.io/webappsec-permissions-policy/"><cite>Permissions Policy</cite></a>. URL: <a href="https://w3c.github.io/webappsec-permissions-policy/">https://w3c.github.io/webappsec-permissions-policy/</a>
   <dt id="biblio-prerendering-revamped">[Prerendering-Revamped]
   <dd>Domenic Denicola; Dominic Farolino. <a href="https://wicg.github.io/nav-speculation/prerendering.html"><cite>Prerendering Revamped</cite></a>. CG-DRAFT. URL: <a href="https://wicg.github.io/nav-speculation/prerendering.html">https://wicg.github.io/nav-speculation/prerendering.html</a>
   <dt id="biblio-referrer-policy">[REFERRER-POLICY]
   <dd>Jochen Eisinger; Emily Stark. <a href="https://w3c.github.io/webappsec-referrer-policy/"><cite>Referrer Policy</cite></a>. URL: <a href="https://w3c.github.io/webappsec-referrer-policy/">https://w3c.github.io/webappsec-referrer-policy/</a>
   <dt id="biblio-rfc8941">[RFC8941]
   <dd>M. Nottingham; P-H. Kamp. <a href="https://httpwg.org/specs/rfc8941.html"><cite>Structured Field Values for HTTP</cite></a>. February 2021. Proposed Standard. URL: <a href="https://httpwg.org/specs/rfc8941.html">https://httpwg.org/specs/rfc8941.html</a>
   <dt id="biblio-turtledove">[TURTLEDOVE]
   <dd><a href="https://wicg.github.io/turtledove/"><cite>Protected Audience (formerly FLEDGE)</cite></a>. Draft Community Group Report. URL: <a href="https://wicg.github.io/turtledove/">https://wicg.github.io/turtledove/</a>
   <dt id="biblio-url">[URL]
   <dd>Anne van Kesteren. <a href="https://url.spec.whatwg.org/"><cite>URL Standard</cite></a>. Living Standard. URL: <a href="https://url.spec.whatwg.org/">https://url.spec.whatwg.org/</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-protected-audience">[Protected-Audience]
   <dd>Paul Jensen. <a href="https://wicg.github.io/turtledove/"><cite>Protected Audience API</cite></a>. CG-DRAFT. URL: <a href="https://wicg.github.io/turtledove/">https://wicg.github.io/turtledove/</a>
   <dt id="biblio-shared-storage">[Shared-Storage]
   <dd>Cammie Barnes. <a href="https://wicg.github.io/shared-storage/"><cite>Shared Storage API</cite></a>. CG-DRAFT. URL: <a href="https://wicg.github.io/shared-storage/">https://wicg.github.io/shared-storage/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#htmlfencedframeelement"><code><c- g>HTMLFencedFrameElement</c-></code></a> : <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/dom.html#htmlelement"><c- n>HTMLElement</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/dom.html#htmlconstructor"><c- g>HTMLConstructor</c-></a>] <a href="#dom-htmlfencedframeelement-htmlfencedframeelement"><code><c- g>constructor</c-></code></a>();

  [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions"><c- g>CEReactions</c-></a>] <c- b>attribute</c-> <a data-link-type="idl-name" href="#fencedframeconfig"><c- n>FencedFrameConfig</c-></a>? <a class="idl-code" data-link-type="attribute" data-type="FencedFrameConfig?" href="#dom-htmlfencedframeelement-config"><c- g>config</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions"><c- g>CEReactions</c-></a>] <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="DOMString" href="#dom-htmlfencedframeelement-width"><c- g>width</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions"><c- g>CEReactions</c-></a>] <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="DOMString" href="#dom-htmlfencedframeelement-height"><c- g>height</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SameObject"><c- g>SameObject</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#PutForwards"><c- g>PutForwards</c-></a>=<a class="idl-code" data-link-type="attribute" href="https://dom.spec.whatwg.org/#dom-domtokenlist-value"><c- n>value</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#domtokenlist"><c- n>DOMTokenList</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMTokenList" href="#dom-htmlfencedframeelement-sandbox"><c- g>sandbox</c-></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions"><c- g>CEReactions</c-></a>] <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a class="idl-code" data-link-type="attribute" data-type="DOMString" href="#dom-htmlfencedframeelement-allow"><c- g>allow</c-></a>;
};

<c- b>enum</c-> <a href="#enumdef-opaqueproperty"><code><c- g>OpaqueProperty</c-></code></a> {<a href="#dom-opaqueproperty-opaque"><code><c- s>"opaque"</c-></code></a>};

<c- b>typedef</c-> (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#enumdef-opaqueproperty"><c- n>OpaqueProperty</c-></a>) <a href="#typedefdef-fencedframeconfigsize"><code><c- g>FencedFrameConfigSize</c-></code></a>;
<c- b>typedef</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#typedefdef-fencedframeconfigurl"><code><c- g>FencedFrameConfigURL</c-></code></a>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->, <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/structured-data.html#serializable"><c- g>Serializable</c-></a>]
<c- b>interface</c-> <a href="#fencedframeconfig"><code><c- g>FencedFrameConfig</c-></code></a> {
  <a class="idl-code" data-link-type="constructor" href="#dom-fencedframeconfig-fencedframeconfig"><c- g>constructor</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a href="#dom-fencedframeconfig-fencedframeconfig-url-url"><code><c- g>url</c-></code></a>);
    
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#typedefdef-fencedframeconfigsize"><c- n>FencedFrameConfigSize</c-></a>? <a data-readonly data-type="FencedFrameConfigSize?" href="#dom-fencedframeconfig-containerwidth"><code><c- g>containerWidth</c-></code></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#typedefdef-fencedframeconfigsize"><c- n>FencedFrameConfigSize</c-></a>? <a data-readonly data-type="FencedFrameConfigSize?" href="#dom-fencedframeconfig-containerheight"><code><c- g>containerHeight</c-></code></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#typedefdef-fencedframeconfigsize"><c- n>FencedFrameConfigSize</c-></a>? <a data-readonly data-type="FencedFrameConfigSize?" href="#dom-fencedframeconfig-contentwidth"><code><c- g>contentWidth</c-></code></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#typedefdef-fencedframeconfigsize"><c- n>FencedFrameConfigSize</c-></a>? <a data-readonly data-type="FencedFrameConfigSize?" href="#dom-fencedframeconfig-contentheight"><code><c- g>contentHeight</c-></code></a>;

  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fencedframeconfig-setsharedstoragecontext"><c- g>setSharedStorageContext</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a href="#dom-fencedframeconfig-setsharedstoragecontext-contextstring-contextstring"><code><c- g>contextString</c-></code></a>);
};

<c- b>typedef</c-> (<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <c- b>or</c-> <a data-link-type="idl-name" href="#fencedframeconfig"><c- n>FencedFrameConfig</c-></a>) <a href="#typedefdef-urnorconfig"><code><c- g>UrnOrConfig</c-></code></a>;

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator"><c- g>Navigator</c-></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigator-deprecatedreplaceinurn"><c- g>deprecatedReplaceInURN</c-></a>(
    <a data-link-type="idl-name" href="#typedefdef-urnorconfig"><c- n>UrnOrConfig</c-></a> <a href="#dom-navigator-deprecatedreplaceinurn-urnorconfig-replacements-urnorconfig"><code><c- g>urnOrConfig</c-></code></a>, <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>, <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>> <a href="#dom-navigator-deprecatedreplaceinurn-urnorconfig-replacements-replacements"><code><c- g>replacements</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigator-deprecatedurntourl"><c- g>deprecatedURNtoURL</c-></a>(
    <a data-link-type="idl-name" href="#typedefdef-urnorconfig"><c- n>UrnOrConfig</c-></a> <a href="#dom-navigator-deprecatedurntourl-urnorconfig-send_reports-urnorconfig"><code><c- g>urnOrConfig</c-></code></a>, <c- b>optional</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a href="#dom-navigator-deprecatedurntourl-urnorconfig-send_reports-send_reports"><code><c- g>send_reports</c-></code></a> = <c- b>false</c->);
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-navigator-adauctioncomponents"><c- g>adAuctionComponents</c-></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-short"><c- b>unsigned</c-> <c- b>short</c-></a> <a href="#dom-navigator-adauctioncomponents-numadcomponents-numadcomponents"><code><c- g>numAdComponents</c-></code></a>);
};

<c- b>enum</c-> <a href="#enumdef-fencereportingdestination"><code><c- g>FenceReportingDestination</c-></code></a> {
  <a href="#dom-fencereportingdestination-buyer"><code><c- s>"buyer"</c-></code></a>,
  <a href="#dom-fencereportingdestination-seller"><code><c- s>"seller"</c-></code></a>,
  <a href="#dom-fencereportingdestination-component-seller"><code><c- s>"component-seller"</c-></code></a>,
  <a href="#dom-fencereportingdestination-direct-seller"><code><c- s>"direct-seller"</c-></code></a>,
  <a href="#dom-fencereportingdestination-shared-storage-select-url"><code><c- s>"shared-storage-select-url"</c-></code></a>,
};

<c- b>dictionary</c-> <a href="#dictdef-fenceevent"><code><c- g>FenceEvent</c-></code></a> {
  // This dictionary has two mutually exclusive modes that aren’t represented as
  // distinct IDL types due to distinguishability issues:
  //
  // When reporting to a preregistered destination (specified by enum), the following
  // properties are used:
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-fenceevent-eventtype"><code><c- g>eventType</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-fenceevent-eventdata"><code><c- g>eventData</c-></code></a>;
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#enumdef-fencereportingdestination"><c- n>FenceReportingDestination</c-></a>> <a data-type="sequence<FenceReportingDestination> " href="#dom-fenceevent-destination"><code><c- g>destination</c-></code></a>;

  // Determines if this data can be sent in a reportEvent() beacon or automatic
  // beacon that originates from a document that is cross-origin to the mapped
  // URL of the fenced frame config that loaded this frame tree.
  // Note that automatic beacon data can only be set from documents that are
  // same-origin to the fenced frame config’s mapped URL, so this effectively
  // opts in the data to being used in a cross-origin subframe.
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean " href="#dom-fenceevent-crossoriginexposed"><code><c- g>crossOriginExposed</c-></code></a> = <c- b>false</c->;

  // When setting event data to be used later in an automatic beacon, the
  // following properties are used:
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean " href="#dom-fenceevent-once"><code><c- g>once</c-></code></a> = <c- b>false</c->;

  // When reporting to a custom destination URL (with substitution of macros defined by
  // the Protected Audience buyer), the following property is used:
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-USVString"><c- b>USVString</c-></a> <a data-type="USVString " href="#dom-fenceevent-destinationurl"><code><c- g>destinationURL</c-></code></a>;
};

<c- b>typedef</c-> (<a data-link-type="idl-name" href="#dictdef-fenceevent"><c- n>FenceEvent</c-></a> <c- b>or</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>) <a href="#typedefdef-reporteventtype"><code><c- g>ReportEventType</c-></code></a>;

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#fence"><code><c- g>Fence</c-></code></a> {
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fence-reportevent"><c- g>reportEvent</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#typedefdef-reporteventtype"><c- n>ReportEventType</c-></a> <a href="#dom-fence-reportevent-event-event"><code><c- g>event</c-></code></a> = {});
    <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-undefined"><c- b>undefined</c-></a> <a class="idl-code" data-link-type="method" href="#dom-fence-setreporteventdataforautomaticbeacons"><c- g>setReportEventDataForAutomaticBeacons</c-></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-fenceevent"><c- n>FenceEvent</c-></a> <a href="#dom-fence-setreporteventdataforautomaticbeacons-event-event"><code><c- g>event</c-></code></a> = {});
    <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#fencedframeconfig"><c- n>FencedFrameConfig</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-fence-getnestedconfigs"><c- g>getNestedConfigs</c-></a>();
};

<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#window"><c- g>Window</c-></a> {
  // Collection of fenced frame APIs
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#fence"><c- n>Fence</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="Fence?" href="#dom-window-fence"><c- g>fence</c-></a>;
};

</pre>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> It’s not necessary to call the <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#url-and-history-update-steps">URL
  and history update steps</a> as we do during usual <a href="https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element:url-and-history-update-steps">child
  navigable creation</a> or <a href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#apis-for-creating-and-navigating-browsing-contexts-by-name:url-and-history-update-steps">top-level
  traversable creation</a>, but we still need a mechanism to initialize <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#history-3">History</a></code>.<code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-history-length">length</a></code> in the new navigable. This is an existing issue in the HTML
  Standard: <a href="https://github.com/whatwg/html/issues/9030">https://github.com/whatwg/html/issues/9030</a>. <a class="issue-return" href="#issue-8e3b9846" title="Jump to section">↵</a></div>
   <div class="issue"> The default is <code>"all"</code>, so we technically don’t have to set anything here. We do in order
 to remind ourselves that it might be more appropriate to skip service workers here, like some <a href="https://wicg.github.io/attribution-reporting-api/#ref-for-request-service-workers-mode">other
 beacons</a>. <a class="issue-return" href="#issue-bc2a846a" title="Jump to section">↵</a></div>
   <div class="issue"> Determine if we need to fence or unfence the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/browsers.html#queue-a-cross-origin-embedder-policy-inheritance-violation">queue a cross-origin embedder policy
inheritance violation</a> algorithm, as leaving it unfenced may cause a privacy leak. <a class="issue-return" href="#issue-3fa4bcc3" title="Jump to section">↵</a></div>
   <div class="issue"> Determine if we need to fence or unfence the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#queue-a-cross-origin-embedder-policy-corp-violation-report">queue a cross-origin embedder policy
CORP violation report</a> algorithm, as leaving it unfenced may cause a privacy leak. <a class="issue-return" href="#issue-0714cdd7" title="Jump to section">↵</a></div>
   <div class="issue"> This indeed works, but we should consider using a separate mechanism to carry this out,
 instead of piggybacking off of the COOP mechanism which was designed without fenced frames in
 mind, and could evolve in ways that give this specification unwanted side-effects. <a class="issue-return" href="#issue-65d90823" title="Jump to section">↵</a></div>
   <div class="issue"> Specify the behavior that leads to the following: <a class="issue-return" href="#issue-d22ed66a" title="Jump to section">↵</a></div>
   <div class="issue"> Per work omitted in <a href="https://github.com/WICG/fenced-frame/pull/84#discussion_r1186531028">pull request
 #84</a>, the config instance
 has not yet been assigned to the browsing context. We should consider storing the instance
 inside <var>navigationParams</var> and reference it from here instead. <a class="issue-return" href="#issue-0ffad658" title="Jump to section">↵</a></div>
  </div>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
    const dfnsJson = window.dfnsJson || {};

    function genDfnPanel({dfnID, url, dfnText, refSections, external}) {
        return mk.aside({
            class: "dfn-panel",
            id: `infopanel-for-${dfnID}`,
            "data-for": dfnID,
            "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
            },
            mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
                `Info about the '${dfnText}' ${external?"external":""} reference.`),
            mk.a({href:url}, url),
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({
                                    href: `#${ref.id}`
                                    },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        );
    }

    function genAllDfnPanels() {
        for(const panelData of Object.values(window.dfnpanelData)) {
            const dfnID = panelData.dfnID;
            const dfn = document.getElementById(dfnID);
            if(!dfn) {
                console.log(`Can't find dfn#${dfnID}.`, panelData);
            } else {
                const panel = genDfnPanel(panelData);
                append(document.body, panel);
                insertDfnPopupAction(dfn, panel)
            }
        }
    }

    document.addEventListener("DOMContentLoaded", ()=>{
        genAllDfnPanels();

        // Add popup behavior to all dfns to show the corresponding dfn-panel.
        var dfns = queryAll('.dfn-paneled');
        for(let dfn of dfns) { ; }

        document.body.addEventListener("click", (e) => {
            // If not handled already, just hide all dfn panels.
            hideAllDfnPanels();
        });
    })


    function hideAllDfnPanels() {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>hideDfnPanel(el));
    }

    function showDfnPanel(dfnPanel, dfn) {
        hideAllDfnPanels(); // Only display one at this time.
        dfn.setAttribute("aria-expanded", "true");
        dfnPanel.classList.add("on");
        dfnPanel.style.left = "5px";
        dfnPanel.style.top = "0px";
        const panelRect = dfnPanel.getBoundingClientRect();
        const panelWidth = panelRect.right - panelRect.left;
        if (panelRect.right > document.body.scrollWidth) {
            // Panel's overflowing the screen.
            // Just drop it below the dfn and flip it rightward instead.
            // This still wont' fix things if the screen is *really* wide,
            // but fixing that's a lot harder without 'anchor()'.
            dfnPanel.style.top = "1.5em";
            dfnPanel.style.left = "auto";
            dfnPanel.style.right = "0px";
        }
    }

    function pinDfnPanel(dfnPanel) {
        // Switch it to "activated" state, which pins it.
        dfnPanel.classList.add("activated");
        dfnPanel.style.left = null;
        dfnPanel.style.top = null;
    }

    function hideDfnPanel(dfnPanel, dfn) {
        if(!dfn) {
            dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
        }
        dfn.setAttribute("aria-expanded", "false")
        dfnPanel.classList.remove("on");
        dfnPanel.classList.remove("activated");
    }

    function toggleDfnPanel(dfnPanel, dfn) {
        if(dfnPanel.classList.contains("on")) {
            hideDfnPanel(dfnPanel, dfn);
        } else {
            showDfnPanel(dfnPanel, dfn);
        }
    }

    function insertDfnPopupAction(dfn, dfnPanel) {
        // Find dfn panel
        const panelWrapper = document.createElement('span');
        panelWrapper.appendChild(dfnPanel);
        panelWrapper.style.position = "relative";
        panelWrapper.style.height = "0px";
        dfn.insertAdjacentElement("afterend", panelWrapper);
        dfn.setAttribute('role', 'button');
        dfn.setAttribute('aria-expanded', 'false')
        dfn.tabIndex = 0;
        dfn.classList.add('has-dfn-panel');
        dfn.addEventListener('click', (event) => {
            showDfnPanel(dfnPanel, dfn);
            event.stopPropagation();
        });
        dfn.addEventListener('keypress', (event) => {
            const kc = event.keyCode;
            // 32->Space, 13->Enter
            if(kc == 32 || kc == 13) {
                toggleDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        });

        dfnPanel.addEventListener('click', (event) => {
            if (event.target.nodeName == 'A') {
                pinDfnPanel(dfnPanel);
            }
            event.stopPropagation();
        });

        dfnPanel.addEventListener('keydown', (event) => {
            if(event.keyCode == 27) { // Escape key
                hideDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        })
    }
}
</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
    const dfnsJson = window.dfnsJson || {};

    function genDfnPanel({dfnID, url, dfnText, refSections, external}) {
        return mk.aside({
            class: "dfn-panel",
            id: `infopanel-for-${dfnID}`,
            "data-for": dfnID,
            "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
            },
            mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
                `Info about the '${dfnText}' ${external?"external":""} reference.`),
            mk.a({href:url}, url),
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({
                                    href: `#${ref.id}`
                                    },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        );
    }

    function genAllDfnPanels() {
        for(const panelData of Object.values(window.dfnpanelData)) {
            const dfnID = panelData.dfnID;
            const dfn = document.getElementById(dfnID);
            if(!dfn) {
                console.log(`Can't find dfn#${dfnID}.`, panelData);
            } else {
                const panel = genDfnPanel(panelData);
                append(document.body, panel);
                insertDfnPopupAction(dfn, panel)
            }
        }
    }

    document.addEventListener("DOMContentLoaded", ()=>{
        genAllDfnPanels();

        // Add popup behavior to all dfns to show the corresponding dfn-panel.
        var dfns = queryAll('.dfn-paneled');
        for(let dfn of dfns) { ; }

        document.body.addEventListener("click", (e) => {
            // If not handled already, just hide all dfn panels.
            hideAllDfnPanels();
        });
    })


    function hideAllDfnPanels() {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>hideDfnPanel(el));
    }

    function showDfnPanel(dfnPanel, dfn) {
        hideAllDfnPanels(); // Only display one at this time.
        dfn.setAttribute("aria-expanded", "true");
        dfnPanel.classList.add("on");
        dfnPanel.style.left = "5px";
        dfnPanel.style.top = "0px";
        const panelRect = dfnPanel.getBoundingClientRect();
        const panelWidth = panelRect.right - panelRect.left;
        if (panelRect.right > document.body.scrollWidth) {
            // Panel's overflowing the screen.
            // Just drop it below the dfn and flip it rightward instead.
            // This still wont' fix things if the screen is *really* wide,
            // but fixing that's a lot harder without 'anchor()'.
            dfnPanel.style.top = "1.5em";
            dfnPanel.style.left = "auto";
            dfnPanel.style.right = "0px";
        }
    }

    function pinDfnPanel(dfnPanel) {
        // Switch it to "activated" state, which pins it.
        dfnPanel.classList.add("activated");
        dfnPanel.style.left = null;
        dfnPanel.style.top = null;
    }

    function hideDfnPanel(dfnPanel, dfn) {
        if(!dfn) {
            dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
        }
        dfn.setAttribute("aria-expanded", "false")
        dfnPanel.classList.remove("on");
        dfnPanel.classList.remove("activated");
    }

    function toggleDfnPanel(dfnPanel, dfn) {
        if(dfnPanel.classList.contains("on")) {
            hideDfnPanel(dfnPanel, dfn);
        } else {
            showDfnPanel(dfnPanel, dfn);
        }
    }

    function insertDfnPopupAction(dfn, dfnPanel) {
        // Find dfn panel
        const panelWrapper = document.createElement('span');
        panelWrapper.appendChild(dfnPanel);
        panelWrapper.style.position = "relative";
        panelWrapper.style.height = "0px";
        dfn.insertAdjacentElement("afterend", panelWrapper);
        dfn.setAttribute('role', 'button');
        dfn.setAttribute('aria-expanded', 'false')
        dfn.tabIndex = 0;
        dfn.classList.add('has-dfn-panel');
        dfn.addEventListener('click', (event) => {
            showDfnPanel(dfnPanel, dfn);
            event.stopPropagation();
        });
        dfn.addEventListener('keypress', (event) => {
            const kc = event.keyCode;
            // 32->Space, 13->Enter
            if(kc == 32 || kc == 13) {
                toggleDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        });

        dfnPanel.addEventListener('click', (event) => {
            if (event.target.nodeName == 'A') {
                pinDfnPanel(dfnPanel);
            }
            event.stopPropagation();
        });

        dfnPanel.addEventListener('keydown', (event) => {
            if(event.keyCode == 27) { // Escape key
                hideDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        })
    }
}
</script>
<script>/* Boilerplate: script-dfn-panel-json */
window.dfnpanelData = {};
window.dfnpanelData['ae6f41f1'] = {"dfnID": "ae6f41f1", "url": "https://www.ietf.org/rfc/rfc4122.txt#urn-uuid", "dfnText": "urn uuid", "refSections": [{"refs": [{"id": "ref-for-urn-uuid"}, {"id": "ref-for-urn-uuid\u2460"}, {"id": "ref-for-urn-uuid\u2461"}, {"id": "ref-for-urn-uuid\u2462"}, {"id": "ref-for-urn-uuid\u2463"}, {"id": "ref-for-urn-uuid\u2464"}, {"id": "ref-for-urn-uuid\u2465"}], "title": "2.2. Fenced frame config mapping"}, {"refs": [{"id": "ref-for-urn-uuid\u2466"}, {"id": "ref-for-urn-uuid\u2467"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-urn-uuid\u2468"}, {"id": "ref-for-urn-uuid\u2460\u24ea"}, {"id": "ref-for-urn-uuid\u2460\u2460"}, {"id": "ref-for-urn-uuid\u2460\u2461"}, {"id": "ref-for-urn-uuid\u2460\u2462"}, {"id": "ref-for-urn-uuid\u2460\u2463"}, {"id": "ref-for-urn-uuid\u2460\u2464"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-urn-uuid\u2460\u2465"}, {"id": "ref-for-urn-uuid\u2460\u2466"}], "title": "3.8.5. Actual navigation changes"}], "external": true};
window.dfnpanelData['83812ffe'] = {"dfnID": "83812ffe", "url": "https://wicg.github.io/attribution-reporting-api/#eligibility-event-source", "dfnText": "event-source", "refSections": [{"refs": [{"id": "ref-for-eligibility-event-source"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['dfae33ed'] = {"dfnID": "dfae33ed", "url": "https://wicg.github.io/attribution-reporting-api/#eligibility-navigation-source", "dfnText": "navigation-source", "refSections": [{"refs": [{"id": "ref-for-eligibility-navigation-source"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['355b22b6'] = {"dfnID": "355b22b6", "url": "https://wicg.github.io/attribution-reporting-api/#eligibility-unset", "dfnText": "unset", "refSections": [{"refs": [{"id": "ref-for-eligibility-unset"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['4e56ed22'] = {"dfnID": "4e56ed22", "url": "https://wicg.github.io/attribution-reporting-api/#request-attribution-reporting-eligibility", "dfnText": "attribution reporting eligibility", "refSections": [{"refs": [{"id": "ref-for-request-attribution-reporting-eligibility"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['4d702792'] = {"dfnID": "4d702792", "url": "https://wicg.github.io/attribution-reporting-api/#dom-permissionpolicy-attribution-reporting", "dfnText": "attribution-reporting", "refSections": [{"refs": [{"id": "ref-for-dom-permissionpolicy-attribution-reporting"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-dom-permissionpolicy-attribution-reporting\u2460"}], "title": "3.8.5. Actual navigation changes"}], "external": true};
window.dfnpanelData['42730a08'] = {"dfnID": "42730a08", "url": "https://wicg.github.io/attribution-reporting-api/#check-if-an-origin-is-suitable", "dfnText": "check if an origin is suitable", "refSections": [{"refs": [{"id": "ref-for-check-if-an-origin-is-suitable"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['f022ac0f'] = {"dfnID": "f022ac0f", "url": "https://wicg.github.io/attribution-reporting-api/#node-context-origin", "dfnText": "context origin", "refSections": [{"refs": [{"id": "ref-for-node-context-origin"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-node-context-origin\u2460"}], "title": "3.8.5. Actual navigation changes"}], "external": true};
window.dfnpanelData['1985de80'] = {"dfnID": "1985de80", "url": "https://wicg.github.io/attribution-reporting-api/#process-an-attribution-eligible-response", "dfnText": "process an attribution eligible response", "refSections": [{"refs": [{"id": "ref-for-process-an-attribution-eligible-response"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['233e6d44'] = {"dfnID": "233e6d44", "url": "https://w3c.github.io/webappsec-csp/#grammardef-self", "dfnText": "'self'", "refSections": [{"refs": [{"id": "ref-for-grammardef-self"}, {"id": "ref-for-grammardef-self\u2460"}, {"id": "ref-for-grammardef-self\u2461"}, {"id": "ref-for-grammardef-self\u2462"}, {"id": "ref-for-grammardef-self\u2463"}], "title": "4.2.2. New fenced-frame-src [CSP] directive"}], "external": true};
window.dfnpanelData['6e4a4b23'] = {"dfnID": "6e4a4b23", "url": "https://w3c.github.io/webappsec-csp/#connect-src", "dfnText": "connect-src", "refSections": [{"refs": [{"id": "ref-for-connect-src"}, {"id": "ref-for-connect-src\u2460"}], "title": "4.2.2. New fenced-frame-src [CSP] directive"}], "external": true};
window.dfnpanelData['b7c21a86'] = {"dfnID": "b7c21a86", "url": "https://w3c.github.io/webappsec-csp/#header-content-security-policy", "dfnText": "content-security-policy", "refSections": [{"refs": [{"id": "ref-for-header-content-security-policy"}, {"id": "ref-for-header-content-security-policy\u2460"}, {"id": "ref-for-header-content-security-policy\u2461"}], "title": "4.2.2. New fenced-frame-src [CSP] directive"}], "external": true};
window.dfnpanelData['2591d27a'] = {"dfnID": "2591d27a", "url": "https://w3c.github.io/webappsec-csp/#default-src", "dfnText": "default-src", "refSections": [{"refs": [{"id": "ref-for-default-src"}], "title": "4.2.2. New fenced-frame-src [CSP] directive"}], "external": true};
window.dfnpanelData['b43a01e9'] = {"dfnID": "b43a01e9", "url": "https://w3c.github.io/webappsec-csp/#directive-value", "dfnText": "directive value", "refSections": [{"refs": [{"id": "ref-for-directive-value"}, {"id": "ref-for-directive-value\u2460"}], "title": "4.2.1. Algorithms"}], "external": true};
window.dfnpanelData['c80aa797'] = {"dfnID": "c80aa797", "url": "https://w3c.github.io/webappsec-csp/#directives", "dfnText": "directives", "refSections": [{"refs": [{"id": "ref-for-directives"}, {"id": "ref-for-directives\u2460"}], "title": "4.2.2. New fenced-frame-src [CSP] directive"}], "external": true};
window.dfnpanelData['246aae4c'] = {"dfnID": "246aae4c", "url": "https://w3c.github.io/webappsec-csp/#frame-src", "dfnText": "frame-src", "refSections": [{"refs": [{"id": "ref-for-frame-src"}], "title": "4.2.2. New fenced-frame-src [CSP] directive"}], "external": true};
window.dfnpanelData['8d4c2bb9'] = {"dfnID": "8d4c2bb9", "url": "https://w3c.github.io/webappsec-csp/#frame-src-post-request", "dfnText": "frame-src post-request check", "refSections": [{"refs": [{"id": "ref-for-frame-src-post-request"}], "title": "4.2.1. Algorithms"}, {"refs": [{"id": "a6116a630"}], "title": "4.2.2. New fenced-frame-src [CSP] directive"}], "external": true};
window.dfnpanelData['aec77e5c'] = {"dfnID": "aec77e5c", "url": "https://w3c.github.io/webappsec-csp/#frame-src-pre-request", "dfnText": "frame-src pre-request check", "refSections": [{"refs": [{"id": "ref-for-frame-src-pre-request"}], "title": "4.2.1. Algorithms"}, {"refs": [{"id": "e8859a960"}], "title": "4.2.2. New fenced-frame-src [CSP] directive"}], "external": true};
window.dfnpanelData['0cc094e4'] = {"dfnID": "0cc094e4", "url": "https://w3c.github.io/webappsec-csp/#effective-directive-for-a-request", "dfnText": "get the effective directive for request", "refSections": [{"refs": [{"id": "ref-for-effective-directive-for-a-request"}], "title": "4.2.2. New fenced-frame-src [CSP] directive"}], "external": true};
window.dfnpanelData['0950067d'] = {"dfnID": "0950067d", "url": "https://w3c.github.io/webappsec-csp/#grammardef-host-source", "dfnText": "host-source", "refSections": [{"refs": [{"id": "ref-for-grammardef-host-source"}], "title": "4.2. Content Security Policy"}], "external": true};
window.dfnpanelData['d4ec2d19'] = {"dfnID": "d4ec2d19", "url": "https://w3c.github.io/webappsec-csp/#grammardef-scheme-source", "dfnText": "scheme-source", "refSections": [{"refs": [{"id": "ref-for-grammardef-scheme-source"}], "title": "4.2. Content Security Policy"}], "external": true};
window.dfnpanelData['8f1a9afe'] = {"dfnID": "8f1a9afe", "url": "https://w3c.github.io/webappsec-csp/#grammardef-serialized-source-list", "dfnText": "serialized-source-list", "refSections": [{"refs": [{"id": "ref-for-grammardef-serialized-source-list"}], "title": "4.2.2. New fenced-frame-src [CSP] directive"}], "external": true};
window.dfnpanelData['b36452d7'] = {"dfnID": "b36452d7", "url": "https://w3c.github.io/webappsec-csp/#source-expression", "dfnText": "source expression", "refSections": [{"refs": [{"id": "ref-for-source-expression"}], "title": "4.2. Content Security Policy"}], "external": true};
window.dfnpanelData['75aafb4f'] = {"dfnID": "75aafb4f", "url": "https://w3c.github.io/webappsec-csp/#source-lists", "dfnText": "source lists", "refSections": [{"refs": [{"id": "ref-for-source-lists"}], "title": "4.2.2. New fenced-frame-src [CSP] directive"}], "external": true};
window.dfnpanelData['3f168208'] = {"dfnID": "3f168208", "url": "https://w3c.github.io/webappsec-csp/#worker-src", "dfnText": "worker-src", "refSections": [{"refs": [{"id": "ref-for-worker-src"}, {"id": "ref-for-worker-src\u2460"}], "title": "4.2.2. New fenced-frame-src [CSP] directive"}], "external": true};
window.dfnpanelData['b9acc23e'] = {"dfnID": "b9acc23e", "url": "https://w3c.github.io/webappsec-cspee/#process-response", "dfnText": "is response to request blocked by context's required csp?", "refSections": [{"refs": [{"id": "ref-for-process-response\u2460"}], "title": "4.2.1. Algorithms"}], "external": true};
window.dfnpanelData['6265964a'] = {"dfnID": "6265964a", "url": "https://w3c.github.io/webappsec-cspee/#browsing-context-required-csp", "dfnText": "required csp", "refSections": [{"refs": [{"id": "ref-for-browsing-context-required-csp"}, {"id": "ref-for-browsing-context-required-csp\u2460"}], "title": "4.2.1. Algorithms"}], "external": true};
window.dfnpanelData['aaa743a2'] = {"dfnID": "aaa743a2", "url": "https://www.w3.org/TR/CSS21/visuren.html#viewport", "dfnText": "viewport", "refSections": [{"refs": [{"id": "ref-for-viewport"}, {"id": "ref-for-viewport\u2460"}], "title": "4.4. CSSOM View"}], "external": true};
window.dfnpanelData['5d5f4fe6'] = {"dfnID": "5d5f4fe6", "url": "https://www.w3.org/TR/CSS22/visufx.html#propdef-visibility", "dfnText": "visibility", "refSections": [{"refs": [{"id": "ref-for-propdef-visibility"}], "title": "2.3.1. Introduction"}], "external": true};
window.dfnpanelData['2cbb079e'] = {"dfnID": "2cbb079e", "url": "https://drafts.csswg.org/cssom-view-1/#scroll-a-target-into-view", "dfnText": "scroll a target into view", "refSections": [{"refs": [{"id": "ref-for-scroll-a-target-into-view"}, {"id": "ref-for-scroll-a-target-into-view\u2460"}, {"id": "ref-for-scroll-a-target-into-view\u2461"}], "title": "4.4. CSSOM View"}], "external": true};
window.dfnpanelData['82b885c9'] = {"dfnID": "82b885c9", "url": "https://drafts.csswg.org/cssom-view-1/#dom-element-scrollintoview", "dfnText": "scrollIntoView()", "refSections": [{"refs": [{"id": "ref-for-dom-element-scrollintoview"}, {"id": "ref-for-dom-element-scrollintoview\u2460"}], "title": "4.4. CSSOM View"}], "external": true};
window.dfnpanelData['141bbada'] = {"dfnID": "141bbada", "url": "https://dom.spec.whatwg.org/#domtokenlist", "dfnText": "DOMTokenList", "refSections": [{"refs": [{"id": "ref-for-domtokenlist"}, {"id": "ref-for-domtokenlist\u2460"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['85394472'] = {"dfnID": "85394472", "url": "https://dom.spec.whatwg.org/#document", "dfnText": "Document", "refSections": [{"refs": [{"id": "ref-for-document"}, {"id": "ref-for-document\u2460"}, {"id": "ref-for-document\u2461"}], "title": "1. Introduction"}, {"refs": [{"id": "ref-for-document\u2462"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-document\u2463"}, {"id": "ref-for-document\u2464"}], "title": "2.3.2. Use cases"}, {"refs": [{"id": "ref-for-document\u2465"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-document\u2466"}, {"id": "ref-for-document\u2467"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-document\u2468"}, {"id": "ref-for-document\u2460\u24ea"}, {"id": "ref-for-document\u2460\u2460"}], "title": "3.2. Document supporting concepts"}, {"refs": [{"id": "ref-for-document\u2460\u2461"}, {"id": "ref-for-document\u2460\u2462"}, {"id": "ref-for-document\u2460\u2463"}], "title": "3.4. Policy container inheritance"}, {"refs": [{"id": "ref-for-document\u2460\u2464"}, {"id": "ref-for-document\u2460\u2465"}, {"id": "ref-for-document\u2460\u2466"}], "title": "3.5.1. Introduction"}, {"refs": [{"id": "ref-for-document\u2460\u2467"}, {"id": "ref-for-document\u2460\u2468"}, {"id": "ref-for-document\u2461\u24ea"}], "title": "3.7. Modifications to the focusing algorithms"}, {"refs": [{"id": "ref-for-document\u2461\u2460"}], "title": "3.8.1. The `Supports-Loading-Mode` HTTP response header"}, {"refs": [{"id": "ref-for-document\u2461\u2461"}, {"id": "ref-for-document\u2461\u2462"}], "title": "3.8.2. The\n`Allow-Fenced-Frame-Automatic-Beacons` HTTP response header"}, {"refs": [{"id": "ref-for-document\u2461\u2463"}], "title": "3.8.3. The\n`Allow-Cross-Origin-Event-Reporting` HTTP response header"}, {"refs": [{"id": "ref-for-document\u2461\u2464"}, {"id": "ref-for-document\u2461\u2465"}, {"id": "ref-for-document\u2461\u2466"}, {"id": "ref-for-document\u2461\u2467"}, {"id": "ref-for-document\u2461\u2468"}, {"id": "ref-for-document\u2462\u24ea"}, {"id": "ref-for-document\u2462\u2460"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-document\u2462\u2461"}], "title": "3.8.6. Browsing context group swap"}, {"refs": [{"id": "ref-for-document\u2462\u2462"}], "title": "4.2. Content Security Policy"}, {"refs": [{"id": "ref-for-document\u2462\u2463"}, {"id": "ref-for-document\u2462\u2464"}, {"id": "ref-for-document\u2462\u2465"}, {"id": "ref-for-document\u2462\u2466"}, {"id": "ref-for-document\u2462\u2467"}, {"id": "ref-for-document\u2462\u2468"}, {"id": "ref-for-document\u2463\u24ea"}, {"id": "ref-for-document\u2463\u2460"}, {"id": "ref-for-document\u2463\u2461"}], "title": "4.3. Permissions Policies"}, {"refs": [{"id": "ref-for-document\u2463\u2462"}, {"id": "ref-for-document\u2463\u2463"}, {"id": "ref-for-document\u2463\u2464"}, {"id": "ref-for-document\u2463\u2465"}, {"id": "ref-for-document\u2463\u2466"}], "title": "4.3.1. Algorithm patches"}, {"refs": [{"id": "ref-for-document\u2463\u2467"}, {"id": "ref-for-document\u2463\u2468"}], "title": "4.4. CSSOM View"}], "external": true};
window.dfnpanelData['296f3551'] = {"dfnID": "296f3551", "url": "https://dom.spec.whatwg.org/#element", "dfnText": "Element", "refSections": [{"refs": [{"id": "ref-for-element"}, {"id": "ref-for-element\u2460"}], "title": "4.4. CSSOM View"}], "external": true};
window.dfnpanelData['80159636'] = {"dfnID": "80159636", "url": "https://dom.spec.whatwg.org/#concept-tree-ancestor", "dfnText": "ancestor", "refSections": [{"refs": [{"id": "ref-for-concept-tree-ancestor"}], "title": "4.4. CSSOM View"}], "external": true};
window.dfnpanelData['543878fa'] = {"dfnID": "543878fa", "url": "https://dom.spec.whatwg.org/#concept-node-append", "dfnText": "append", "refSections": [{"refs": [{"id": "ref-for-concept-node-append"}], "title": "3.5.3. Nested traversables"}], "external": true};
window.dfnpanelData['d1a6c008'] = {"dfnID": "d1a6c008", "url": "https://dom.spec.whatwg.org/#concept-element-attributes-change-ext", "dfnText": "attribute change steps", "refSections": [{"refs": [{"id": "ref-for-concept-element-attributes-change-ext"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['9638f92b'] = {"dfnID": "9638f92b", "url": "https://dom.spec.whatwg.org/#connected", "dfnText": "connected", "refSections": [{"refs": [{"id": "ref-for-connected"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['27d9b7ea'] = {"dfnID": "27d9b7ea", "url": "https://dom.spec.whatwg.org/#concept-element", "dfnText": "element", "refSections": [{"refs": [{"id": "ref-for-concept-element"}, {"id": "ref-for-concept-element\u2460"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['5216e1a0'] = {"dfnID": "5216e1a0", "url": "https://dom.spec.whatwg.org/#concept-node-document", "dfnText": "node document", "refSections": [{"refs": [{"id": "ref-for-concept-node-document"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-concept-node-document\u2460"}], "title": "3.5.3. Nested traversables"}, {"refs": [{"id": "ref-for-concept-node-document\u2461"}, {"id": "ref-for-concept-node-document\u2462"}], "title": "3.7. Modifications to the focusing algorithms"}, {"refs": [{"id": "ref-for-concept-node-document\u2463"}, {"id": "ref-for-concept-node-document\u2464"}, {"id": "ref-for-concept-node-document\u2465"}, {"id": "ref-for-concept-node-document\u2466"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['c62cd7cf'] = {"dfnID": "c62cd7cf", "url": "https://dom.spec.whatwg.org/#concept-document-origin", "dfnText": "origin", "refSections": [{"refs": [{"id": "ref-for-concept-document-origin"}], "title": "3.3. Modifications to creating browsing contexts"}, {"refs": [{"id": "ref-for-concept-document-origin\u2460"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}, {"refs": [{"id": "ref-for-concept-document-origin\u2461"}], "title": "4.3. Permissions Policies"}], "external": true};
window.dfnpanelData['fd32e3c9'] = {"dfnID": "fd32e3c9", "url": "https://dom.spec.whatwg.org/#concept-shadow-including-descendant", "dfnText": "shadow-including descendant", "refSections": [{"refs": [{"id": "ref-for-concept-shadow-including-descendant"}], "title": "3.6. Modifications to navigable-traversing algorithms"}], "external": true};
window.dfnpanelData['fefa5851'] = {"dfnID": "fefa5851", "url": "https://dom.spec.whatwg.org/#concept-shadow-including-tree-order", "dfnText": "shadow-including tree order", "refSections": [{"refs": [{"id": "ref-for-concept-shadow-including-tree-order"}], "title": "3.6. Modifications to navigable-traversing algorithms"}], "external": true};
window.dfnpanelData['ff74a37a'] = {"dfnID": "ff74a37a", "url": "https://dom.spec.whatwg.org/#dom-domtokenlist-value", "dfnText": "value", "refSections": [{"refs": [{"id": "ref-for-dom-domtokenlist-value"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['b4c5b3f7'] = {"dfnID": "b4c5b3f7", "url": "https://fetch.spec.whatwg.org/#requestdestination", "dfnText": "RequestDestination", "refSections": [{"refs": [{"id": "ref-for-requestdestination"}], "title": "2.5. New request destination"}], "external": true};
window.dfnpanelData['644cb530'] = {"dfnID": "644cb530", "url": "https://fetch.spec.whatwg.org/#concept-body", "dfnText": "body", "refSections": [{"refs": [{"id": "ref-for-concept-body"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['8e9945a0'] = {"dfnID": "8e9945a0", "url": "https://fetch.spec.whatwg.org/#concept-request-body", "dfnText": "body (for request)", "refSections": [{"refs": [{"id": "ref-for-concept-request-body"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['857d5516'] = {"dfnID": "857d5516", "url": "https://fetch.spec.whatwg.org/#concept-request-client", "dfnText": "client", "refSections": [{"refs": [{"id": "ref-for-concept-request-client"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['902380f7'] = {"dfnID": "902380f7", "url": "https://fetch.spec.whatwg.org/#concept-request-credentials-mode", "dfnText": "credentials mode", "refSections": [{"refs": [{"id": "ref-for-concept-request-credentials-mode"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['2aaa937f'] = {"dfnID": "2aaa937f", "url": "https://fetch.spec.whatwg.org/#cross-origin-resource-policy-check", "dfnText": "cross-origin resource policy check", "refSections": [{"refs": [{"id": "ref-for-cross-origin-resource-policy-check"}, {"id": "ref-for-cross-origin-resource-policy-check\u2460"}, {"id": "ref-for-cross-origin-resource-policy-check\u2461"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}], "external": true};
window.dfnpanelData['3ae34c95'] = {"dfnID": "3ae34c95", "url": "https://fetch.spec.whatwg.org/#concept-request-destination", "dfnText": "destination", "refSections": [{"refs": [{"id": "ref-for-concept-request-destination"}, {"id": "ref-for-concept-request-destination\u2460"}, {"id": "ref-for-concept-request-destination\u2461"}, {"id": "ref-for-concept-request-destination\u2462"}, {"id": "ref-for-concept-request-destination\u2463"}], "title": "2.5. New request destination"}, {"refs": [{"id": "ref-for-concept-request-destination\u2464"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}, {"refs": [{"id": "ref-for-concept-request-destination\u2465"}, {"id": "ref-for-concept-request-destination\u2466"}, {"id": "ref-for-concept-request-destination\u2467"}], "title": "4.2.1. Algorithms"}], "external": true};
window.dfnpanelData['a33db89a'] = {"dfnID": "a33db89a", "url": "https://fetch.spec.whatwg.org/#concept-fetch", "dfnText": "fetch", "refSections": [{"refs": [{"id": "ref-for-concept-fetch"}, {"id": "ref-for-concept-fetch\u2460"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-concept-fetch\u2461"}], "title": "2.5. New request destination"}], "external": true};
window.dfnpanelData['5c66de35'] = {"dfnID": "5c66de35", "url": "https://fetch.spec.whatwg.org/#concept-header-list-get-structured-header", "dfnText": "get a structured field value", "refSections": [{"refs": [{"id": "ref-for-concept-header-list-get-structured-header"}, {"id": "ref-for-concept-header-list-get-structured-header\u2460"}], "title": "3.8.5. Actual navigation changes"}], "external": true};
window.dfnpanelData['c9e7c11a'] = {"dfnID": "c9e7c11a", "url": "https://fetch.spec.whatwg.org/#concept-header", "dfnText": "header", "refSections": [{"refs": [{"id": "ref-for-concept-header"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['d85a6c84'] = {"dfnID": "d85a6c84", "url": "https://fetch.spec.whatwg.org/#concept-header-list", "dfnText": "header list", "refSections": [{"refs": [{"id": "ref-for-concept-header-list"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['6ee0eab1'] = {"dfnID": "6ee0eab1", "url": "https://fetch.spec.whatwg.org/#concept-request-header-list", "dfnText": "header list (for request)", "refSections": [{"refs": [{"id": "ref-for-concept-request-header-list"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['f7b00a8b'] = {"dfnID": "f7b00a8b", "url": "https://fetch.spec.whatwg.org/#concept-response-header-list", "dfnText": "header list (for response)", "refSections": [{"refs": [{"id": "ref-for-concept-response-header-list"}, {"id": "ref-for-concept-response-header-list\u2460"}], "title": "3.8.5. Actual navigation changes"}], "external": true};
window.dfnpanelData['fa4ea124'] = {"dfnID": "fa4ea124", "url": "https://fetch.spec.whatwg.org/#concept-request-initiator", "dfnText": "initiator", "refSections": [{"refs": [{"id": "ref-for-concept-request-initiator"}], "title": "2.5. New request destination"}], "external": true};
window.dfnpanelData['8f26de31'] = {"dfnID": "8f26de31", "url": "https://fetch.spec.whatwg.org/#is-local", "dfnText": "is local", "refSections": [{"refs": [{"id": "ref-for-is-local"}, {"id": "ref-for-is-local\u2460"}], "title": "3.4. Policy container inheritance"}], "external": true};
window.dfnpanelData['50b05fad'] = {"dfnID": "50b05fad", "url": "https://fetch.spec.whatwg.org/#concept-request-method", "dfnText": "method", "refSections": [{"refs": [{"id": "ref-for-concept-request-method"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['cb98f71f'] = {"dfnID": "cb98f71f", "url": "https://fetch.spec.whatwg.org/#concept-request-mode", "dfnText": "mode", "refSections": [{"refs": [{"id": "ref-for-concept-request-mode"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['4b84a0bc'] = {"dfnID": "4b84a0bc", "url": "https://fetch.spec.whatwg.org/#concept-header-name", "dfnText": "name", "refSections": [{"refs": [{"id": "ref-for-concept-header-name"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['2889d1ec'] = {"dfnID": "2889d1ec", "url": "https://fetch.spec.whatwg.org/#navigation-request", "dfnText": "navigation request", "refSections": [{"refs": [{"id": "ref-for-navigation-request"}, {"id": "ref-for-navigation-request\u2460"}, {"id": "ref-for-navigation-request\u2461"}], "title": "2.5. New request destination"}, {"refs": [{"id": "ref-for-navigation-request\u2462"}, {"id": "ref-for-navigation-request\u2463"}], "title": "3.4. Policy container inheritance"}], "external": true};
window.dfnpanelData['eb1b1af3'] = {"dfnID": "eb1b1af3", "url": "https://fetch.spec.whatwg.org/#concept-network-error", "dfnText": "network error", "refSections": [{"refs": [{"id": "ref-for-concept-network-error"}, {"id": "ref-for-concept-network-error\u2460"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}, {"refs": [{"id": "ref-for-concept-network-error\u2461"}], "title": "4.2.2. New fenced-frame-src [CSP] directive"}], "external": true};
window.dfnpanelData['5a391458'] = {"dfnID": "5a391458", "url": "https://fetch.spec.whatwg.org/#non-subresource-request", "dfnText": "non-subresource request", "refSections": [{"refs": [{"id": "ref-for-non-subresource-request"}], "title": "2.5. New request destination"}], "external": true};
window.dfnpanelData['f78d5b5c'] = {"dfnID": "f78d5b5c", "url": "https://fetch.spec.whatwg.org/#concept-request-origin", "dfnText": "origin", "refSections": [{"refs": [{"id": "ref-for-concept-request-origin"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['bd2fe71e'] = {"dfnID": "bd2fe71e", "url": "https://fetch.spec.whatwg.org/#process-response", "dfnText": "processresponse", "refSections": [{"refs": [{"id": "ref-for-process-response"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['8cb360fb'] = {"dfnID": "8cb360fb", "url": "https://fetch.spec.whatwg.org/#queue-a-cross-origin-embedder-policy-corp-violation-report", "dfnText": "queue a cross-origin embedder policy corp violation report", "refSections": [{"refs": [{"id": "ref-for-queue-a-cross-origin-embedder-policy-corp-violation-report"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}], "external": true};
window.dfnpanelData['358f1dbd'] = {"dfnID": "358f1dbd", "url": "https://fetch.spec.whatwg.org/#concept-request-referrer", "dfnText": "referrer", "refSections": [{"refs": [{"id": "ref-for-concept-request-referrer"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['55213b5b'] = {"dfnID": "55213b5b", "url": "https://fetch.spec.whatwg.org/#concept-request", "dfnText": "request", "refSections": [{"refs": [{"id": "ref-for-concept-request"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-concept-request\u2460"}, {"id": "ref-for-concept-request\u2461"}, {"id": "ref-for-concept-request\u2462"}], "title": "2.5. New request destination"}], "external": true};
window.dfnpanelData['ee7bba09'] = {"dfnID": "ee7bba09", "url": "https://fetch.spec.whatwg.org/#concept-response", "dfnText": "response", "refSections": [{"refs": [{"id": "ref-for-concept-response"}, {"id": "ref-for-concept-response\u2460"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-concept-response\u2461"}], "title": "4.3. Permissions Policies"}, {"refs": [{"id": "ref-for-concept-response\u2462"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['6d1db60d'] = {"dfnID": "6d1db60d", "url": "https://fetch.spec.whatwg.org/#request-service-workers-mode", "dfnText": "service-workers mode", "refSections": [{"refs": [{"id": "ref-for-request-service-workers-mode"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['449b55f1'] = {"dfnID": "449b55f1", "url": "https://fetch.spec.whatwg.org/#concept-body-source", "dfnText": "source", "refSections": [{"refs": [{"id": "ref-for-concept-body-source"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['dc1cd39b'] = {"dfnID": "dc1cd39b", "url": "https://fetch.spec.whatwg.org/#concept-request-url", "dfnText": "url (for request)", "refSections": [{"refs": [{"id": "ref-for-concept-request-url"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['3268a8eb'] = {"dfnID": "3268a8eb", "url": "https://fetch.spec.whatwg.org/#concept-response-url", "dfnText": "url (for response)", "refSections": [{"refs": [{"id": "ref-for-concept-response-url"}], "title": "3.4. Policy container inheritance"}, {"refs": [{"id": "ref-for-concept-response-url\u2460"}], "title": "3.8.1. The `Supports-Loading-Mode` HTTP response header"}], "external": true};
window.dfnpanelData['2c8ec3a8'] = {"dfnID": "2c8ec3a8", "url": "https://fetch.spec.whatwg.org/#fetch-useparallelqueue", "dfnText": "useparallelqueue", "refSections": [{"refs": [{"id": "ref-for-fetch-useparallelqueue"}, {"id": "ref-for-fetch-useparallelqueue\u2460"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['8a608b90'] = {"dfnID": "8a608b90", "url": "https://fetch.spec.whatwg.org/#concept-header-value", "dfnText": "value", "refSections": [{"refs": [{"id": "ref-for-concept-header-value"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['402ed79d'] = {"dfnID": "402ed79d", "url": "https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions", "dfnText": "CEReactions", "refSections": [{"refs": [{"id": "ref-for-cereactions"}, {"id": "ref-for-cereactions\u2460"}, {"id": "ref-for-cereactions\u2461"}, {"id": "ref-for-cereactions\u2462"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['973aaf8e'] = {"dfnID": "973aaf8e", "url": "https://html.spec.whatwg.org/multipage/dom.html#htmlconstructor", "dfnText": "HTMLConstructor", "refSections": [{"refs": [{"id": "ref-for-htmlconstructor"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['b08d0bb2'] = {"dfnID": "b08d0bb2", "url": "https://html.spec.whatwg.org/multipage/dom.html#htmlelement", "dfnText": "HTMLElement", "refSections": [{"refs": [{"id": "ref-for-htmlelement"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['a2411b6a'] = {"dfnID": "a2411b6a", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#history-3", "dfnText": "History", "refSections": [{"refs": [{"id": "ref-for-history-3"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['be0c27b2'] = {"dfnID": "be0c27b2", "url": "https://html.spec.whatwg.org/multipage/system-state.html#navigator", "dfnText": "Navigator", "refSections": [{"refs": [{"id": "ref-for-navigator"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": true};
window.dfnpanelData['eb5c4be3'] = {"dfnID": "eb5c4be3", "url": "https://html.spec.whatwg.org/multipage/structured-data.html#serializable", "dfnText": "Serializable", "refSections": [{"refs": [{"id": "ref-for-serializable"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": true};
window.dfnpanelData['5d7209e9'] = {"dfnID": "5d7209e9", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window", "dfnText": "Window", "refSections": [{"refs": [{"id": "ref-for-window"}, {"id": "ref-for-window\u2460"}, {"id": "ref-for-window\u2461"}, {"id": "ref-for-window\u2462"}], "title": "3.1. Extensions to the Window interface"}, {"refs": [{"id": "ref-for-window\u2463"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['6973517b'] = {"dfnID": "6973517b", "url": "https://html.spec.whatwg.org/multipage/urls-and-fetching.html#about:srcdoc", "dfnText": "about:srcdoc", "refSections": [{"refs": [{"id": "ref-for-about:srcdoc"}, {"id": "ref-for-about:srcdoc\u2460"}], "title": "3.4. Policy container inheritance"}], "external": true};
window.dfnpanelData['5fd912e7'] = {"dfnID": "5fd912e7", "url": "https://html.spec.whatwg.org/multipage/dom.html#concept-element-accessibility-considerations", "dfnText": "accessibility considerations", "refSections": [{"refs": [{"id": "ref-for-concept-element-accessibility-considerations"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['6fa9162d'] = {"dfnID": "6fa9162d", "url": "https://html.spec.whatwg.org/multipage/interactive-elements.html#using-the-accesskey-attribute-to-define-a-command-on-other-elements", "dfnText": "accesskey attribute command", "refSections": [{"refs": [{"id": "ref-for-using-the-accesskey-attribute-to-define-a-command-on-other-elements"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['440fa929'] = {"dfnID": "440fa929", "url": "https://html.spec.whatwg.org/multipage/interaction.html#activation", "dfnText": "activation", "refSections": [{"refs": [{"id": "ref-for-activation"}, {"id": "ref-for-activation\u2460"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['36d15a6d'] = {"dfnID": "36d15a6d", "url": "https://html.spec.whatwg.org/multipage/interaction.html#activation-notification", "dfnText": "activation notification", "refSections": [{"refs": [{"id": "ref-for-activation-notification"}], "title": "3.5.1. Introduction"}], "external": true};
window.dfnpanelData['55a6b830'] = {"dfnID": "55a6b830", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-bc", "dfnText": "active browsing context", "refSections": [{"refs": [{"id": "ref-for-nav-bc"}, {"id": "ref-for-nav-bc\u2460"}, {"id": "ref-for-nav-bc\u2461"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-nav-bc\u2462"}, {"id": "ref-for-nav-bc\u2463"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['35972864'] = {"dfnID": "35972864", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-document", "dfnText": "active document", "refSections": [{"refs": [{"id": "ref-for-nav-document"}], "title": "3.4. Policy container inheritance"}, {"refs": [{"id": "ref-for-nav-document\u2460"}], "title": "3.5.2. Traversable navigables"}, {"refs": [{"id": "ref-for-nav-document\u2461"}], "title": "3.6. Modifications to navigable-traversing algorithms"}, {"refs": [{"id": "ref-for-nav-document\u2462"}, {"id": "ref-for-nav-document\u2463"}, {"id": "ref-for-nav-document\u2464"}, {"id": "ref-for-nav-document\u2465"}], "title": "3.7. Modifications to the focusing algorithms"}, {"refs": [{"id": "ref-for-nav-document\u2466"}, {"id": "ref-for-nav-document\u2467"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-nav-document\u2468"}], "title": "3.8.6. Browsing context group swap"}], "external": true};
window.dfnpanelData['27e10eaf'] = {"dfnID": "27e10eaf", "url": "https://html.spec.whatwg.org/multipage/browsers.html#active-sandboxing-flag-set", "dfnText": "active sandboxing flag set", "refSections": [{"refs": [{"id": "ref-for-active-sandboxing-flag-set"}], "title": "3.5.1. Introduction"}], "external": true};
window.dfnpanelData['b565078e'] = {"dfnID": "b565078e", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-active-history-entry", "dfnText": "active session history entry", "refSections": [{"refs": [{"id": "ref-for-nav-active-history-entry"}], "title": "3.5.3. Nested traversables"}], "external": true};
window.dfnpanelData['57435598'] = {"dfnID": "57435598", "url": "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-allow", "dfnText": "allow", "refSections": [{"refs": [{"id": "ref-for-attr-iframe-allow"}, {"id": "ref-for-attr-iframe-allow\u2460"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['318dcf9d'] = {"dfnID": "318dcf9d", "url": "https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-downloads", "dfnText": "allow-downloads", "refSections": [{"refs": [{"id": "ref-for-attr-iframe-sandbox-allow-downloads"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['f4b750fa'] = {"dfnID": "f4b750fa", "url": "https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-forms", "dfnText": "allow-forms", "refSections": [{"refs": [{"id": "ref-for-attr-iframe-sandbox-allow-forms"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['ef9e6349'] = {"dfnID": "ef9e6349", "url": "https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-modals", "dfnText": "allow-modals", "refSections": [{"refs": [{"id": "ref-for-attr-iframe-sandbox-allow-modals"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['555d820b'] = {"dfnID": "555d820b", "url": "https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-orientation-lock", "dfnText": "allow-orientation-lock", "refSections": [{"refs": [{"id": "ref-for-attr-iframe-sandbox-allow-orientation-lock"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['5e9eb462'] = {"dfnID": "5e9eb462", "url": "https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-pointer-lock", "dfnText": "allow-pointer-lock", "refSections": [{"refs": [{"id": "ref-for-attr-iframe-sandbox-allow-pointer-lock"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['cae8789b'] = {"dfnID": "cae8789b", "url": "https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-popups", "dfnText": "allow-popups", "refSections": [{"refs": [{"id": "ref-for-attr-iframe-sandbox-allow-popups"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['3c922136'] = {"dfnID": "3c922136", "url": "https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-popups-to-escape-sandbox", "dfnText": "allow-popups-to-escape-sandbox", "refSections": [{"refs": [{"id": "ref-for-attr-iframe-sandbox-allow-popups-to-escape-sandbox"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['b0365fad'] = {"dfnID": "b0365fad", "url": "https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-presentation", "dfnText": "allow-presentation", "refSections": [{"refs": [{"id": "ref-for-attr-iframe-sandbox-allow-presentation"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['f29d5587'] = {"dfnID": "f29d5587", "url": "https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-same-origin", "dfnText": "allow-same-origin", "refSections": [{"refs": [{"id": "ref-for-attr-iframe-sandbox-allow-same-origin"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['ea3171db'] = {"dfnID": "ea3171db", "url": "https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-scripts", "dfnText": "allow-scripts", "refSections": [{"refs": [{"id": "ref-for-attr-iframe-sandbox-allow-scripts"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['26afb25c'] = {"dfnID": "26afb25c", "url": "https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-top-navigation", "dfnText": "allow-top-navigation", "refSections": [{"refs": [{"id": "ref-for-attr-iframe-sandbox-allow-top-navigation"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['23bb4c34'] = {"dfnID": "23bb4c34", "url": "https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-top-navigation-by-user-activation", "dfnText": "allow-top-navigation-by-user-activation", "refSections": [{"refs": [{"id": "ref-for-attr-iframe-sandbox-allow-top-navigation-by-user-activation"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['7ad34c7a'] = {"dfnID": "7ad34c7a", "url": "https://html.spec.whatwg.org/multipage/browsers.html#attr-iframe-sandbox-allow-top-navigation-to-custom-protocols", "dfnText": "allow-top-navigation-to-custom-protocols", "refSections": [{"refs": [{"id": "ref-for-attr-iframe-sandbox-allow-top-navigation-to-custom-protocols"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['3610bd67'] = {"dfnID": "3610bd67", "url": "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#allowed-to-use", "dfnText": "allowed to use", "refSections": [{"refs": [{"id": "ref-for-allowed-to-use"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-allowed-to-use\u2460"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-allowed-to-use\u2461"}, {"id": "ref-for-allowed-to-use\u2462"}, {"id": "ref-for-allowed-to-use\u2463"}], "title": "4.3. Permissions Policies"}], "external": true};
window.dfnpanelData['ece2ee9d'] = {"dfnID": "ece2ee9d", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#ancestor-navigables", "dfnText": "ancestor navigables", "refSections": [{"refs": [{"id": "ref-for-ancestor-navigables"}], "title": "3.5.1. Introduction"}], "external": true};
window.dfnpanelData['3349d69f'] = {"dfnID": "3349d69f", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#concept-document-window", "dfnText": "associated document", "refSections": [{"refs": [{"id": "ref-for-concept-document-window"}, {"id": "ref-for-concept-document-window\u2460"}], "title": "2.4. The Fence interface"}], "external": true};
window.dfnpanelData['1565d481'] = {"dfnID": "1565d481", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#attempt-to-populate-the-history-entry's-document", "dfnText": "attempt to populate the history entry's document", "refSections": [{"refs": [{"id": "ref-for-attempt-to-populate-the-history-entry's-document"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-attempt-to-populate-the-history-entry's-document\u2460"}], "title": "3.8.1. The `Supports-Loading-Mode` HTTP response header"}, {"refs": [{"id": "ref-for-attempt-to-populate-the-history-entry's-document\u2461"}], "title": "3.8.6. Browsing context group swap"}, {"refs": [{"id": "ref-for-attempt-to-populate-the-history-entry's-document\u2462"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['0d0390b4'] = {"dfnID": "0d0390b4", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context", "dfnText": "browsing context", "refSections": [{"refs": [{"id": "ref-for-browsing-context"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-browsing-context\u2460"}, {"id": "ref-for-browsing-context\u2461"}, {"id": "ref-for-browsing-context\u2462"}, {"id": "ref-for-browsing-context\u2463"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-browsing-context\u2464"}], "title": "4.3. Permissions Policies"}], "external": true};
window.dfnpanelData['3b2ff63e'] = {"dfnID": "3b2ff63e", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#concept-document-bc", "dfnText": "browsing context (for Document)", "refSections": [{"refs": [{"id": "ref-for-concept-document-bc"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-concept-document-bc\u2460"}], "title": "3.3. Modifications to creating browsing contexts"}, {"refs": [{"id": "ref-for-concept-document-bc\u2461"}], "title": "3.8.2. The\n`Allow-Fenced-Frame-Automatic-Beacons` HTTP response header"}], "external": true};
window.dfnpanelData['6d88ab2e'] = {"dfnID": "6d88ab2e", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-bc", "dfnText": "browsing context (for Window)", "refSections": [{"refs": [{"id": "ref-for-window-bc"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-window-bc\u2460"}, {"id": "ref-for-window-bc\u2461"}, {"id": "ref-for-window-bc\u2462"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-window-bc\u2463"}], "title": "3.1. Extensions to the Window interface"}], "external": true};
window.dfnpanelData['59c8a576'] = {"dfnID": "59c8a576", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context-group", "dfnText": "browsing context group", "refSections": [{"refs": [{"id": "ref-for-browsing-context-group"}], "title": "2.3.1. Introduction"}, {"refs": [{"id": "ref-for-browsing-context-group\u2460"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-browsing-context-group\u2461"}, {"id": "ref-for-browsing-context-group\u2462"}, {"id": "ref-for-browsing-context-group\u2463"}], "title": "3.5.1. Introduction"}, {"refs": [{"id": "ref-for-browsing-context-group\u2464"}], "title": "3.5.3. Nested traversables"}, {"refs": [{"id": "ref-for-browsing-context-group\u2465"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}, {"refs": [{"id": "ref-for-browsing-context-group\u2466"}], "title": "3.8.6. Browsing context group swap"}, {"refs": [{"id": "ref-for-browsing-context-group\u2467"}], "title": "4. Interactions with other specifications"}], "external": true};
window.dfnpanelData['a45b756f'] = {"dfnID": "a45b756f", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#browsing-context-group-set", "dfnText": "browsing context group set", "refSections": [{"refs": [{"id": "ref-for-browsing-context-group-set"}], "title": "3.5.3. Nested traversables"}], "external": true};
window.dfnpanelData['bfff6250'] = {"dfnID": "bfff6250", "url": "https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element", "dfnText": "button", "refSections": [{"refs": [{"id": "ref-for-the-button-element"}, {"id": "ref-for-the-button-element\u2460"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['dfc4f7e7'] = {"dfnID": "dfc4f7e7", "url": "https://html.spec.whatwg.org/multipage/dom.html#concept-element-categories", "dfnText": "categories", "refSections": [{"refs": [{"id": "ref-for-concept-element-categories"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['525a00e8'] = {"dfnID": "525a00e8", "url": "https://html.spec.whatwg.org/multipage/browsers.html#check-a-navigation-response's-adherence-to-its-embedder-policy", "dfnText": "check a navigation response's adherence to its embedder policy", "refSections": [{"refs": [{"id": "ref-for-check-a-navigation-response's-adherence-to-its-embedder-policy"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}], "external": true};
window.dfnpanelData['6c784e57'] = {"dfnID": "6c784e57", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#checking-if-unloading-is-user-canceled", "dfnText": "checking if unloading is user-canceled", "refSections": [{"refs": [{"id": "ref-for-checking-if-unloading-is-user-canceled"}], "title": "3.8.5. Actual navigation changes"}], "external": true};
window.dfnpanelData['f23dc013'] = {"dfnID": "f23dc013", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#child-navigable", "dfnText": "child navigable", "refSections": [{"refs": [{"id": "ref-for-child-navigable"}, {"id": "ref-for-child-navigable\u2460"}, {"id": "ref-for-child-navigable\u2461"}, {"id": "ref-for-child-navigable\u2462"}], "title": "3.5.1. Introduction"}, {"refs": [{"id": "ref-for-child-navigable\u2463"}, {"id": "ref-for-child-navigable\u2464"}], "title": "3.5.2. Traversable navigables"}, {"refs": [{"id": "ref-for-child-navigable\u2465"}], "title": "3.7. Modifications to the focusing algorithms"}, {"refs": [{"id": "ref-for-child-navigable\u2466"}], "title": "3.8.3. The\n`Allow-Cross-Origin-Event-Reporting` HTTP response header"}, {"refs": [{"id": "ref-for-child-navigable\u2467"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}, {"refs": [{"id": "ref-for-child-navigable\u2468"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-child-navigable\u2460\u24ea"}], "title": "4.2. Content Security Policy"}, {"refs": [{"id": "ref-for-child-navigable\u2460\u2460"}], "title": "4.4. CSSOM View"}], "external": true};
window.dfnpanelData['19336a2d'] = {"dfnID": "19336a2d", "url": "https://html.spec.whatwg.org/multipage/interaction.html#click-focusable", "dfnText": "click focusable", "refSections": [{"refs": [{"id": "ref-for-click-focusable"}, {"id": "ref-for-click-focusable\u2460"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['00c57527'] = {"dfnID": "00c57527", "url": "https://html.spec.whatwg.org/multipage/browsers.html#clone-a-policy-container", "dfnText": "clone a policy container", "refSections": [{"refs": [{"id": "ref-for-clone-a-policy-container"}], "title": "3.4. Policy container inheritance"}], "external": true};
window.dfnpanelData['aca22383'] = {"dfnID": "aca22383", "url": "https://html.spec.whatwg.org/multipage/interaction.html#consume-user-activation", "dfnText": "consume user activation", "refSections": [{"refs": [{"id": "ref-for-consume-user-activation"}], "title": "3.5.1. Introduction"}], "external": true};
window.dfnpanelData['cc601639'] = {"dfnID": "cc601639", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-container-document", "dfnText": "container document", "refSections": [{"refs": [{"id": "ref-for-nav-container-document"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}], "external": true};
window.dfnpanelData['68675e70'] = {"dfnID": "68675e70", "url": "https://html.spec.whatwg.org/multipage/dom.html#concept-element-attributes", "dfnText": "content attributes", "refSections": [{"refs": [{"id": "ref-for-concept-element-attributes"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['88766833'] = {"dfnID": "88766833", "url": "https://html.spec.whatwg.org/multipage/dom.html#concept-element-content-model", "dfnText": "content model", "refSections": [{"refs": [{"id": "ref-for-concept-element-content-model"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['3ecc7220'] = {"dfnID": "3ecc7220", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#content-navigable", "dfnText": "content navigable", "refSections": [{"refs": [{"id": "ref-for-content-navigable"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-content-navigable\u2460"}], "title": "3.5.3. Nested traversables"}, {"refs": [{"id": "ref-for-content-navigable\u2461"}, {"id": "ref-for-content-navigable\u2462"}], "title": "3.6. Modifications to navigable-traversing algorithms"}, {"refs": [{"id": "ref-for-content-navigable\u2463"}, {"id": "ref-for-content-navigable\u2464"}, {"id": "ref-for-content-navigable\u2465"}, {"id": "ref-for-content-navigable\u2466"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['3c915747'] = {"dfnID": "3c915747", "url": "https://html.spec.whatwg.org/multipage/dom.html#concept-element-contexts", "dfnText": "contexts in which this element can be used", "refSections": [{"refs": [{"id": "ref-for-concept-element-contexts"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['254b22d8'] = {"dfnID": "254b22d8", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-coop-enforcement-result", "dfnText": "coop enforcement result", "refSections": [{"refs": [{"id": "ref-for-navigation-params-coop-enforcement-result"}], "title": "3.8.6. Browsing context group swap"}], "external": true};
window.dfnpanelData['4861a5f1'] = {"dfnID": "4861a5f1", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#creating-a-new-browsing-context", "dfnText": "create a new browsing context and document", "refSections": [{"refs": [{"id": "ref-for-creating-a-new-browsing-context"}], "title": "3.3. Modifications to creating browsing contexts"}, {"refs": [{"id": "ref-for-creating-a-new-browsing-context\u2460"}], "title": "3.5.3. Nested traversables"}], "external": true};
window.dfnpanelData['cf54ffeb'] = {"dfnID": "cf54ffeb", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#creating-a-new-browsing-context-group", "dfnText": "create a new browsing context group and document", "refSections": [{"refs": [{"id": "ref-for-creating-a-new-browsing-context-group"}], "title": "3.5.3. Nested traversables"}], "external": true};
window.dfnpanelData['e0e0e7bc'] = {"dfnID": "e0e0e7bc", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#initialise-the-document-object", "dfnText": "create and initialize a document object", "refSections": [{"refs": [{"id": "ref-for-initialise-the-document-object"}], "title": "3.8.5. Actual navigation changes"}], "external": true};
window.dfnpanelData['07ad3048'] = {"dfnID": "07ad3048", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#create-navigation-params-by-fetching", "dfnText": "create navigation params by fetching", "refSections": [{"refs": [{"id": "ref-for-create-navigation-params-by-fetching"}], "title": "3.4. Policy container inheritance"}, {"refs": [{"id": "ref-for-create-navigation-params-by-fetching\u2460"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}, {"refs": [{"id": "ref-for-create-navigation-params-by-fetching\u2461"}], "title": "3.8.5. Actual navigation changes"}], "external": true};
window.dfnpanelData['53eede33'] = {"dfnID": "53eede33", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#bcg-cross-origin-isolation", "dfnText": "cross-origin isolation mode", "refSections": [{"refs": [{"id": "ref-for-bcg-cross-origin-isolation"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}], "external": true};
window.dfnpanelData['f21d6b26'] = {"dfnID": "f21d6b26", "url": "https://html.spec.whatwg.org/multipage/browsers.html#cross-origin-embedder-policy", "dfnText": "cross-origin-embedder-policy", "refSections": [{"refs": [{"id": "ref-for-cross-origin-embedder-policy"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}], "external": true};
window.dfnpanelData['2e493c47'] = {"dfnID": "2e493c47", "url": "https://html.spec.whatwg.org/multipage/browsers.html#cross-origin-opener-policy-2", "dfnText": "cross-origin-opener-policy", "refSections": [{"refs": [{"id": "ref-for-cross-origin-opener-policy-2"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}], "external": true};
window.dfnpanelData['490c0dbc'] = {"dfnID": "490c0dbc", "url": "https://html.spec.whatwg.org/multipage/interaction.html#currently-focused-area-of-a-top-level-traversable", "dfnText": "currently focused area of a top-level traversable", "refSections": [{"refs": [{"id": "ref-for-currently-focused-area-of-a-top-level-traversable"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['82529e79'] = {"dfnID": "82529e79", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#descendant-navigables", "dfnText": "descendant navigables", "refSections": [{"refs": [{"id": "ref-for-descendant-navigables"}, {"id": "ref-for-descendant-navigables\u2460"}], "title": "3.5.1. Introduction"}, {"refs": [{"id": "ref-for-descendant-navigables\u2461"}, {"id": "ref-for-descendant-navigables\u2462"}], "title": "3.6. Modifications to navigable-traversing algorithms"}], "external": true};
window.dfnpanelData['888d7c65'] = {"dfnID": "888d7c65", "url": "https://html.spec.whatwg.org/multipage/structured-data.html#deserialization-steps", "dfnText": "deserialization steps", "refSections": [{"refs": [{"id": "ref-for-deserialization-steps"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": true};
window.dfnpanelData['d20bde85'] = {"dfnID": "d20bde85", "url": "https://html.spec.whatwg.org/multipage/browsers.html#determining-navigation-params-policy-container", "dfnText": "determine navigation params policy container", "refSections": [{"refs": [{"id": "ref-for-determining-navigation-params-policy-container"}, {"id": "ref-for-determining-navigation-params-policy-container\u2460"}], "title": "3.4. Policy container inheritance"}], "external": true};
window.dfnpanelData['124faaab'] = {"dfnID": "124faaab", "url": "https://html.spec.whatwg.org/multipage/browsers.html#determining-the-creation-sandboxing-flags", "dfnText": "determine the creation sandboxing flags", "refSections": [{"refs": [{"id": "ref-for-determining-the-creation-sandboxing-flags"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['5088ef15'] = {"dfnID": "5088ef15", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-document", "dfnText": "document", "refSections": [{"refs": [{"id": "ref-for-document-state-document"}], "title": "3.5.3. Nested traversables"}], "external": true};
window.dfnpanelData['0c259df4'] = {"dfnID": "0c259df4", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#document-base-url", "dfnText": "document base url", "refSections": [{"refs": [{"id": "ref-for-document-base-url"}], "title": "3.3. Modifications to creating browsing contexts"}], "external": true};
window.dfnpanelData['092de955'] = {"dfnID": "092de955", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-document-state", "dfnText": "document state", "refSections": [{"refs": [{"id": "ref-for-she-document-state"}, {"id": "ref-for-she-document-state\u2460"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-she-document-state\u2461"}], "title": "3.4. Policy container inheritance"}, {"refs": [{"id": "ref-for-she-document-state\u2462"}, {"id": "ref-for-she-document-state\u2463"}], "title": "3.5.3. Nested traversables"}], "external": true};
window.dfnpanelData['06834943'] = {"dfnID": "06834943", "url": "https://html.spec.whatwg.org/multipage/interaction.html#dom-anchor", "dfnText": "dom anchor", "refSections": [{"refs": [{"id": "ref-for-dom-anchor"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['317acf49'] = {"dfnID": "317acf49", "url": "https://html.spec.whatwg.org/multipage/dom.html#concept-element-dom", "dfnText": "dom interface", "refSections": [{"refs": [{"id": "ref-for-concept-element-dom"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['e10e7eb7'] = {"dfnID": "e10e7eb7", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#dom-manipulation-task-source", "dfnText": "dom manipulation task source", "refSections": [{"refs": [{"id": "ref-for-dom-manipulation-task-source"}, {"id": "ref-for-dom-manipulation-task-source\u2460"}, {"id": "ref-for-dom-manipulation-task-source\u2461"}, {"id": "ref-for-dom-manipulation-task-source\u2462"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": true};
window.dfnpanelData['38c8ba2c'] = {"dfnID": "38c8ba2c", "url": "https://html.spec.whatwg.org/multipage/dom.html#embedded-content-category", "dfnText": "embedded content", "refSections": [{"refs": [{"id": "ref-for-embedded-content-category"}, {"id": "ref-for-embedded-content-category\u2460"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['f149351d'] = {"dfnID": "f149351d", "url": "https://html.spec.whatwg.org/multipage/browsers.html#policy-container-embedder-policy", "dfnText": "embedder policy", "refSections": [{"refs": [{"id": "ref-for-policy-container-embedder-policy"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}], "external": true};
window.dfnpanelData['c6d19e56'] = {"dfnID": "c6d19e56", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#event-loop", "dfnText": "event loop", "refSections": [{"refs": [{"id": "ref-for-event-loop"}], "title": "3.8.5. Actual navigation changes"}], "external": true};
window.dfnpanelData['e4f0217f'] = {"dfnID": "e4f0217f", "url": "https://html.spec.whatwg.org/multipage/custom-elements.html#face-validation-anchor", "dfnText": "face validation anchor", "refSections": [{"refs": [{"id": "ref-for-face-validation-anchor"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['220e27a3'] = {"dfnID": "220e27a3", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params-client", "dfnText": "fetch client", "refSections": [{"refs": [{"id": "ref-for-source-snapshot-params-client"}], "title": "3.8.6. Browsing context group swap"}], "external": true};
window.dfnpanelData['9ac94568'] = {"dfnID": "9ac94568", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-sandboxing", "dfnText": "final sandboxing flag set", "refSections": [{"refs": [{"id": "ref-for-navigation-params-sandboxing"}, {"id": "ref-for-navigation-params-sandboxing\u2460"}, {"id": "ref-for-navigation-params-sandboxing\u2461"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['e5cb4a39'] = {"dfnID": "e5cb4a39", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#fire-a-click-event", "dfnText": "fire a click event", "refSections": [{"refs": [{"id": "ref-for-fire-a-click-event"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['1236ac1a'] = {"dfnID": "1236ac1a", "url": "https://html.spec.whatwg.org/multipage/dom.html#flow-content-2", "dfnText": "flow content", "refSections": [{"refs": [{"id": "ref-for-flow-content-2"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['716e5220'] = {"dfnID": "716e5220", "url": "https://html.spec.whatwg.org/multipage/interaction.html#focus-chain", "dfnText": "focus chain", "refSections": [{"refs": [{"id": "ref-for-focus-chain"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['672227e0'] = {"dfnID": "672227e0", "url": "https://html.spec.whatwg.org/multipage/interaction.html#focus-update-steps", "dfnText": "focus update steps", "refSections": [{"refs": [{"id": "ref-for-focus-update-steps"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['d345f720'] = {"dfnID": "d345f720", "url": "https://html.spec.whatwg.org/multipage/interaction.html#dom-focus", "dfnText": "focus(options)", "refSections": [{"refs": [{"id": "ref-for-dom-focus"}, {"id": "ref-for-dom-focus\u2460"}, {"id": "ref-for-dom-focus\u2461"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['fad8924f'] = {"dfnID": "fad8924f", "url": "https://html.spec.whatwg.org/multipage/interaction.html#focusable-area", "dfnText": "focusable area", "refSections": [{"refs": [{"id": "ref-for-focusable-area"}, {"id": "ref-for-focusable-area\u2460"}, {"id": "ref-for-focusable-area\u2461"}, {"id": "ref-for-focusable-area\u2462"}, {"id": "ref-for-focusable-area\u2463"}, {"id": "ref-for-focusable-area\u2464"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['4546c309'] = {"dfnID": "4546c309", "url": "https://html.spec.whatwg.org/multipage/interaction.html#focused", "dfnText": "focused", "refSections": [{"refs": [{"id": "ref-for-focused"}, {"id": "ref-for-focused\u2460"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['a9123244'] = {"dfnID": "a9123244", "url": "https://html.spec.whatwg.org/multipage/interaction.html#focused-area-of-the-document", "dfnText": "focused area", "refSections": [{"refs": [{"id": "ref-for-focused-area-of-the-document"}, {"id": "ref-for-focused-area-of-the-document\u2460"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['fe07e8b2'] = {"dfnID": "fe07e8b2", "url": "https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps", "dfnText": "focusing steps", "refSections": [{"refs": [{"id": "ref-for-focusing-steps"}, {"id": "ref-for-focusing-steps\u2460"}, {"id": "ref-for-focusing-steps\u2461"}, {"id": "ref-for-focusing-steps\u2462"}, {"id": "ref-for-focusing-steps\u2463"}, {"id": "ref-for-focusing-steps\u2464"}, {"id": "ref-for-focusing-steps\u2465"}, {"id": "ref-for-focusing-steps\u2466"}, {"id": "ref-for-focusing-steps\u2467"}, {"id": "ref-for-focusing-steps\u2468"}, {"id": "ref-for-focusing-steps\u2460\u24ea"}, {"id": "ref-for-focusing-steps\u2460\u2460"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['856d9692'] = {"dfnID": "856d9692", "url": "https://html.spec.whatwg.org/multipage/custom-elements.html#form-associated-custom-element", "dfnText": "form-associated custom element", "refSections": [{"refs": [{"id": "ref-for-form-associated-custom-element"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['14080e5a'] = {"dfnID": "14080e5a", "url": "https://html.spec.whatwg.org/multipage/interaction.html#gains-focus", "dfnText": "gain focus", "refSections": [{"refs": [{"id": "ref-for-gains-focus"}, {"id": "ref-for-gains-focus\u2460"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['fafafd09'] = {"dfnID": "fafafd09", "url": "https://html.spec.whatwg.org/multipage/interaction.html#get-the-focusable-area", "dfnText": "get the focusable area", "refSections": [{"refs": [{"id": "ref-for-get-the-focusable-area"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['8fc74046'] = {"dfnID": "8fc74046", "url": "https://html.spec.whatwg.org/multipage/dom.html#global-attributes", "dfnText": "global attributes", "refSections": [{"refs": [{"id": "ref-for-global-attributes"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['7c421916'] = {"dfnID": "7c421916", "url": "https://html.spec.whatwg.org/multipage/interaction.html#has-focus-steps", "dfnText": "has focus steps", "refSections": [{"refs": [{"id": "ref-for-has-focus-steps"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['dfa9c14c'] = {"dfnID": "dfa9c14c", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params-activation", "dfnText": "has transient activation", "refSections": [{"refs": [{"id": "ref-for-source-snapshot-params-activation"}], "title": "2.6. Automatic Reporting"}], "external": true};
window.dfnpanelData['0b79108e'] = {"dfnID": "0b79108e", "url": "https://html.spec.whatwg.org/multipage/embedder-content-other.html#attr-dim-height", "dfnText": "height", "refSections": [{"refs": [{"id": "ref-for-attr-dim-height"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-attr-dim-height\u2460"}], "title": "2.1. Dimension attributes"}], "external": true};
window.dfnpanelData['979264d7'] = {"dfnID": "979264d7", "url": "https://html.spec.whatwg.org/multipage/popover.html#hide-popover-algorithm", "dfnText": "hide popover algorithm", "refSections": [{"refs": [{"id": "ref-for-hide-popover-algorithm"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['5ea2b73e'] = {"dfnID": "5ea2b73e", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-history-policy-container", "dfnText": "history policy container", "refSections": [{"refs": [{"id": "ref-for-document-state-history-policy-container"}], "title": "3.4. Policy container inheritance"}], "external": true};
window.dfnpanelData['37b5f0f9'] = {"dfnID": "37b5f0f9", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-hh", "dfnText": "historyhandling", "refSections": [{"refs": [{"id": "ref-for-navigation-hh"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['87fcd40c'] = {"dfnID": "87fcd40c", "url": "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#the-iframe-element", "dfnText": "iframe", "refSections": [{"refs": [{"id": "ref-for-the-iframe-element"}], "title": "1. Introduction"}, {"refs": [{"id": "ref-for-the-iframe-element\u2460"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-the-iframe-element\u2461"}], "title": "2.2. Fenced frame config mapping"}, {"refs": [{"id": "ref-for-the-iframe-element\u2462"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-the-iframe-element\u2463"}], "title": "3.4. Policy container inheritance"}, {"refs": [{"id": "ref-for-the-iframe-element\u2464"}, {"id": "ref-for-the-iframe-element\u2465"}, {"id": "ref-for-the-iframe-element\u2466"}], "title": "3.5.1. Introduction"}, {"refs": [{"id": "ref-for-the-iframe-element\u2467"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}, {"refs": [{"id": "ref-for-the-iframe-element\u2468"}], "title": "4.2.2. New fenced-frame-src [CSP] directive"}, {"refs": [{"id": "ref-for-the-iframe-element\u2460\u24ea"}, {"id": "ref-for-the-iframe-element\u2460\u2460"}, {"id": "ref-for-the-iframe-element\u2460\u2461"}, {"id": "ref-for-the-iframe-element\u2460\u2462"}, {"id": "ref-for-the-iframe-element\u2460\u2463"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['4927c7a6'] = {"dfnID": "4927c7a6", "url": "https://html.spec.whatwg.org/multipage/browsers.html#iframe-sandboxing-flag-set", "dfnText": "iframe sandboxing flag set", "refSections": [{"refs": [{"id": "ref-for-iframe-sandboxing-flag-set"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['b8d9c605'] = {"dfnID": "b8d9c605", "url": "https://html.spec.whatwg.org/multipage/#immediately", "dfnText": "immediately", "refSections": [{"refs": [{"id": "ref-for-immediately"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['a72449dd'] = {"dfnID": "a72449dd", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel", "dfnText": "in parallel", "refSections": [{"refs": [{"id": "ref-for-in-parallel"}, {"id": "ref-for-in-parallel\u2460"}, {"id": "ref-for-in-parallel\u2461"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-in-parallel\u2462"}, {"id": "ref-for-in-parallel\u2463"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-in-parallel\u2464"}, {"id": "ref-for-in-parallel\u2465"}, {"id": "ref-for-in-parallel\u2466"}], "title": "3.8.5. Actual navigation changes"}], "external": true};
window.dfnpanelData['dbdbb853'] = {"dfnID": "dbdbb853", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#inclusive-descendant-navigables", "dfnText": "inclusive descendant navigables", "refSections": [{"refs": [{"id": "ref-for-inclusive-descendant-navigables"}, {"id": "ref-for-inclusive-descendant-navigables\u2460"}], "title": "3.6. Modifications to navigable-traversing algorithms"}, {"refs": [{"id": "ref-for-inclusive-descendant-navigables\u2461"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-inclusive-descendant-navigables\u2462"}], "title": "3.9. Page visibility"}], "external": true};
window.dfnpanelData['2fa84525'] = {"dfnID": "2fa84525", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#initialize-the-navigable", "dfnText": "initialize the navigable", "refSections": [{"refs": [{"id": "ref-for-initialize-the-navigable"}], "title": "3.5.3. Nested traversables"}], "external": true};
window.dfnpanelData['2895d75d'] = {"dfnID": "2895d75d", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#document-state-initiator-origin", "dfnText": "initiator origin", "refSections": [{"refs": [{"id": "ref-for-document-state-initiator-origin"}, {"id": "ref-for-document-state-initiator-origin\u2460"}], "title": "2.6. Automatic Reporting"}], "external": true};
window.dfnpanelData['bd7d36d0'] = {"dfnID": "bd7d36d0", "url": "https://html.spec.whatwg.org/multipage/dom.html#interactive-content-2", "dfnText": "interactive content", "refSections": [{"refs": [{"id": "ref-for-interactive-content-2"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['fc2d4032'] = {"dfnID": "fc2d4032", "url": "https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#interactively-validate-the-constraints", "dfnText": "interactively validate the constraints", "refSections": [{"refs": [{"id": "ref-for-interactively-validate-the-constraints"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['af07f0c4'] = {"dfnID": "af07f0c4", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-history-length", "dfnText": "length", "refSections": [{"refs": [{"id": "ref-for-dom-history-length"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['9c19b7fc'] = {"dfnID": "9c19b7fc", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#navigable", "dfnText": "navigable", "refSections": [{"refs": [{"id": "ref-for-navigable"}], "title": "3.5.1. Introduction"}, {"refs": [{"id": "ref-for-navigable\u2460"}, {"id": "ref-for-navigable\u2461"}, {"id": "ref-for-navigable\u2462"}, {"id": "ref-for-navigable\u2463"}, {"id": "ref-for-navigable\u2464"}], "title": "3.5.2. Traversable navigables"}, {"refs": [{"id": "ref-for-navigable\u2465"}, {"id": "ref-for-navigable\u2466"}], "title": "3.5.3. Nested traversables"}, {"refs": [{"id": "ref-for-navigable\u2467"}], "title": "3.5.4. Top-level traversables"}, {"refs": [{"id": "ref-for-navigable\u2468"}], "title": "3.7. Modifications to the focusing algorithms"}, {"refs": [{"id": "ref-for-navigable\u2460\u24ea"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}, {"refs": [{"id": "ref-for-navigable\u2460\u2460"}], "title": "4. Interactions with other specifications"}, {"refs": [{"id": "ref-for-navigable\u2460\u2461"}, {"id": "ref-for-navigable\u2460\u2462"}], "title": "4.1. Prerendering"}], "external": true};
window.dfnpanelData['228be966'] = {"dfnID": "228be966", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#window-navigable", "dfnText": "navigable (for Window)", "refSections": [{"refs": [{"id": "ref-for-window-navigable"}, {"id": "ref-for-window-navigable\u2460"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": true};
window.dfnpanelData['693b6384'] = {"dfnID": "693b6384", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-navigable", "dfnText": "navigable (for navigation params)", "refSections": [{"refs": [{"id": "ref-for-navigation-params-navigable"}], "title": "3.8.1. The `Supports-Loading-Mode` HTTP response header"}, {"refs": [{"id": "ref-for-navigation-params-navigable\u2460"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-navigation-params-navigable\u2461"}, {"id": "ref-for-navigation-params-navigable\u2462"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['bf63a402'] = {"dfnID": "bf63a402", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#navigable-container", "dfnText": "navigable container", "refSections": [{"refs": [{"id": "ref-for-navigable-container"}], "title": "3.5.1. Introduction"}, {"refs": [{"id": "ref-for-navigable-container\u2460"}], "title": "3.5.3. Nested traversables"}, {"refs": [{"id": "ref-for-navigable-container\u2461"}], "title": "3.6. Modifications to navigable-traversing algorithms"}, {"refs": [{"id": "ref-for-navigable-container\u2462"}, {"id": "ref-for-navigable-container\u2463"}, {"id": "ref-for-navigable-container\u2464"}], "title": "3.7. Modifications to the focusing algorithms"}, {"refs": [{"id": "ref-for-navigable-container\u2465"}], "title": "4.2. Content Security Policy"}, {"refs": [{"id": "ref-for-navigable-container\u2466"}, {"id": "ref-for-navigable-container\u2467"}, {"id": "ref-for-navigable-container\u2468"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['2594e562'] = {"dfnID": "2594e562", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate", "dfnText": "navigate", "refSections": [{"refs": [{"id": "ref-for-navigate"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-navigate\u2460"}], "title": "2.2. Fenced frame config mapping"}, {"refs": [{"id": "ref-for-navigate\u2461"}, {"id": "ref-for-navigate\u2462"}, {"id": "ref-for-navigate\u2463"}, {"id": "ref-for-navigate\u2464"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-navigate\u2465"}], "title": "3.5.1. Introduction"}, {"refs": [{"id": "ref-for-navigate\u2466"}, {"id": "ref-for-navigate\u2467"}], "title": "3.8.5. Actual navigation changes"}], "external": true};
window.dfnpanelData['27d98ff5'] = {"dfnID": "27d98ff5", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#navigation-and-traversal-task-source", "dfnText": "navigation and traversal task source", "refSections": [{"refs": [{"id": "ref-for-navigation-and-traversal-task-source"}], "title": "3.8.6. Browsing context group swap"}], "external": true};
window.dfnpanelData['4437edc6'] = {"dfnID": "4437edc6", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params", "dfnText": "navigation params", "refSections": [{"refs": [{"id": "ref-for-navigation-params"}, {"id": "ref-for-navigation-params\u2460"}, {"id": "ref-for-navigation-params\u2461"}, {"id": "ref-for-navigation-params\u2462"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-navigation-params\u2463"}, {"id": "ref-for-navigation-params\u2464"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['a0768d9f'] = {"dfnID": "a0768d9f", "url": "https://html.spec.whatwg.org/multipage/system-state.html#dom-navigator", "dfnText": "navigator", "refSections": [{"refs": [{"id": "ref-for-dom-navigator"}, {"id": "ref-for-dom-navigator\u2460"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": true};
window.dfnpanelData['87168c61'] = {"dfnID": "87168c61", "url": "https://html.spec.whatwg.org/multipage/browsers.html#coop-enforcement-bcg-switch", "dfnText": "needs a browsing context group switch", "refSections": [{"refs": [{"id": "ref-for-coop-enforcement-bcg-switch"}], "title": "3.8.6. Browsing context group swap"}], "external": true};
window.dfnpanelData['01ff24f7'] = {"dfnID": "01ff24f7", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#insert-an-element-into-a-document", "dfnText": "node is inserted into a document", "refSections": [{"refs": [{"id": "ref-for-insert-an-element-into-a-document"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['13dd6cae'] = {"dfnID": "13dd6cae", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable", "dfnText": "node navigable", "refSections": [{"refs": [{"id": "ref-for-node-navigable"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-node-navigable\u2460"}], "title": "3.5.3. Nested traversables"}, {"refs": [{"id": "ref-for-node-navigable\u2461"}, {"id": "ref-for-node-navigable\u2462"}, {"id": "ref-for-node-navigable\u2463"}, {"id": "ref-for-node-navigable\u2464"}, {"id": "ref-for-node-navigable\u2465"}, {"id": "ref-for-node-navigable\u2466"}, {"id": "ref-for-node-navigable\u2467"}], "title": "3.7. Modifications to the focusing algorithms"}, {"refs": [{"id": "ref-for-node-navigable\u2468"}, {"id": "ref-for-node-navigable\u2460\u24ea"}, {"id": "ref-for-node-navigable\u2460\u2460"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-node-navigable\u2460\u2461"}, {"id": "ref-for-node-navigable\u2460\u2462"}], "title": "4.4. CSSOM View"}], "external": true};
window.dfnpanelData['e86519ee'] = {"dfnID": "e86519ee", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#cross-origin-isolation-none", "dfnText": "none", "refSections": [{"refs": [{"id": "ref-for-cross-origin-isolation-none"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}], "external": true};
window.dfnpanelData['fbadcbc4'] = {"dfnID": "fbadcbc4", "url": "https://html.spec.whatwg.org/multipage/dom.html#concept-content-nothing", "dfnText": "nothing", "refSections": [{"refs": [{"id": "ref-for-concept-content-nothing"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['e8798b0b'] = {"dfnID": "e8798b0b", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#ongoing-navigation", "dfnText": "ongoing navigation", "refSections": [{"refs": [{"id": "ref-for-ongoing-navigation"}], "title": "3.8.5. Actual navigation changes"}], "external": true};
window.dfnpanelData['cbe46402'] = {"dfnID": "cbe46402", "url": "https://html.spec.whatwg.org/multipage/nav-history-apis.html#dom-opener", "dfnText": "opener", "refSections": [{"refs": [{"id": "ref-for-dom-opener"}], "title": "2.6. Automatic Reporting"}], "external": true};
window.dfnpanelData['086e3aff'] = {"dfnID": "086e3aff", "url": "https://html.spec.whatwg.org/multipage/browsers.html#concept-origin", "dfnText": "origin", "refSections": [{"refs": [{"id": "ref-for-concept-origin"}, {"id": "ref-for-concept-origin\u2460"}, {"id": "ref-for-concept-origin\u2461"}, {"id": "ref-for-concept-origin\u2462"}, {"id": "ref-for-concept-origin\u2463"}, {"id": "ref-for-concept-origin\u2464"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-concept-origin\u2465"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-concept-origin\u2466"}, {"id": "ref-for-concept-origin\u2467"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-concept-origin\u2468"}], "title": "4.3. Permissions Policies"}, {"refs": [{"id": "ref-for-concept-origin\u2460\u24ea"}, {"id": "ref-for-concept-origin\u2460\u2460"}, {"id": "ref-for-concept-origin\u2460\u2461"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['43ac8374'] = {"dfnID": "43ac8374", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-settings-object-origin", "dfnText": "origin (for environment settings object)", "refSections": [{"refs": [{"id": "ref-for-concept-settings-object-origin"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-concept-settings-object-origin\u2460"}, {"id": "ref-for-concept-settings-object-origin\u2461"}, {"id": "ref-for-concept-settings-object-origin\u2462"}, {"id": "ref-for-concept-settings-object-origin\u2463"}], "title": "2.4. The Fence interface"}], "external": true};
window.dfnpanelData['225c2b02'] = {"dfnID": "225c2b02", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-origin", "dfnText": "origin (for navigation params)", "refSections": [{"refs": [{"id": "ref-for-navigation-params-origin"}, {"id": "ref-for-navigation-params-origin\u2460"}], "title": "4.3. Permissions Policies"}, {"refs": [{"id": "ref-for-navigation-params-origin\u2461"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['d54eeea2'] = {"dfnID": "d54eeea2", "url": "https://html.spec.whatwg.org/multipage/dom.html#palpable-content-2", "dfnText": "palpable content", "refSections": [{"refs": [{"id": "ref-for-palpable-content-2"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['1bba3db7'] = {"dfnID": "1bba3db7", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-parent", "dfnText": "parent", "refSections": [{"refs": [{"id": "ref-for-nav-parent"}], "title": "3.5.1. Introduction"}, {"refs": [{"id": "ref-for-nav-parent\u2460"}, {"id": "ref-for-nav-parent\u2461"}], "title": "3.5.2. Traversable navigables"}, {"refs": [{"id": "ref-for-nav-parent\u2462"}, {"id": "ref-for-nav-parent\u2463"}, {"id": "ref-for-nav-parent\u2464"}, {"id": "ref-for-nav-parent\u2465"}, {"id": "ref-for-nav-parent\u2466"}, {"id": "ref-for-nav-parent\u2467"}, {"id": "ref-for-nav-parent\u2468"}, {"id": "ref-for-nav-parent\u2460\u24ea"}, {"id": "ref-for-nav-parent\u2460\u2460"}], "title": "3.5.4. Top-level traversables"}, {"refs": [{"id": "ref-for-nav-parent\u2460\u2461"}, {"id": "ref-for-nav-parent\u2460\u2462"}], "title": "3.7. Modifications to the focusing algorithms"}, {"refs": [{"id": "ref-for-nav-parent\u2460\u2463"}], "title": "3.8.5. Actual navigation changes"}], "external": true};
window.dfnpanelData['53f0ea4e'] = {"dfnID": "53f0ea4e", "url": "https://html.spec.whatwg.org/multipage/browsers.html#parse-a-sandboxing-directive", "dfnText": "parse a sandboxing directive", "refSections": [{"refs": [{"id": "ref-for-parse-a-sandboxing-directive"}, {"id": "ref-for-parse-a-sandboxing-directive\u2460"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['a41102eb'] = {"dfnID": "a41102eb", "url": "https://html.spec.whatwg.org/multipage/dom.html#concept-document-permissions-policy", "dfnText": "permissions policy", "refSections": [{"refs": [{"id": "ref-for-concept-document-permissions-policy"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-concept-document-permissions-policy\u2460"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-concept-document-permissions-policy\u2461"}], "title": "4.3. Permissions Policies"}], "external": true};
window.dfnpanelData['e5a7e26c'] = {"dfnID": "e5a7e26c", "url": "https://html.spec.whatwg.org/multipage/dom.html#phrasing-content-2", "dfnText": "phrasing content", "refSections": [{"refs": [{"id": "ref-for-phrasing-content-2"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['b33787b2'] = {"dfnID": "b33787b2", "url": "https://html.spec.whatwg.org/multipage/browsers.html#policy-container", "dfnText": "policy container", "refSections": [{"refs": [{"id": "ref-for-policy-container"}], "title": "3.4. Policy container inheritance"}], "external": true};
window.dfnpanelData['08639fbc'] = {"dfnID": "08639fbc", "url": "https://html.spec.whatwg.org/multipage/dom.html#concept-document-policy-container", "dfnText": "policy container (for Document)", "refSections": [{"refs": [{"id": "ref-for-concept-document-policy-container"}], "title": "3.3. Modifications to creating browsing contexts"}, {"refs": [{"id": "ref-for-concept-document-policy-container\u2460"}, {"id": "ref-for-concept-document-policy-container\u2461"}, {"id": "ref-for-concept-document-policy-container\u2462"}], "title": "3.4. Policy container inheritance"}], "external": true};
window.dfnpanelData['6aea56c3'] = {"dfnID": "6aea56c3", "url": "https://html.spec.whatwg.org/multipage/interactive-elements.html#previously-focused-element", "dfnText": "previously focused element", "refSections": [{"refs": [{"id": "ref-for-previously-focused-element"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['b1f81001'] = {"dfnID": "b1f81001", "url": "https://html.spec.whatwg.org/multipage/browsers.html#queue-a-cross-origin-embedder-policy-inheritance-violation", "dfnText": "queue a cross-origin embedder policy inheritance violation", "refSections": [{"refs": [{"id": "ref-for-queue-a-cross-origin-embedder-policy-inheritance-violation"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}], "external": true};
window.dfnpanelData['48438eb3'] = {"dfnID": "48438eb3", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-global-task", "dfnText": "queue a global task", "refSections": [{"refs": [{"id": "ref-for-queue-a-global-task"}, {"id": "ref-for-queue-a-global-task\u2460"}, {"id": "ref-for-queue-a-global-task\u2461"}, {"id": "ref-for-queue-a-global-task\u2462"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-queue-a-global-task\u2463"}], "title": "3.8.6. Browsing context group swap"}], "external": true};
window.dfnpanelData['9a517a7d'] = {"dfnID": "9a517a7d", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#queue-a-task", "dfnText": "queue a task", "refSections": [{"refs": [{"id": "ref-for-queue-a-task"}], "title": "3.8.1. The `Supports-Loading-Mode` HTTP response header"}], "external": true};
window.dfnpanelData['a76e7e27'] = {"dfnID": "a76e7e27", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-referrer-policy", "dfnText": "referrerpolicy", "refSections": [{"refs": [{"id": "ref-for-navigation-referrer-policy"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['5ab7b520'] = {"dfnID": "5ab7b520", "url": "https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#reflect", "dfnText": "reflect", "refSections": [{"refs": [{"id": "ref-for-reflect"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-reflect\u2460"}], "title": "2.1. Dimension attributes"}], "external": true};
window.dfnpanelData['e99bd18e'] = {"dfnID": "e99bd18e", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global", "dfnText": "relevant global object", "refSections": [{"refs": [{"id": "ref-for-concept-relevant-global"}, {"id": "ref-for-concept-relevant-global\u2460"}, {"id": "ref-for-concept-relevant-global\u2461"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-concept-relevant-global\u2462"}, {"id": "ref-for-concept-relevant-global\u2463"}, {"id": "ref-for-concept-relevant-global\u2464"}, {"id": "ref-for-concept-relevant-global\u2465"}, {"id": "ref-for-concept-relevant-global\u2466"}], "title": "2.4. The Fence interface"}], "external": true};
window.dfnpanelData['5991ccfb'] = {"dfnID": "5991ccfb", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-realm", "dfnText": "relevant realm", "refSections": [{"refs": [{"id": "ref-for-concept-relevant-realm"}], "title": "2.4. The Fence interface"}], "external": true};
window.dfnpanelData['9c4c1e66'] = {"dfnID": "9c4c1e66", "url": "https://html.spec.whatwg.org/multipage/webappapis.html#relevant-settings-object", "dfnText": "relevant settings object", "refSections": [{"refs": [{"id": "ref-for-relevant-settings-object"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-relevant-settings-object\u2460"}, {"id": "ref-for-relevant-settings-object\u2461"}, {"id": "ref-for-relevant-settings-object\u2462"}, {"id": "ref-for-relevant-settings-object\u2463"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-relevant-settings-object\u2464"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}, {"refs": [{"id": "ref-for-relevant-settings-object\u2465"}], "title": "3.8.6. Browsing context group swap"}], "external": true};
window.dfnpanelData['cd5fb9ff'] = {"dfnID": "cd5fb9ff", "url": "https://html.spec.whatwg.org/multipage/infrastructure.html#remove-an-element-from-a-document", "dfnText": "removed from a document", "refSections": [{"refs": [{"id": "ref-for-remove-an-element-from-a-document"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['c75feb22'] = {"dfnID": "c75feb22", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#hh-replace", "dfnText": "replace", "refSections": [{"refs": [{"id": "ref-for-hh-replace"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-hh-replace\u2460"}], "title": "3.8.5. Actual navigation changes"}], "external": true};
window.dfnpanelData['fe811c8e'] = {"dfnID": "fe811c8e", "url": "https://html.spec.whatwg.org/multipage/dom.html#represents", "dfnText": "represents", "refSections": [{"refs": [{"id": "ref-for-represents"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['1ae60107'] = {"dfnID": "1ae60107", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigation-params-response", "dfnText": "response", "refSections": [{"refs": [{"id": "ref-for-navigation-params-response"}, {"id": "ref-for-navigation-params-response\u2460"}], "title": "3.8.1. The `Supports-Loading-Mode` HTTP response header"}, {"refs": [{"id": "ref-for-navigation-params-response\u2461"}, {"id": "ref-for-navigation-params-response\u2462"}], "title": "3.8.5. Actual navigation changes"}], "external": true};
window.dfnpanelData['7393da89'] = {"dfnID": "7393da89", "url": "https://html.spec.whatwg.org/multipage/browsers.html#same-origin", "dfnText": "same origin", "refSections": [{"refs": [{"id": "ref-for-same-origin"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-same-origin\u2460"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-same-origin\u2461"}, {"id": "ref-for-same-origin\u2462"}, {"id": "ref-for-same-origin\u2463"}, {"id": "ref-for-same-origin\u2464"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-same-origin\u2465"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-same-origin\u2466"}], "title": "3.5.1. Introduction"}, {"refs": [{"id": "ref-for-same-origin\u2467"}], "title": "3.8.2. The\n`Allow-Fenced-Frame-Automatic-Beacons` HTTP response header"}, {"refs": [{"id": "ref-for-same-origin\u2468"}, {"id": "ref-for-same-origin\u2460\u24ea"}], "title": "4.3. Permissions Policies"}, {"refs": [{"id": "ref-for-same-origin\u2460\u2460"}, {"id": "ref-for-same-origin\u2460\u2461"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['457a6f4c'] = {"dfnID": "457a6f4c", "url": "https://html.spec.whatwg.org/multipage/browsers.html#sandboxing-flag-set", "dfnText": "sandboxing flag set", "refSections": [{"refs": [{"id": "ref-for-sandboxing-flag-set"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-sandboxing-flag-set\u2460"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-sandboxing-flag-set\u2461"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": true};
window.dfnpanelData['8c20d82f'] = {"dfnID": "8c20d82f", "url": "https://html.spec.whatwg.org/multipage/interaction.html#sequential-focus-navigation", "dfnText": "sequential focus navigation", "refSections": [{"refs": [{"id": "ref-for-sequential-focus-navigation"}, {"id": "ref-for-sequential-focus-navigation\u2460"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['6197cadb'] = {"dfnID": "6197cadb", "url": "https://html.spec.whatwg.org/multipage/interaction.html#sequential-navigation-search-algorithm", "dfnText": "sequential navigation search algorithm", "refSections": [{"refs": [{"id": "ref-for-sequential-navigation-search-algorithm"}, {"id": "ref-for-sequential-navigation-search-algorithm\u2460"}, {"id": "ref-for-sequential-navigation-search-algorithm\u2461"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": true};
window.dfnpanelData['0a422d04'] = {"dfnID": "0a422d04", "url": "https://html.spec.whatwg.org/multipage/structured-data.html#serializable-objects", "dfnText": "serializable object", "refSections": [{"refs": [{"id": "ref-for-serializable-objects"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": true};
window.dfnpanelData['f32dc6c1'] = {"dfnID": "f32dc6c1", "url": "https://html.spec.whatwg.org/multipage/structured-data.html#serialization-steps", "dfnText": "serialization steps", "refSections": [{"refs": [{"id": "ref-for-serialization-steps"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": true};
window.dfnpanelData['5e1e14ce'] = {"dfnID": "5e1e14ce", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#tn-session-history-entries", "dfnText": "session history entries", "refSections": [{"refs": [{"id": "ref-for-tn-session-history-entries"}], "title": "3.5.3. Nested traversables"}], "external": true};
window.dfnpanelData['fb9bb722'] = {"dfnID": "fb9bb722", "url": "https://html.spec.whatwg.org/multipage/browsers.html#site", "dfnText": "site", "refSections": [{"refs": [{"id": "ref-for-site"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['ba5c8415'] = {"dfnID": "ba5c8415", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#snapshotting-source-snapshot-params", "dfnText": "snapshot source snapshot params", "refSections": [{"refs": [{"id": "ref-for-snapshotting-source-snapshot-params"}], "title": "3.8.5. Actual navigation changes"}], "external": true};
window.dfnpanelData['b285d8c5'] = {"dfnID": "b285d8c5", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params-policy-container", "dfnText": "source policy container", "refSections": [{"refs": [{"id": "ref-for-source-snapshot-params-policy-container"}], "title": "3.4. Policy container inheritance"}], "external": true};
window.dfnpanelData['77093875'] = {"dfnID": "77093875", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#source-snapshot-params", "dfnText": "source snapshot params", "refSections": [{"refs": [{"id": "ref-for-source-snapshot-params"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-source-snapshot-params\u2460"}, {"id": "ref-for-source-snapshot-params\u2461"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-source-snapshot-params\u2462"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['deddc6fc'] = {"dfnID": "deddc6fc", "url": "https://html.spec.whatwg.org/multipage/iframe-embed-object.html#attr-iframe-src", "dfnText": "src", "refSections": [{"refs": [{"id": "ref-for-attr-iframe-src"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['806c30aa'] = {"dfnID": "806c30aa", "url": "https://html.spec.whatwg.org/multipage/browsing-the-web.html#she-step", "dfnText": "step", "refSections": [{"refs": [{"id": "ref-for-she-step"}], "title": "3.5.3. Nested traversables"}], "external": true};
window.dfnpanelData['ecf857b3'] = {"dfnID": "ecf857b3", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#system-visibility-state", "dfnText": "system visibility state", "refSections": [{"refs": [{"id": "ref-for-system-visibility-state"}], "title": "3.9. Page visibility"}], "external": true};
window.dfnpanelData['8d403805'] = {"dfnID": "8d403805", "url": "https://html.spec.whatwg.org/multipage/dom.html#the-document's-referrer", "dfnText": "the document's referrer", "refSections": [{"refs": [{"id": "ref-for-the-document's-referrer"}], "title": "3.3. Modifications to creating browsing contexts"}], "external": true};
window.dfnpanelData['d0c1b934'] = {"dfnID": "d0c1b934", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#traversable-navigable", "dfnText": "traversable navigable", "refSections": [{"refs": [{"id": "ref-for-traversable-navigable"}], "title": "2.2. Fenced frame config mapping"}, {"refs": [{"id": "ref-for-traversable-navigable\u2460"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-traversable-navigable\u2461"}, {"id": "ref-for-traversable-navigable\u2462"}, {"id": "ref-for-traversable-navigable\u2463"}, {"id": "ref-for-traversable-navigable\u2464"}], "title": "3.5.1. Introduction"}, {"refs": [{"id": "0cfb9abe0"}, {"id": "ref-for-traversable-navigable\u2465"}, {"id": "ref-for-traversable-navigable\u2466"}], "title": "3.5.2. Traversable navigables"}, {"refs": [{"id": "ref-for-traversable-navigable\u2467"}, {"id": "ref-for-traversable-navigable\u2468"}, {"id": "ref-for-traversable-navigable\u2460\u24ea"}], "title": "3.5.3. Nested traversables"}, {"refs": [{"id": "ref-for-traversable-navigable\u2460\u2460"}, {"id": "ref-for-traversable-navigable\u2460\u2461"}, {"id": "ref-for-traversable-navigable\u2460\u2462"}, {"id": "ref-for-traversable-navigable\u2460\u2463"}, {"id": "ref-for-traversable-navigable\u2460\u2464"}, {"id": "ref-for-traversable-navigable\u2460\u2465"}], "title": "3.5.4. Top-level traversables"}, {"refs": [{"id": "ref-for-traversable-navigable\u2460\u2466"}], "title": "3.7. Modifications to the focusing algorithms"}, {"refs": [{"id": "ref-for-traversable-navigable\u2460\u2467"}], "title": "3.9. Page visibility"}], "external": true};
window.dfnpanelData['17582406'] = {"dfnID": "17582406", "url": "https://html.spec.whatwg.org/multipage/document-sequences.html#nav-traversable", "dfnText": "traversable navigable (for navigable)", "refSections": [{"refs": [{"id": "ref-for-nav-traversable"}, {"id": "ref-for-nav-traversable\u2460"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-nav-traversable\u2461"}], "title": "3.7. Modifications to the focusing algorithms"}, {"refs": [{"id": "ref-for-nav-traversable\u2462"}], "title": "3.8.1. The `Supports-Loading-Mode` HTTP response header"}, {"refs": [{"id": "ref-for-nav-traversable\u2463"}, {"id": "ref-for-nav-traversable\u2464"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-nav-traversable\u2465"}, {"id": "ref-for-nav-traversable\u2466"}], "title": "4.4. CSSOM View"}], "external": true};
window.dfnpanelData['16cfba2b'] = {"dfnID": "16cfba2b", "url": "https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#unordered-set-of-unique-space-separated-tokens", "dfnText": "unordered set of unique space-separated tokens", "refSections": [{"refs": [{"id": "ref-for-unordered-set-of-unique-space-separated-tokens"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['b79e50d6'] = {"dfnID": "b79e50d6", "url": "https://html.spec.whatwg.org/multipage/interaction.html#tracking-user-activation", "dfnText": "user activation", "refSections": [{"refs": [{"id": "ref-for-tracking-user-activation"}, {"id": "ref-for-tracking-user-activation\u2460"}, {"id": "ref-for-tracking-user-activation\u2461"}, {"id": "ref-for-tracking-user-activation\u2462"}, {"id": "ref-for-tracking-user-activation\u2463"}], "title": "3.5.1. Introduction"}], "external": true};
window.dfnpanelData['cdb5db7e'] = {"dfnID": "cdb5db7e", "url": "https://html.spec.whatwg.org/multipage/embedder-content-other.html#attr-dim-width", "dfnText": "width", "refSections": [{"refs": [{"id": "ref-for-attr-dim-width"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-attr-dim-width\u2460"}], "title": "2.1. Dimension attributes"}], "external": true};
window.dfnpanelData['53275e46'] = {"dfnID": "53275e46", "url": "https://infra.spec.whatwg.org/#list-append", "dfnText": "append (for list)", "refSections": [{"refs": [{"id": "ref-for-list-append"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-list-append\u2460"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-list-append\u2461"}], "title": "2.4. The Fence interface"}], "external": true};
window.dfnpanelData['a3b18719'] = {"dfnID": "a3b18719", "url": "https://infra.spec.whatwg.org/#set-append", "dfnText": "append (for set)", "refSections": [{"refs": [{"id": "ref-for-set-append"}], "title": "3.5.3. Nested traversables"}], "external": true};
window.dfnpanelData['7f9469b5'] = {"dfnID": "7f9469b5", "url": "https://infra.spec.whatwg.org/#ascii-case-insensitive", "dfnText": "ascii case-insensitive", "refSections": [{"refs": [{"id": "ref-for-ascii-case-insensitive"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['77b4c09a'] = {"dfnID": "77b4c09a", "url": "https://infra.spec.whatwg.org/#assert", "dfnText": "assert", "refSections": [{"refs": [{"id": "ref-for-assert"}, {"id": "ref-for-assert\u2460"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-assert\u2461"}], "title": "2.2. Fenced frame config mapping"}, {"refs": [{"id": "ref-for-assert\u2462"}, {"id": "ref-for-assert\u2463"}, {"id": "ref-for-assert\u2464"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-assert\u2465"}], "title": "3.5.2. Traversable navigables"}, {"refs": [{"id": "ref-for-assert\u2466"}, {"id": "ref-for-assert\u2467"}, {"id": "ref-for-assert\u2468"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-assert\u2460\u24ea"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['36858240'] = {"dfnID": "36858240", "url": "https://infra.spec.whatwg.org/#boolean", "dfnText": "boolean", "refSections": [{"refs": [{"id": "ref-for-boolean"}, {"id": "ref-for-boolean\u2460"}, {"id": "ref-for-boolean\u2461"}, {"id": "ref-for-boolean\u2462"}, {"id": "ref-for-boolean\u2463"}, {"id": "ref-for-boolean\u2464"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-boolean\u2465"}, {"id": "ref-for-boolean\u2466"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-boolean\u2467"}, {"id": "ref-for-boolean\u2468"}, {"id": "ref-for-boolean\u2460\u24ea"}], "title": "3.2. Document supporting concepts"}, {"refs": [{"id": "ref-for-boolean\u2460\u2460"}], "title": "3.4. Policy container inheritance"}, {"refs": [{"id": "ref-for-boolean\u2460\u2461"}, {"id": "ref-for-boolean\u2460\u2462"}], "title": "3.6. Modifications to navigable-traversing algorithms"}, {"refs": [{"id": "ref-for-boolean\u2460\u2463"}], "title": "3.7. Modifications to the focusing algorithms"}, {"refs": [{"id": "ref-for-boolean\u2460\u2466"}, {"id": "ref-for-boolean\u2460\u2467"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-boolean\u2460\u2468"}], "title": "3.8.6. Browsing context group swap"}, {"refs": [{"id": "ref-for-boolean\u2461\u24ea"}, {"id": "ref-for-boolean\u2461\u2460"}, {"id": "ref-for-boolean\u2461\u2461"}, {"id": "ref-for-boolean\u2461\u2462"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['7b0d918d'] = {"dfnID": "7b0d918d", "url": "https://infra.spec.whatwg.org/#iteration-break", "dfnText": "break", "refSections": [{"refs": [{"id": "ref-for-iteration-break"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-iteration-break\u2460"}], "title": "3.5.4. Top-level traversables"}, {"refs": [{"id": "ref-for-iteration-break\u2461"}], "title": "3.7. Modifications to the focusing algorithms"}, {"refs": [{"id": "ref-for-iteration-break\u2462"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}], "external": true};
window.dfnpanelData['ae8def21'] = {"dfnID": "ae8def21", "url": "https://infra.spec.whatwg.org/#list-contain", "dfnText": "contain", "refSections": [{"refs": [{"id": "ref-for-list-contain"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-list-contain\u2460"}, {"id": "ref-for-list-contain\u2461"}], "title": "3.7. Modifications to the focusing algorithms"}, {"refs": [{"id": "ref-for-list-contain\u2462"}], "title": "3.8.1. The `Supports-Loading-Mode` HTTP response header"}, {"refs": [{"id": "ref-for-list-contain\u2463"}, {"id": "ref-for-list-contain\u2464"}], "title": "4.2.1. Algorithms"}, {"refs": [{"id": "ref-for-list-contain\u2465"}, {"id": "ref-for-list-contain\u2466"}, {"id": "ref-for-list-contain\u2467"}, {"id": "ref-for-list-contain\u2468"}], "title": "4.3. Permissions Policies"}, {"refs": [{"id": "ref-for-list-contain\u2460\u24ea"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['f937b7b6'] = {"dfnID": "f937b7b6", "url": "https://infra.spec.whatwg.org/#iteration-continue", "dfnText": "continue", "refSections": [{"refs": [{"id": "ref-for-iteration-continue"}], "title": "3.6. Modifications to navigable-traversing algorithms"}], "external": true};
window.dfnpanelData['03afaf9c'] = {"dfnID": "03afaf9c", "url": "https://infra.spec.whatwg.org/#list-empty", "dfnText": "empty", "refSections": [{"refs": [{"id": "ref-for-list-empty"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['9c05f1bf'] = {"dfnID": "9c05f1bf", "url": "https://infra.spec.whatwg.org/#string-ends-with", "dfnText": "ends with", "refSections": [{"refs": [{"id": "ref-for-string-ends-with"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": true};
window.dfnpanelData['75393c04'] = {"dfnID": "75393c04", "url": "https://infra.spec.whatwg.org/#list-contain", "dfnText": "exist (for list)", "refSections": [{"refs": [{"id": "ref-for-list-contain"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-list-contain\u2460"}, {"id": "ref-for-list-contain\u2461"}], "title": "3.7. Modifications to the focusing algorithms"}, {"refs": [{"id": "ref-for-list-contain\u2462"}], "title": "3.8.1. The `Supports-Loading-Mode` HTTP response header"}, {"refs": [{"id": "ref-for-list-contain\u2463"}, {"id": "ref-for-list-contain\u2464"}], "title": "4.2.1. Algorithms"}, {"refs": [{"id": "ref-for-list-contain\u2465"}, {"id": "ref-for-list-contain\u2466"}, {"id": "ref-for-list-contain\u2467"}, {"id": "ref-for-list-contain\u2468"}], "title": "4.3. Permissions Policies"}, {"refs": [{"id": "ref-for-list-contain\u2460\u24ea"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['1243a891'] = {"dfnID": "1243a891", "url": "https://infra.spec.whatwg.org/#map-exists", "dfnText": "exist (for map)", "refSections": [{"refs": [{"id": "ref-for-map-exists"}, {"id": "ref-for-map-exists\u2460"}, {"id": "ref-for-map-exists\u2461"}, {"id": "ref-for-map-exists\u2462"}, {"id": "ref-for-map-exists\u2463"}, {"id": "ref-for-map-exists\u2464"}], "title": "2.2. Fenced frame config mapping"}, {"refs": [{"id": "ref-for-map-exists\u2465"}, {"id": "ref-for-map-exists\u2466"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-map-exists\u2467"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-map-exists\u2468"}], "title": "3.8.5. Actual navigation changes"}], "external": true};
window.dfnpanelData['d8f8bd6e'] = {"dfnID": "d8f8bd6e", "url": "https://infra.spec.whatwg.org/#list-extend", "dfnText": "extend", "refSections": [{"refs": [{"id": "ref-for-list-extend"}, {"id": "ref-for-list-extend\u2460"}], "title": "3.6. Modifications to navigable-traversing algorithms"}], "external": true};
window.dfnpanelData['16d07e10'] = {"dfnID": "16d07e10", "url": "https://infra.spec.whatwg.org/#list-iterate", "dfnText": "for each (for list)", "refSections": [{"refs": [{"id": "ref-for-list-iterate"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-list-iterate\u2460"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-list-iterate\u2461"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-list-iterate\u2462"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-list-iterate\u2463"}], "title": "3.6. Modifications to navigable-traversing algorithms"}, {"refs": [{"id": "ref-for-list-iterate\u2464"}, {"id": "ref-for-list-iterate\u2465"}, {"id": "ref-for-list-iterate\u2466"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['45209803'] = {"dfnID": "45209803", "url": "https://infra.spec.whatwg.org/#map-iterate", "dfnText": "for each (for map)", "refSections": [{"refs": [{"id": "ref-for-map-iterate"}], "title": "2.2. Fenced frame config mapping"}, {"refs": [{"id": "ref-for-map-iterate\u2460"}, {"id": "ref-for-map-iterate\u2461"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-map-iterate\u2462"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-map-iterate\u2463"}], "title": "3.8.5. Actual navigation changes"}], "external": true};
window.dfnpanelData['f052b1ea'] = {"dfnID": "f052b1ea", "url": "https://infra.spec.whatwg.org/#html-namespace", "dfnText": "html namespace", "refSections": [{"refs": [{"id": "ref-for-html-namespace"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['860300d4'] = {"dfnID": "860300d4", "url": "https://infra.spec.whatwg.org/#implementation-defined", "dfnText": "implementation-defined", "refSections": [{"refs": [{"id": "ref-for-implementation-defined"}, {"id": "ref-for-implementation-defined\u2460"}], "title": "2.3.3. The fenced frame config struct"}], "external": true};
window.dfnpanelData['c88f3887'] = {"dfnID": "c88f3887", "url": "https://infra.spec.whatwg.org/#struct-item", "dfnText": "item", "refSections": [{"refs": [{"id": "ref-for-struct-item"}, {"id": "ref-for-struct-item\u2460"}, {"id": "ref-for-struct-item\u2461"}, {"id": "ref-for-struct-item\u2462"}, {"id": "ref-for-struct-item\u2463"}, {"id": "ref-for-struct-item\u2464"}, {"id": "ref-for-struct-item\u2465"}, {"id": "ref-for-struct-item\u2466"}, {"id": "ref-for-struct-item\u2467"}, {"id": "ref-for-struct-item\u2468"}, {"id": "ref-for-struct-item\u2460\u24ea"}, {"id": "ref-for-struct-item\u2460\u2460"}, {"id": "ref-for-struct-item\u2460\u2461"}, {"id": "ref-for-struct-item\u2460\u2462"}, {"id": "ref-for-struct-item\u2460\u2463"}, {"id": "ref-for-struct-item\u2460\u2464"}, {"id": "ref-for-struct-item\u2460\u2465"}, {"id": "ref-for-struct-item\u2460\u2466"}, {"id": "ref-for-struct-item\u2460\u2467"}, {"id": "ref-for-struct-item\u2460\u2468"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-struct-item\u2461\u24ea"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-struct-item\u2461\u2460"}, {"id": "ref-for-struct-item\u2461\u2461"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-struct-item\u2461\u2462"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-struct-item\u2461\u2463"}], "title": "3.2. Document supporting concepts"}, {"refs": [{"id": "ref-for-struct-item\u2461\u2464"}, {"id": "ref-for-struct-item\u2461\u2465"}], "title": "3.8.5. Actual navigation changes"}], "external": true};
window.dfnpanelData['efe8653e'] = {"dfnID": "efe8653e", "url": "https://infra.spec.whatwg.org/#map-iterate", "dfnText": "iterate", "refSections": [{"refs": [{"id": "ref-for-map-iterate"}], "title": "2.2. Fenced frame config mapping"}, {"refs": [{"id": "ref-for-map-iterate\u2460"}, {"id": "ref-for-map-iterate\u2461"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-map-iterate\u2462"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-map-iterate\u2463"}], "title": "3.8.5. Actual navigation changes"}], "external": true};
window.dfnpanelData['31db57e6'] = {"dfnID": "31db57e6", "url": "https://infra.spec.whatwg.org/#map-getting-the-keys", "dfnText": "keys", "refSections": [{"refs": [{"id": "ref-for-map-getting-the-keys"}, {"id": "ref-for-map-getting-the-keys\u2460"}, {"id": "ref-for-map-getting-the-keys\u2461"}], "title": "2.2. Fenced frame config mapping"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2462"}, {"id": "ref-for-map-getting-the-keys\u2463"}, {"id": "ref-for-map-getting-the-keys\u2464"}, {"id": "ref-for-map-getting-the-keys\u2465"}, {"id": "ref-for-map-getting-the-keys\u2466"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2467"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2468"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2460\u24ea"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2460\u2460"}], "title": "3.2. Document supporting concepts"}, {"refs": [{"id": "ref-for-map-getting-the-keys\u2460\u2461"}], "title": "3.8.5. Actual navigation changes"}], "external": true};
window.dfnpanelData['649608b9'] = {"dfnID": "649608b9", "url": "https://infra.spec.whatwg.org/#list", "dfnText": "list", "refSections": [{"refs": [{"id": "ref-for-list"}, {"id": "ref-for-list\u2460"}, {"id": "ref-for-list\u2461"}, {"id": "ref-for-list\u2462"}, {"id": "ref-for-list\u2463"}, {"id": "ref-for-list\u2464"}, {"id": "ref-for-list\u2465"}, {"id": "ref-for-list\u2466"}, {"id": "ref-for-list\u2467"}, {"id": "ref-for-list\u2468"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-list\u2460\u24ea"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-list\u2460\u2460"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-list\u2460\u2461"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-list\u2460\u2462"}], "title": "3.2. Document supporting concepts"}, {"refs": [{"id": "ref-for-list\u2460\u2463"}, {"id": "ref-for-list\u2460\u2464"}], "title": "3.6. Modifications to navigable-traversing algorithms"}, {"refs": [{"id": "ref-for-list\u2460\u2465"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['3fca5a9e'] = {"dfnID": "3fca5a9e", "url": "https://infra.spec.whatwg.org/#ordered-map", "dfnText": "map", "refSections": [{"refs": [{"id": "ref-for-ordered-map"}, {"id": "ref-for-ordered-map\u2460"}, {"id": "ref-for-ordered-map\u2461"}], "title": "2.2. Fenced frame config mapping"}, {"refs": [{"id": "ref-for-ordered-map\u2462"}, {"id": "ref-for-ordered-map\u2463"}, {"id": "ref-for-ordered-map\u2464"}, {"id": "ref-for-ordered-map\u2465"}, {"id": "ref-for-ordered-map\u2466"}, {"id": "ref-for-ordered-map\u2467"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-ordered-map\u2468"}, {"id": "ref-for-ordered-map\u2460\u24ea"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-ordered-map\u2460\u2460"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-ordered-map\u2460\u2461"}], "title": "3.2. Document supporting concepts"}, {"refs": [{"id": "ref-for-ordered-map\u2460\u2462"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-ordered-map\u2460\u2463"}, {"id": "ref-for-ordered-map\u2460\u2464"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['84b454ff'] = {"dfnID": "84b454ff", "url": "https://infra.spec.whatwg.org/#ordered-map", "dfnText": "ordered map", "refSections": [{"refs": [{"id": "ref-for-ordered-map"}, {"id": "ref-for-ordered-map\u2460"}, {"id": "ref-for-ordered-map\u2461"}], "title": "2.2. Fenced frame config mapping"}, {"refs": [{"id": "ref-for-ordered-map\u2462"}, {"id": "ref-for-ordered-map\u2463"}, {"id": "ref-for-ordered-map\u2464"}, {"id": "ref-for-ordered-map\u2465"}, {"id": "ref-for-ordered-map\u2466"}, {"id": "ref-for-ordered-map\u2467"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-ordered-map\u2468"}, {"id": "ref-for-ordered-map\u2460\u24ea"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-ordered-map\u2460\u2460"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-ordered-map\u2460\u2461"}], "title": "3.2. Document supporting concepts"}, {"refs": [{"id": "ref-for-ordered-map\u2460\u2462"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-ordered-map\u2460\u2463"}, {"id": "ref-for-ordered-map\u2460\u2464"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['7d4424b2'] = {"dfnID": "7d4424b2", "url": "https://infra.spec.whatwg.org/#map-remove", "dfnText": "remove", "refSections": [{"refs": [{"id": "ref-for-map-remove"}], "title": "2.2. Fenced frame config mapping"}], "external": true};
window.dfnpanelData['0e6b2056'] = {"dfnID": "0e6b2056", "url": "https://infra.spec.whatwg.org/#map-set", "dfnText": "set", "refSections": [{"refs": [{"id": "ref-for-map-set"}, {"id": "ref-for-map-set\u2460"}, {"id": "ref-for-map-set\u2461"}], "title": "2.2. Fenced frame config mapping"}, {"refs": [{"id": "ref-for-map-set\u2462"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-map-set\u2463"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": true};
window.dfnpanelData['653d0848'] = {"dfnID": "653d0848", "url": "https://infra.spec.whatwg.org/#map-size", "dfnText": "size", "refSections": [{"refs": [{"id": "ref-for-map-size"}, {"id": "ref-for-map-size\u2460"}], "title": "2.2. Fenced frame config mapping"}], "external": true};
window.dfnpanelData['54627f47'] = {"dfnID": "54627f47", "url": "https://infra.spec.whatwg.org/#string-starts-with", "dfnText": "starts with", "refSections": [{"refs": [{"id": "ref-for-string-starts-with"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-string-starts-with\u2460"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-string-starts-with\u2461"}], "title": "2.4. The Fence interface"}], "external": true};
window.dfnpanelData['0698d556'] = {"dfnID": "0698d556", "url": "https://infra.spec.whatwg.org/#string", "dfnText": "string", "refSections": [{"refs": [{"id": "ref-for-string"}, {"id": "ref-for-string\u2460"}, {"id": "ref-for-string\u2461"}, {"id": "ref-for-string\u2462"}, {"id": "ref-for-string\u2463"}, {"id": "ref-for-string\u2464"}, {"id": "ref-for-string\u2465"}, {"id": "ref-for-string\u2466"}, {"id": "ref-for-string\u2467"}, {"id": "ref-for-string\u2468"}, {"id": "ref-for-string\u2460\u24ea"}, {"id": "ref-for-string\u2460\u2460"}, {"id": "ref-for-string\u2460\u2461"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-string\u2460\u2462"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-string\u2460\u2463"}, {"id": "ref-for-string\u2460\u2464"}, {"id": "ref-for-string\u2460\u2465"}, {"id": "ref-for-string\u2460\u2466"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-string\u2460\u2467"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-string\u2460\u2468"}], "title": "3.2. Document supporting concepts"}, {"refs": [{"id": "ref-for-string\u2461\u24ea"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-string\u2461\u2460"}], "title": "4.2. Content Security Policy"}], "external": true};
window.dfnpanelData['984221ca'] = {"dfnID": "984221ca", "url": "https://infra.spec.whatwg.org/#struct", "dfnText": "struct", "refSections": [{"refs": [{"id": "ref-for-struct"}, {"id": "ref-for-struct\u2460"}, {"id": "ref-for-struct\u2461"}, {"id": "ref-for-struct\u2462"}, {"id": "ref-for-struct\u2463"}, {"id": "ref-for-struct\u2464"}, {"id": "ref-for-struct\u2465"}, {"id": "ref-for-struct\u2466"}, {"id": "ref-for-struct\u2467"}, {"id": "ref-for-struct\u2468"}, {"id": "ref-for-struct\u2460\u24ea"}, {"id": "ref-for-struct\u2460\u2460"}, {"id": "ref-for-struct\u2460\u2461"}, {"id": "ref-for-struct\u2460\u2462"}, {"id": "ref-for-struct\u2460\u2463"}, {"id": "ref-for-struct\u2460\u2464"}, {"id": "ref-for-struct\u2460\u2465"}, {"id": "ref-for-struct\u2460\u2466"}, {"id": "ref-for-struct\u2460\u2467"}, {"id": "ref-for-struct\u2460\u2468"}, {"id": "ref-for-struct\u2461\u24ea"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-struct\u2461\u2460"}, {"id": "ref-for-struct\u2461\u2461"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-struct\u2461\u2462"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-struct\u2461\u2463"}], "title": "3.2. Document supporting concepts"}, {"refs": [{"id": "ref-for-struct\u2461\u2464"}, {"id": "ref-for-struct\u2461\u2465"}], "title": "3.8.5. Actual navigation changes"}], "external": true};
window.dfnpanelData['5c7fa56b'] = {"dfnID": "5c7fa56b", "url": "https://infra.spec.whatwg.org/#set-subset", "dfnText": "subset", "refSections": [{"refs": [{"id": "ref-for-set-subset"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['5eb733b4'] = {"dfnID": "5eb733b4", "url": "https://infra.spec.whatwg.org/#set-union", "dfnText": "union", "refSections": [{"refs": [{"id": "ref-for-set-union"}, {"id": "ref-for-set-union\u2460"}], "title": "3.8.5. Actual navigation changes"}], "external": true};
window.dfnpanelData['12d6b9a8'] = {"dfnID": "12d6b9a8", "url": "https://infra.spec.whatwg.org/#map-getting-the-values", "dfnText": "values", "refSections": [{"refs": [{"id": "ref-for-map-getting-the-values"}, {"id": "ref-for-map-getting-the-values\u2460"}, {"id": "ref-for-map-getting-the-values\u2461"}], "title": "2.2. Fenced frame config mapping"}, {"refs": [{"id": "ref-for-map-getting-the-values\u2462"}, {"id": "ref-for-map-getting-the-values\u2463"}, {"id": "ref-for-map-getting-the-values\u2464"}, {"id": "ref-for-map-getting-the-values\u2465"}, {"id": "ref-for-map-getting-the-values\u2466"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-map-getting-the-values\u2467"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-map-getting-the-values\u2468"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-map-getting-the-values\u2460\u24ea"}], "title": "3.2. Document supporting concepts"}, {"refs": [{"id": "ref-for-map-getting-the-values\u2460\u2460"}], "title": "3.8.5. Actual navigation changes"}], "external": true};
window.dfnpanelData['cbdc89b4'] = {"dfnID": "cbdc89b4", "url": "https://infra.spec.whatwg.org/#iteration-while", "dfnText": "while", "refSections": [{"refs": [{"id": "ref-for-iteration-while"}], "title": "3.5.4. Top-level traversables"}], "external": true};
window.dfnpanelData['333b39ba'] = {"dfnID": "333b39ba", "url": "https://w3c.github.io/webappsec-permissions-policy/#default-allowlist-self", "dfnText": "'self'", "refSections": [{"refs": [{"id": "ref-for-default-allowlist-self"}, {"id": "ref-for-default-allowlist-self\u2460"}, {"id": "ref-for-default-allowlist-self\u2461"}], "title": "4.3. Permissions Policies"}], "external": true};
window.dfnpanelData['a4bd3a02'] = {"dfnID": "a4bd3a02", "url": "https://w3c.github.io/webappsec-permissions-policy/#create-for-navigable", "dfnText": "Create a Permissions Policy for a navigable", "refSections": [{"refs": [{"id": "ref-for-create-for-navigable"}, {"id": "ref-for-create-for-navigable\u2460"}, {"id": "ref-for-create-for-navigable\u2461"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['60a07537'] = {"dfnID": "60a07537", "url": "https://w3c.github.io/webappsec-permissions-policy/#create-from-response", "dfnText": "Create a Permissions Policy for a navigable from response", "refSections": [{"refs": [{"id": "ref-for-create-from-response"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['ed19a3f6'] = {"dfnID": "ed19a3f6", "url": "https://w3c.github.io/webappsec-permissions-policy/#define-inherited-policy-in-container", "dfnText": "Define an inherited policy for feature in container at origin", "refSections": [{"refs": [{"id": "ref-for-define-inherited-policy-in-container"}, {"id": "ref-for-define-inherited-policy-in-container\u2460"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['1ff5a349'] = {"dfnID": "1ff5a349", "url": "https://w3c.github.io/webappsec-permissions-policy/#is-feature-enabled", "dfnText": "Is feature enabled in document for origin?", "refSections": [{"refs": [{"id": "ref-for-is-feature-enabled"}, {"id": "ref-for-is-feature-enabled\u2460"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['e8285008'] = {"dfnID": "e8285008", "url": "https://w3c.github.io/webappsec-permissions-policy/#process-policy-attributes", "dfnText": "Process permissions policy attributes", "refSections": [{"refs": [{"id": "ref-for-process-policy-attributes"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['16215713'] = {"dfnID": "16215713", "url": "https://w3c.github.io/webappsec-permissions-policy/#allowlist", "dfnText": "allowlist", "refSections": [{"refs": [{"id": "ref-for-allowlist"}, {"id": "ref-for-allowlist\u2460"}, {"id": "ref-for-allowlist\u2461"}, {"id": "ref-for-allowlist\u2462"}, {"id": "ref-for-allowlist\u2463"}], "title": "4.3. Permissions Policies"}, {"refs": [{"id": "ref-for-allowlist\u2464"}, {"id": "ref-for-allowlist\u2465"}, {"id": "ref-for-allowlist\u2466"}, {"id": "ref-for-allowlist\u2467"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['512b396d'] = {"dfnID": "512b396d", "url": "https://w3c.github.io/webappsec-permissions-policy#serialized-policy-directive", "dfnText": "ascii-serialized policy directive", "refSections": [{"refs": [{"id": "ref-for-serialized-policy-directive"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['d080b91a'] = {"dfnID": "d080b91a", "url": "https://w3c.github.io/webappsec-permissions-policy/#container-policy", "dfnText": "container policy", "refSections": [{"refs": [{"id": "ref-for-container-policy"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-container-policy\u2460"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['39c68b47'] = {"dfnID": "39c68b47", "url": "https://w3c.github.io/webappsec-permissions-policy#permissions-policy-declared-policy", "dfnText": "declared policy", "refSections": [{"refs": [{"id": "ref-for-permissions-policy-declared-policy"}, {"id": "ref-for-permissions-policy-declared-policy\u2460"}, {"id": "ref-for-permissions-policy-declared-policy\u2461"}, {"id": "ref-for-permissions-policy-declared-policy\u2462"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['1570624a'] = {"dfnID": "1570624a", "url": "https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature-default-allowlist", "dfnText": "default allowlist", "refSections": [{"refs": [{"id": "ref-for-policy-controlled-feature-default-allowlist"}, {"id": "ref-for-policy-controlled-feature-default-allowlist\u2460"}, {"id": "ref-for-policy-controlled-feature-default-allowlist\u2461"}, {"id": "ref-for-policy-controlled-feature-default-allowlist\u2462"}], "title": "4.3. Permissions Policies"}, {"refs": [{"id": "ref-for-policy-controlled-feature-default-allowlist\u2463"}, {"id": "ref-for-policy-controlled-feature-default-allowlist\u2464"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['c52780db'] = {"dfnID": "c52780db", "url": "https://w3c.github.io/webappsec-permissions-policy#permissions-policy-inherited-policy", "dfnText": "inherited policy", "refSections": [{"refs": [{"id": "ref-for-permissions-policy-inherited-policy"}, {"id": "ref-for-permissions-policy-inherited-policy\u2460"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-permissions-policy-inherited-policy\u2461"}, {"id": "ref-for-permissions-policy-inherited-policy\u2462"}], "title": "4.3. Permissions Policies"}, {"refs": [{"id": "ref-for-permissions-policy-inherited-policy\u2463"}, {"id": "ref-for-permissions-policy-inherited-policy\u2464"}, {"id": "ref-for-permissions-policy-inherited-policy\u2465"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['9a53d7fe'] = {"dfnID": "9a53d7fe", "url": "https://w3c.github.io/webappsec-permissions-policy/#inherited-policy-for-a-feature", "dfnText": "inherited policy for a feature", "refSections": [{"refs": [{"id": "ref-for-inherited-policy-for-a-feature"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-inherited-policy-for-a-feature\u2460"}], "title": "4.3. Permissions Policies"}], "external": true};
window.dfnpanelData['a11ac608'] = {"dfnID": "a11ac608", "url": "https://w3c.github.io/webappsec-permissions-policy#matches", "dfnText": "matches", "refSections": [{"refs": [{"id": "ref-for-matches"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['bd6ce462'] = {"dfnID": "bd6ce462", "url": "https://w3c.github.io/webappsec-permissions-policy#permissions-policy", "dfnText": "permissions policy", "refSections": [{"refs": [{"id": "ref-for-permissions-policy"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-permissions-policy\u2460"}, {"id": "ref-for-permissions-policy\u2461"}, {"id": "ref-for-permissions-policy\u2462"}, {"id": "ref-for-permissions-policy\u2463"}, {"id": "ref-for-permissions-policy\u2464"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['0e3ba2bf'] = {"dfnID": "0e3ba2bf", "url": "https://w3c.github.io/webappsec-permissions-policy/#permissions-policy-header", "dfnText": "permissions-policy", "refSections": [{"refs": [{"id": "ref-for-permissions-policy-header"}, {"id": "ref-for-permissions-policy-header\u2460"}, {"id": "ref-for-permissions-policy-header\u2461"}, {"id": "ref-for-permissions-policy-header\u2462"}], "title": "4.3. Permissions Policies"}], "external": true};
window.dfnpanelData['d39985e3'] = {"dfnID": "d39985e3", "url": "https://w3c.github.io/webappsec-permissions-policy#policy-directive", "dfnText": "policy directive", "refSections": [{"refs": [{"id": "ref-for-policy-directive"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['cc890cc1'] = {"dfnID": "cc890cc1", "url": "https://w3c.github.io/webappsec-permissions-policy/#policy-controlled-feature", "dfnText": "policy-controlled feature", "refSections": [{"refs": [{"id": "ref-for-policy-controlled-feature"}, {"id": "ref-for-policy-controlled-feature\u2460"}, {"id": "ref-for-policy-controlled-feature\u2461"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-policy-controlled-feature\u2462"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-policy-controlled-feature\u2463"}, {"id": "ref-for-policy-controlled-feature\u2464"}, {"id": "ref-for-policy-controlled-feature\u2465"}, {"id": "ref-for-policy-controlled-feature\u2466"}, {"id": "ref-for-policy-controlled-feature\u2467"}, {"id": "ref-for-policy-controlled-feature\u2468"}, {"id": "ref-for-policy-controlled-feature\u2460\u24ea"}, {"id": "ref-for-policy-controlled-feature\u2460\u2460"}, {"id": "ref-for-policy-controlled-feature\u2460\u2461"}, {"id": "ref-for-policy-controlled-feature\u2460\u2462"}, {"id": "ref-for-policy-controlled-feature\u2460\u2463"}], "title": "4.3. Permissions Policies"}], "external": true};
window.dfnpanelData['afef6e87'] = {"dfnID": "afef6e87", "url": "https://w3c.github.io/webappsec-permissions-policy#serialized-permissions-policy", "dfnText": "serialized permissions policy", "refSections": [{"refs": [{"id": "ref-for-serialized-permissions-policy"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['7e36d255'] = {"dfnID": "7e36d255", "url": "https://w3c.github.io/webappsec-permissions-policy#supported-features", "dfnText": "supported features", "refSections": [{"refs": [{"id": "ref-for-supported-features"}, {"id": "ref-for-supported-features\u2460"}, {"id": "ref-for-supported-features\u2461"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['d47cadd5'] = {"dfnID": "d47cadd5", "url": "https://w3c.github.io/webappsec-permissions-policy#the-special-value", "dfnText": "the special value *", "refSections": [{"refs": [{"id": "ref-for-the-special-value"}, {"id": "ref-for-the-special-value\u2460"}, {"id": "ref-for-the-special-value\u2461"}], "title": "4.3. Permissions Policies"}, {"refs": [{"id": "ref-for-the-special-value\u2462"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['1ce22483'] = {"dfnID": "1ce22483", "url": "https://wicg.github.io/nav-speculation/prerendering.html#get-the-supported-loading-modes", "dfnText": "get the supported loading modes", "refSections": [{"refs": [{"id": "ref-for-get-the-supported-loading-modes"}], "title": "3.8.1. The `Supports-Loading-Mode` HTTP response header"}], "external": true};
window.dfnpanelData['4176065d'] = {"dfnID": "4176065d", "url": "https://wicg.github.io/nav-speculation/prerendering.html#navigable-loading-mode", "dfnText": "loading mode", "refSections": [{"refs": [{"id": "ref-for-navigable-loading-mode"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-navigable-loading-mode\u2460"}], "title": "4.1. Prerendering"}], "external": true};
window.dfnpanelData['0acae8bb'] = {"dfnID": "0acae8bb", "url": "https://wicg.github.io/nav-speculation/prerendering.html#http-headerdef-supports-loading-mode", "dfnText": "supports-loading-mode", "refSections": [{"refs": [{"id": "ref-for-http-headerdef-supports-loading-mode"}, {"id": "ref-for-http-headerdef-supports-loading-mode\u2460"}, {"id": "ref-for-http-headerdef-supports-loading-mode\u2461"}], "title": "3.8.1. The `Supports-Loading-Mode` HTTP response header"}], "external": true};
window.dfnpanelData['bb0c2ce5'] = {"dfnID": "bb0c2ce5", "url": "https://w3c.github.io/webappsec-referrer-policy/#referrer-policy-no-referrer", "dfnText": "\"no-referrer\"", "refSections": [{"refs": [{"id": "ref-for-referrer-policy-no-referrer"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['44ec4d59'] = {"dfnID": "44ec4d59", "url": "https://www.rfc-editor.org/rfc/rfc8941.html#boolean", "dfnText": "boolean", "refSections": [{"refs": [{"id": "ref-for-boolean\u2460\u2464"}], "title": "3.8.2. The\n`Allow-Fenced-Frame-Automatic-Beacons` HTTP response header"}, {"refs": [{"id": "ref-for-boolean\u2460\u2465"}], "title": "3.8.3. The\n`Allow-Cross-Origin-Event-Reporting` HTTP response header"}], "external": true};
window.dfnpanelData['928a0e65'] = {"dfnID": "928a0e65", "url": "https://www.rfc-editor.org/rfc/rfc8941.html#section-1", "dfnText": "structured header", "refSections": [{"refs": [{"id": "ref-for-section-1"}], "title": "3.8.2. The\n`Allow-Fenced-Frame-Automatic-Beacons` HTTP response header"}, {"refs": [{"id": "ref-for-section-1\u2460"}], "title": "3.8.3. The\n`Allow-Cross-Origin-Event-Reporting` HTTP response header"}], "external": true};
window.dfnpanelData['e8409d67'] = {"dfnID": "e8409d67", "url": "https://www.rfc-editor.org/rfc/rfc8941.html#name-tokens", "dfnText": "token", "refSections": [{"refs": [{"id": "ref-for-name-tokens"}, {"id": "ref-for-name-tokens\u2460"}], "title": "3.8.1. The `Supports-Loading-Mode` HTTP response header"}], "external": true};
window.dfnpanelData['198d542e'] = {"dfnID": "198d542e", "url": "https://wicg.github.io/turtledove/#construct-a-pending-fenced-frame-config", "dfnText": "construct a pending fenced frame config", "refSections": [{"refs": [{"id": "ref-for-construct-a-pending-fenced-frame-config"}], "title": "2.3.2. Use cases"}], "external": true};
window.dfnpanelData['959ad97b'] = {"dfnID": "959ad97b", "url": "https://url.spec.whatwg.org/#concept-url-origin", "dfnText": "origin", "refSections": [{"refs": [{"id": "ref-for-concept-url-origin"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-concept-url-origin\u2460"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-concept-url-origin\u2461"}, {"id": "ref-for-concept-url-origin\u2462"}, {"id": "ref-for-concept-url-origin\u2463"}, {"id": "ref-for-concept-url-origin\u2464"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-concept-url-origin\u2465"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-concept-url-origin\u2466"}], "title": "4.3.1. Algorithm patches"}], "external": true};
window.dfnpanelData['3a711be7'] = {"dfnID": "3a711be7", "url": "https://url.spec.whatwg.org/#concept-url-scheme", "dfnText": "scheme", "refSections": [{"refs": [{"id": "ref-for-concept-url-scheme"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-concept-url-scheme\u2460"}], "title": "3.8.1. The `Supports-Loading-Mode` HTTP response header"}, {"refs": [{"id": "ref-for-concept-url-scheme\u2461"}], "title": "3.8.5. Actual navigation changes"}], "external": true};
window.dfnpanelData['dcffbccd'] = {"dfnID": "dcffbccd", "url": "https://url.spec.whatwg.org/#concept-url", "dfnText": "url", "refSections": [{"refs": [{"id": "ref-for-concept-url"}], "title": "1. Introduction"}, {"refs": [{"id": "ref-for-concept-url\u2460"}, {"id": "ref-for-concept-url\u2461"}, {"id": "ref-for-concept-url\u2462"}, {"id": "ref-for-concept-url\u2463"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-concept-url\u2464"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-concept-url\u2465"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-concept-url\u2466"}], "title": "3.4. Policy container inheritance"}, {"refs": [{"id": "ref-for-concept-url\u2467"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-concept-url\u2468"}], "title": "4.2. Content Security Policy"}, {"refs": [{"id": "ref-for-concept-url\u2460\u24ea"}, {"id": "ref-for-concept-url\u2460\u2460"}], "title": "4.3. Permissions Policies"}], "external": true};
window.dfnpanelData['ca3ca4ae'] = {"dfnID": "ca3ca4ae", "url": "https://url.spec.whatwg.org/#concept-url-parser", "dfnText": "url parser", "refSections": [{"refs": [{"id": "ref-for-concept-url-parser"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-concept-url-parser\u2460"}], "title": "2.4. The Fence interface"}], "external": true};
window.dfnpanelData['dca2de17'] = {"dfnID": "dca2de17", "url": "https://webidl.spec.whatwg.org/#idl-DOMException", "dfnText": "DOMException", "refSections": [{"refs": [{"id": "ref-for-idl-DOMException"}, {"id": "ref-for-idl-DOMException\u2460"}, {"id": "ref-for-idl-DOMException\u2461"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": true};
window.dfnpanelData['8855a9aa'] = {"dfnID": "8855a9aa", "url": "https://webidl.spec.whatwg.org/#idl-DOMString", "dfnText": "DOMString", "refSections": [{"refs": [{"id": "ref-for-idl-DOMString"}, {"id": "ref-for-idl-DOMString\u2460"}, {"id": "ref-for-idl-DOMString\u2461"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-idl-DOMString\u2462"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-idl-DOMString\u2463"}, {"id": "ref-for-idl-DOMString\u2464"}, {"id": "ref-for-idl-DOMString\u2465"}, {"id": "ref-for-idl-DOMString\u2466"}], "title": "2.4. The Fence interface"}], "external": true};
window.dfnpanelData['d54f5897'] = {"dfnID": "d54f5897", "url": "https://webidl.spec.whatwg.org/#datacloneerror", "dfnText": "DataCloneError", "refSections": [{"refs": [{"id": "ref-for-datacloneerror"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": true};
window.dfnpanelData['889e932f'] = {"dfnID": "889e932f", "url": "https://webidl.spec.whatwg.org/#Exposed", "dfnText": "Exposed", "refSections": [{"refs": [{"id": "ref-for-Exposed"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-Exposed\u2460"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-Exposed\u2461"}], "title": "2.4. The Fence interface"}], "external": true};
window.dfnpanelData['bdbd19d1'] = {"dfnID": "bdbd19d1", "url": "https://webidl.spec.whatwg.org/#idl-promise", "dfnText": "Promise", "refSections": [{"refs": [{"id": "ref-for-idl-promise"}, {"id": "ref-for-idl-promise\u2460"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": true};
window.dfnpanelData['21ecf38f'] = {"dfnID": "21ecf38f", "url": "https://webidl.spec.whatwg.org/#PutForwards", "dfnText": "PutForwards", "refSections": [{"refs": [{"id": "ref-for-PutForwards"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['a5c91173'] = {"dfnID": "a5c91173", "url": "https://webidl.spec.whatwg.org/#SameObject", "dfnText": "SameObject", "refSections": [{"refs": [{"id": "ref-for-SameObject"}], "title": "2. The fencedframe element"}], "external": true};
window.dfnpanelData['82ca3efc'] = {"dfnID": "82ca3efc", "url": "https://webidl.spec.whatwg.org/#exceptiondef-typeerror", "dfnText": "TypeError", "refSections": [{"refs": [{"id": "ref-for-exceptiondef-typeerror"}, {"id": "ref-for-exceptiondef-typeerror\u2460"}, {"id": "ref-for-exceptiondef-typeerror\u2461"}, {"id": "ref-for-exceptiondef-typeerror\u2462"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-exceptiondef-typeerror\u2463"}, {"id": "ref-for-exceptiondef-typeerror\u2464"}, {"id": "ref-for-exceptiondef-typeerror\u2465"}, {"id": "ref-for-exceptiondef-typeerror\u2466"}], "title": "2.4. The Fence interface"}], "external": true};
window.dfnpanelData['b0d7f3c3'] = {"dfnID": "b0d7f3c3", "url": "https://webidl.spec.whatwg.org/#idl-USVString", "dfnText": "USVString", "refSections": [{"refs": [{"id": "ref-for-idl-USVString"}, {"id": "ref-for-idl-USVString\u2460"}, {"id": "ref-for-idl-USVString\u2461"}, {"id": "ref-for-idl-USVString\u2462"}, {"id": "ref-for-idl-USVString\u2463"}, {"id": "ref-for-idl-USVString\u2464"}, {"id": "ref-for-idl-USVString\u2465"}, {"id": "ref-for-idl-USVString\u2466"}, {"id": "ref-for-idl-USVString\u2467"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-idl-USVString\u2468"}], "title": "2.4. The Fence interface"}], "external": true};
window.dfnpanelData['dacde8b5'] = {"dfnID": "dacde8b5", "url": "https://webidl.spec.whatwg.org/#a-new-promise", "dfnText": "a new promise", "refSections": [{"refs": [{"id": "ref-for-a-new-promise"}, {"id": "ref-for-a-new-promise\u2460"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": true};
window.dfnpanelData['5372cca8'] = {"dfnID": "5372cca8", "url": "https://webidl.spec.whatwg.org/#idl-boolean", "dfnText": "boolean", "refSections": [{"refs": [{"id": "ref-for-idl-boolean"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-idl-boolean\u2460"}, {"id": "ref-for-idl-boolean\u2461"}], "title": "2.4. The Fence interface"}], "external": true};
window.dfnpanelData['56f81a8e'] = {"dfnID": "56f81a8e", "url": "https://webidl.spec.whatwg.org/#new", "dfnText": "new", "refSections": [{"refs": [{"id": "ref-for-new"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-new\u2460"}], "title": "2.4. The Fence interface"}], "external": true};
window.dfnpanelData['7787d359'] = {"dfnID": "7787d359", "url": "https://webidl.spec.whatwg.org/#idl-record", "dfnText": "record", "refSections": [{"refs": [{"id": "ref-for-idl-record"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": true};
window.dfnpanelData['3b90bdcd'] = {"dfnID": "3b90bdcd", "url": "https://webidl.spec.whatwg.org/#resolve", "dfnText": "resolve", "refSections": [{"refs": [{"id": "ref-for-resolve"}, {"id": "ref-for-resolve\u2460"}, {"id": "ref-for-resolve\u2461"}, {"id": "ref-for-resolve\u2462"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": true};
window.dfnpanelData['9cce47fd'] = {"dfnID": "9cce47fd", "url": "https://webidl.spec.whatwg.org/#idl-sequence", "dfnText": "sequence", "refSections": [{"refs": [{"id": "ref-for-idl-sequence"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-idl-sequence\u2460"}, {"id": "ref-for-idl-sequence\u2461"}], "title": "2.4. The Fence interface"}], "external": true};
window.dfnpanelData['4013a022'] = {"dfnID": "4013a022", "url": "https://webidl.spec.whatwg.org/#this", "dfnText": "this", "refSections": [{"refs": [{"id": "ref-for-this"}, {"id": "ref-for-this\u2460"}, {"id": "ref-for-this\u2461"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-this\u2462"}, {"id": "ref-for-this\u2463"}, {"id": "ref-for-this\u2464"}, {"id": "ref-for-this\u2465"}, {"id": "ref-for-this\u2466"}, {"id": "ref-for-this\u2467"}, {"id": "ref-for-this\u2468"}, {"id": "ref-for-this\u2460\u24ea"}, {"id": "ref-for-this\u2460\u2460"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-this\u2460\u2461"}, {"id": "ref-for-this\u2460\u2462"}, {"id": "ref-for-this\u2460\u2463"}, {"id": "ref-for-this\u2460\u2464"}, {"id": "ref-for-this\u2460\u2465"}, {"id": "ref-for-this\u2460\u2466"}, {"id": "ref-for-this\u2460\u2467"}, {"id": "ref-for-this\u2460\u2468"}, {"id": "ref-for-this\u2461\u24ea"}, {"id": "ref-for-this\u2461\u2460"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-this\u2461\u2461"}, {"id": "ref-for-this\u2461\u2462"}], "title": "3.1. Extensions to the Window interface"}], "external": true};
window.dfnpanelData['b4cfa5ce'] = {"dfnID": "b4cfa5ce", "url": "https://webidl.spec.whatwg.org/#dfn-throw", "dfnText": "throw", "refSections": [{"refs": [{"id": "ref-for-dfn-throw"}, {"id": "ref-for-dfn-throw\u2460"}, {"id": "ref-for-dfn-throw\u2461"}, {"id": "ref-for-dfn-throw\u2462"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-dfn-throw\u2463"}, {"id": "ref-for-dfn-throw\u2464"}, {"id": "ref-for-dfn-throw\u2465"}, {"id": "ref-for-dfn-throw\u2466"}], "title": "2.4. The Fence interface"}], "external": true};
window.dfnpanelData['5f90bbfb'] = {"dfnID": "5f90bbfb", "url": "https://webidl.spec.whatwg.org/#idl-undefined", "dfnText": "undefined", "refSections": [{"refs": [{"id": "ref-for-idl-undefined"}, {"id": "ref-for-idl-undefined\u2460"}, {"id": "ref-for-idl-undefined\u2461"}, {"id": "ref-for-idl-undefined\u2462"}, {"id": "ref-for-idl-undefined\u2463"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-idl-undefined\u2464"}, {"id": "ref-for-idl-undefined\u2465"}], "title": "2.4. The Fence interface"}], "external": true};
window.dfnpanelData['e97a9688'] = {"dfnID": "e97a9688", "url": "https://webidl.spec.whatwg.org/#idl-unsigned-long", "dfnText": "unsigned long", "refSections": [{"refs": [{"id": "ref-for-idl-unsigned-long"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": true};
window.dfnpanelData['450958f7'] = {"dfnID": "450958f7", "url": "https://webidl.spec.whatwg.org/#idl-unsigned-short", "dfnText": "unsigned short", "refSections": [{"refs": [{"id": "ref-for-idl-unsigned-short"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": true};
window.dfnpanelData['elementdef-fencedframe'] = {"dfnID": "elementdef-fencedframe", "url": "#elementdef-fencedframe", "dfnText": "fencedframe", "refSections": [{"refs": [{"id": "ref-for-elementdef-fencedframe"}, {"id": "ref-for-elementdef-fencedframe\u2460"}], "title": "1. Introduction"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2461"}, {"id": "ref-for-elementdef-fencedframe\u2462"}, {"id": "ref-for-elementdef-fencedframe\u2463"}, {"id": "ref-for-elementdef-fencedframe\u2464"}, {"id": "ref-for-elementdef-fencedframe\u2465"}, {"id": "ref-for-elementdef-fencedframe\u2466"}, {"id": "ref-for-elementdef-fencedframe\u2467"}, {"id": "ref-for-elementdef-fencedframe\u2468"}, {"id": "ref-for-elementdef-fencedframe\u2460\u24ea"}, {"id": "ref-for-elementdef-fencedframe\u2460\u2460"}, {"id": "ref-for-elementdef-fencedframe\u2460\u2461"}, {"id": "ref-for-elementdef-fencedframe\u2460\u2462"}, {"id": "ref-for-elementdef-fencedframe\u2460\u2463"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2460\u2464"}], "title": "2.1. Dimension attributes"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2460\u2465"}], "title": "2.2. Fenced frame config mapping"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2460\u2466"}, {"id": "ref-for-elementdef-fencedframe\u2460\u2467"}, {"id": "ref-for-elementdef-fencedframe\u2460\u2468"}], "title": "2.3.1. Introduction"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2461\u24ea"}, {"id": "ref-for-elementdef-fencedframe\u2461\u2460"}, {"id": "ref-for-elementdef-fencedframe\u2461\u2461"}], "title": "2.3.2. Use cases"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2461\u2462"}, {"id": "ref-for-elementdef-fencedframe\u2461\u2463"}, {"id": "ref-for-elementdef-fencedframe\u2461\u2464"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2461\u2465"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2461\u2466"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2461\u2467"}, {"id": "ref-for-elementdef-fencedframe\u2461\u2468"}], "title": "2.5. New request destination"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2462\u24ea"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2462\u2460"}], "title": "3.3. Modifications to creating browsing contexts"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2462\u2461"}, {"id": "ref-for-elementdef-fencedframe\u2462\u2462"}], "title": "3.4. Policy container inheritance"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2462\u2463"}, {"id": "ref-for-elementdef-fencedframe\u2462\u2464"}, {"id": "ref-for-elementdef-fencedframe\u2462\u2465"}, {"id": "ref-for-elementdef-fencedframe\u2462\u2466"}, {"id": "ref-for-elementdef-fencedframe\u2462\u2467"}, {"id": "ref-for-elementdef-fencedframe\u2462\u2468"}, {"id": "ref-for-elementdef-fencedframe\u2463\u24ea"}, {"id": "ref-for-elementdef-fencedframe\u2463\u2460"}, {"id": "ref-for-elementdef-fencedframe\u2463\u2461"}], "title": "3.5.1. Introduction"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2463\u2462"}], "title": "3.5.2. Traversable navigables"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2463\u2463"}], "title": "3.5.3. Nested traversables"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2463\u2464"}, {"id": "ref-for-elementdef-fencedframe\u2463\u2465"}, {"id": "ref-for-elementdef-fencedframe\u2463\u2466"}, {"id": "ref-for-elementdef-fencedframe\u2463\u2467"}, {"id": "ref-for-elementdef-fencedframe\u2463\u2468"}], "title": "3.7. Modifications to the focusing algorithms"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2464\u24ea"}], "title": "3.8. Navigation"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2464\u2460"}], "title": "3.8.3. The\n`Allow-Cross-Origin-Event-Reporting` HTTP response header"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2464\u2461"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2464\u2462"}, {"id": "ref-for-elementdef-fencedframe\u2464\u2463"}, {"id": "ref-for-elementdef-fencedframe\u2464\u2464"}, {"id": "ref-for-elementdef-fencedframe\u2464\u2465"}, {"id": "ref-for-elementdef-fencedframe\u2464\u2466"}, {"id": "ref-for-elementdef-fencedframe\u2464\u2467"}, {"id": "ref-for-elementdef-fencedframe\u2464\u2468"}, {"id": "ref-for-elementdef-fencedframe\u2465\u24ea"}, {"id": "ref-for-elementdef-fencedframe\u2465\u2460"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2465\u2461"}], "title": "3.8.6. Browsing context group swap"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2465\u2462"}], "title": "4. Interactions with other specifications"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2465\u2463"}], "title": "4.1. Prerendering"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2465\u2464"}, {"id": "ref-for-elementdef-fencedframe\u2465\u2465"}], "title": "4.2. Content Security Policy"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2465\u2466"}, {"id": "ref-for-elementdef-fencedframe\u2465\u2467"}], "title": "4.2.2. New fenced-frame-src [CSP] directive"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2465\u2468"}, {"id": "ref-for-elementdef-fencedframe\u2466\u24ea"}, {"id": "ref-for-elementdef-fencedframe\u2466\u2460"}, {"id": "ref-for-elementdef-fencedframe\u2466\u2461"}, {"id": "ref-for-elementdef-fencedframe\u2466\u2462"}, {"id": "ref-for-elementdef-fencedframe\u2466\u2463"}, {"id": "ref-for-elementdef-fencedframe\u2466\u2464"}, {"id": "ref-for-elementdef-fencedframe\u2466\u2465"}, {"id": "ref-for-elementdef-fencedframe\u2466\u2466"}, {"id": "ref-for-elementdef-fencedframe\u2466\u2467"}, {"id": "ref-for-elementdef-fencedframe\u2466\u2468"}, {"id": "ref-for-elementdef-fencedframe\u2467\u24ea"}, {"id": "ref-for-elementdef-fencedframe\u2467\u2460"}, {"id": "ref-for-elementdef-fencedframe\u2467\u2461"}, {"id": "ref-for-elementdef-fencedframe\u2467\u2462"}, {"id": "ref-for-elementdef-fencedframe\u2467\u2463"}, {"id": "ref-for-elementdef-fencedframe\u2467\u2464"}, {"id": "ref-for-elementdef-fencedframe\u2467\u2465"}, {"id": "ref-for-elementdef-fencedframe\u2467\u2466"}, {"id": "ref-for-elementdef-fencedframe\u2467\u2467"}], "title": "4.3. Permissions Policies"}, {"refs": [{"id": "ref-for-elementdef-fencedframe\u2467\u2468"}, {"id": "ref-for-elementdef-fencedframe\u2468\u24ea"}, {"id": "ref-for-elementdef-fencedframe\u2468\u2460"}, {"id": "ref-for-elementdef-fencedframe\u2468\u2461"}, {"id": "ref-for-elementdef-fencedframe\u2468\u2462"}, {"id": "ref-for-elementdef-fencedframe\u2468\u2463"}], "title": "4.3.1. Algorithm patches"}], "external": false};
window.dfnpanelData['fencedframe-config'] = {"dfnID": "fencedframe-config", "url": "#fencedframe-config", "dfnText": "config", "refSections": [{"refs": [{"id": "ref-for-fencedframe-config"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-fencedframe-config\u2460"}], "title": "2.2. Fenced frame config mapping"}], "external": false};
window.dfnpanelData['fencedframe-fencedframe-sandboxing-flag-set'] = {"dfnID": "fencedframe-fencedframe-sandboxing-flag-set", "url": "#fencedframe-fencedframe-sandboxing-flag-set", "dfnText": "fencedframe sandboxing flag set", "refSections": [{"refs": [{"id": "ref-for-fencedframe-fencedframe-sandboxing-flag-set"}, {"id": "ref-for-fencedframe-fencedframe-sandboxing-flag-set\u2460"}, {"id": "ref-for-fencedframe-fencedframe-sandboxing-flag-set\u2461"}, {"id": "ref-for-fencedframe-fencedframe-sandboxing-flag-set\u2462"}, {"id": "ref-for-fencedframe-fencedframe-sandboxing-flag-set\u2463"}], "title": "2. The fencedframe element"}], "external": false};
window.dfnpanelData['dom-htmlfencedframeelement-config'] = {"dfnID": "dom-htmlfencedframeelement-config", "url": "#dom-htmlfencedframeelement-config", "dfnText": "config", "refSections": [{"refs": [{"id": "ref-for-dom-htmlfencedframeelement-config"}, {"id": "ref-for-dom-htmlfencedframeelement-config\u2460"}], "title": "2. The fencedframe element"}], "external": false};
window.dfnpanelData['element-attrdef-fencedframe-allow'] = {"dfnID": "element-attrdef-fencedframe-allow", "url": "#element-attrdef-fencedframe-allow", "dfnText": "allow", "refSections": [{"refs": [{"id": "ref-for-element-attrdef-fencedframe-allow"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-element-attrdef-fencedframe-allow\u2460"}, {"id": "ref-for-element-attrdef-fencedframe-allow\u2461"}, {"id": "ref-for-element-attrdef-fencedframe-allow\u2462"}, {"id": "ref-for-element-attrdef-fencedframe-allow\u2463"}], "title": "4.3. Permissions Policies"}, {"refs": [{"id": "ref-for-element-attrdef-fencedframe-allow\u2464"}, {"id": "ref-for-element-attrdef-fencedframe-allow\u2465"}, {"id": "ref-for-element-attrdef-fencedframe-allow\u2466"}, {"id": "ref-for-element-attrdef-fencedframe-allow\u2467"}, {"id": "ref-for-element-attrdef-fencedframe-allow\u2468"}], "title": "4.3.1. Algorithm patches"}], "external": false};
window.dfnpanelData['element-attrdef-fencedframe-sandbox'] = {"dfnID": "element-attrdef-fencedframe-sandbox", "url": "#element-attrdef-fencedframe-sandbox", "dfnText": "sandbox", "refSections": [{"refs": [{"id": "ref-for-element-attrdef-fencedframe-sandbox"}, {"id": "ref-for-element-attrdef-fencedframe-sandbox\u2460"}, {"id": "ref-for-element-attrdef-fencedframe-sandbox\u2461"}, {"id": "ref-for-element-attrdef-fencedframe-sandbox\u2462"}], "title": "2. The fencedframe element"}], "external": false};
window.dfnpanelData['dom-htmlfencedframeelement-allow'] = {"dfnID": "dom-htmlfencedframeelement-allow", "url": "#dom-htmlfencedframeelement-allow", "dfnText": "allow", "refSections": [{"refs": [{"id": "ref-for-dom-htmlfencedframeelement-allow"}], "title": "2. The fencedframe element"}], "external": false};
window.dfnpanelData['dom-htmlfencedframeelement-sandbox'] = {"dfnID": "dom-htmlfencedframeelement-sandbox", "url": "#dom-htmlfencedframeelement-sandbox", "dfnText": "sandbox", "refSections": [{"refs": [{"id": "ref-for-dom-htmlfencedframeelement-sandbox"}, {"id": "ref-for-dom-htmlfencedframeelement-sandbox\u2460"}], "title": "2. The fencedframe element"}], "external": false};
window.dfnpanelData['dom-htmlfencedframeelement-width'] = {"dfnID": "dom-htmlfencedframeelement-width", "url": "#dom-htmlfencedframeelement-width", "dfnText": "width", "refSections": [{"refs": [{"id": "ref-for-dom-htmlfencedframeelement-width"}], "title": "2. The fencedframe element"}], "external": false};
window.dfnpanelData['dom-htmlfencedframeelement-height'] = {"dfnID": "dom-htmlfencedframeelement-height", "url": "#dom-htmlfencedframeelement-height", "dfnText": "height", "refSections": [{"refs": [{"id": "ref-for-dom-htmlfencedframeelement-height"}], "title": "2. The fencedframe element"}], "external": false};
window.dfnpanelData['traversable-navigable-fenced-frame-config-mapping'] = {"dfnID": "traversable-navigable-fenced-frame-config-mapping", "url": "#traversable-navigable-fenced-frame-config-mapping", "dfnText": "fenced frame config\nmapping", "refSections": [{"refs": [{"id": "ref-for-traversable-navigable-fenced-frame-config-mapping"}], "title": "2.2. Fenced frame config mapping"}, {"refs": [{"id": "ref-for-traversable-navigable-fenced-frame-config-mapping\u2460"}, {"id": "ref-for-traversable-navigable-fenced-frame-config-mapping\u2461"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-traversable-navigable-fenced-frame-config-mapping\u2462"}, {"id": "ref-for-traversable-navigable-fenced-frame-config-mapping\u2463"}], "title": "3.8.5. Actual navigation changes"}], "external": false};
window.dfnpanelData['fenced-frame-config-mapping'] = {"dfnID": "fenced-frame-config-mapping", "url": "#fenced-frame-config-mapping", "dfnText": "fenced frame config mapping", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-mapping"}, {"id": "ref-for-fenced-frame-config-mapping\u2460"}, {"id": "ref-for-fenced-frame-config-mapping\u2461"}, {"id": "ref-for-fenced-frame-config-mapping\u2462"}, {"id": "ref-for-fenced-frame-config-mapping\u2463"}, {"id": "ref-for-fenced-frame-config-mapping\u2464"}], "title": "2.2. Fenced frame config mapping"}], "external": false};
window.dfnpanelData['fenced-frame-config-mapping-pending-config-mapping'] = {"dfnID": "fenced-frame-config-mapping-pending-config-mapping", "url": "#fenced-frame-config-mapping-pending-config-mapping", "dfnText": "pending config mapping", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-mapping-pending-config-mapping"}, {"id": "ref-for-fenced-frame-config-mapping-pending-config-mapping\u2460"}, {"id": "ref-for-fenced-frame-config-mapping-pending-config-mapping\u2461"}], "title": "2.2. Fenced frame config mapping"}], "external": false};
window.dfnpanelData['fenced-frame-config-mapping-finalized-config-mapping'] = {"dfnID": "fenced-frame-config-mapping-finalized-config-mapping", "url": "#fenced-frame-config-mapping-finalized-config-mapping", "dfnText": "finalized config mapping", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-mapping-finalized-config-mapping"}, {"id": "ref-for-fenced-frame-config-mapping-finalized-config-mapping\u2460"}, {"id": "ref-for-fenced-frame-config-mapping-finalized-config-mapping\u2461"}], "title": "2.2. Fenced frame config mapping"}, {"refs": [{"id": "ref-for-fenced-frame-config-mapping-finalized-config-mapping\u2462"}, {"id": "ref-for-fenced-frame-config-mapping-finalized-config-mapping\u2463"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": false};
window.dfnpanelData['fenced-frame-config-mapping-nested-config-mapping'] = {"dfnID": "fenced-frame-config-mapping-nested-config-mapping", "url": "#fenced-frame-config-mapping-nested-config-mapping", "dfnText": "nested config mapping", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-mapping-nested-config-mapping"}, {"id": "ref-for-fenced-frame-config-mapping-nested-config-mapping\u2460"}], "title": "2.2. Fenced frame config mapping"}], "external": false};
window.dfnpanelData['fenced-frame-config-mapping-maximum-number-of-configs'] = {"dfnID": "fenced-frame-config-mapping-maximum-number-of-configs", "url": "#fenced-frame-config-mapping-maximum-number-of-configs", "dfnText": "maximum number of\nconfigs", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-mapping-maximum-number-of-configs"}, {"id": "ref-for-fenced-frame-config-mapping-maximum-number-of-configs\u2460"}, {"id": "ref-for-fenced-frame-config-mapping-maximum-number-of-configs\u2461"}], "title": "2.2. Fenced frame config mapping"}], "external": false};
window.dfnpanelData['fenced-frame-config-mapping-find-a-config'] = {"dfnID": "fenced-frame-config-mapping-find-a-config", "url": "#fenced-frame-config-mapping-find-a-config", "dfnText": "find a config", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-mapping-find-a-config"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-fenced-frame-config-mapping-find-a-config\u2460"}], "title": "3.8.5. Actual navigation changes"}], "external": false};
window.dfnpanelData['fencedframeconfig-visibility'] = {"dfnID": "fencedframeconfig-visibility", "url": "#fencedframeconfig-visibility", "dfnText": "visibility", "refSections": [{"refs": [{"id": "ref-for-fencedframeconfig-visibility"}, {"id": "ref-for-fencedframeconfig-visibility\u2460"}, {"id": "ref-for-fencedframeconfig-visibility\u2461"}, {"id": "ref-for-fencedframeconfig-visibility\u2462"}, {"id": "ref-for-fencedframeconfig-visibility\u2463"}, {"id": "ref-for-fencedframeconfig-visibility\u2464"}, {"id": "ref-for-fencedframeconfig-visibility\u2465"}, {"id": "ref-for-fencedframeconfig-visibility\u2466"}], "title": "2.3.3. The fenced frame config struct"}], "external": false};
window.dfnpanelData['visibility-opaque'] = {"dfnID": "visibility-opaque", "url": "#visibility-opaque", "dfnText": "opaque", "refSections": [{"refs": [{"id": "ref-for-visibility-opaque"}, {"id": "ref-for-visibility-opaque\u2460"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['fencedframetype-size'] = {"dfnID": "fencedframetype-size", "url": "#fencedframetype-size", "dfnText": "size", "refSections": [{"refs": [{"id": "ref-for-fencedframetype-size"}, {"id": "ref-for-fencedframetype-size\u2460"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-fencedframetype-size\u2461"}, {"id": "ref-for-fencedframetype-size\u2462"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['size-width'] = {"dfnID": "size-width", "url": "#size-width", "dfnText": "width", "refSections": [{"refs": [{"id": "ref-for-size-width"}, {"id": "ref-for-size-width\u2460"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['size-height'] = {"dfnID": "size-height", "url": "#size-height", "dfnText": "height", "refSections": [{"refs": [{"id": "ref-for-size-height"}, {"id": "ref-for-size-height\u2460"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['fencedframetype-interest-group-descriptor'] = {"dfnID": "fencedframetype-interest-group-descriptor", "url": "#fencedframetype-interest-group-descriptor", "dfnText": "interest group descriptor", "refSections": [{"refs": [{"id": "ref-for-fencedframetype-interest-group-descriptor"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-fencedframetype-interest-group-descriptor\u2460"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['fencedframetype-pending-event'] = {"dfnID": "fencedframetype-pending-event", "url": "#fencedframetype-pending-event", "dfnText": "pending event", "refSections": [{"refs": [{"id": "ref-for-fencedframetype-pending-event"}, {"id": "ref-for-fencedframetype-pending-event\u2460"}], "title": "2.3.3. The fenced frame config struct"}], "external": false};
window.dfnpanelData['pending-event-destination'] = {"dfnID": "pending-event-destination", "url": "#pending-event-destination", "dfnText": "destination", "refSections": [{"refs": [{"id": "ref-for-pending-event-destination"}], "title": "2.3.3. The fenced frame config struct"}], "external": false};
window.dfnpanelData['pending-event-event'] = {"dfnID": "pending-event-event", "url": "#pending-event-event", "dfnText": "event", "refSections": [{"refs": [{"id": "ref-for-pending-event-event"}, {"id": "ref-for-pending-event-event\u2460"}], "title": "2.3.3. The fenced frame config struct"}], "external": false};
window.dfnpanelData['fencedframetype-reporting-destination-info'] = {"dfnID": "fencedframetype-reporting-destination-info", "url": "#fencedframetype-reporting-destination-info", "dfnText": "reporting destination info", "refSections": [{"refs": [{"id": "ref-for-fencedframetype-reporting-destination-info"}, {"id": "ref-for-fencedframetype-reporting-destination-info\u2460"}], "title": "2.3.3. The fenced frame config struct"}], "external": false};
window.dfnpanelData['reporting-destination-info-reporting-url-map'] = {"dfnID": "reporting-destination-info-reporting-url-map", "url": "#reporting-destination-info-reporting-url-map", "dfnText": "reporting url map", "refSections": [{"refs": [{"id": "ref-for-reporting-destination-info-reporting-url-map"}, {"id": "ref-for-reporting-destination-info-reporting-url-map\u2460"}], "title": "2.3.3. The fenced frame config struct"}], "external": false};
window.dfnpanelData['reporting-destination-info-reporting-macro-map'] = {"dfnID": "reporting-destination-info-reporting-macro-map", "url": "#reporting-destination-info-reporting-macro-map", "dfnText": "reporting macro map", "refSections": [{"refs": [{"id": "ref-for-reporting-destination-info-reporting-macro-map"}, {"id": "ref-for-reporting-destination-info-reporting-macro-map\u2460"}], "title": "2.3.3. The fenced frame config struct"}], "external": false};
window.dfnpanelData['fencedframetype-fenced-frame-reporting-map'] = {"dfnID": "fencedframetype-fenced-frame-reporting-map", "url": "#fencedframetype-fenced-frame-reporting-map", "dfnText": "fenced frame reporting map", "refSections": [{"refs": [{"id": "ref-for-fencedframetype-fenced-frame-reporting-map"}, {"id": "ref-for-fencedframetype-fenced-frame-reporting-map\u2460"}, {"id": "ref-for-fencedframetype-fenced-frame-reporting-map\u2461"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-fencedframetype-fenced-frame-reporting-map\u2462"}], "title": "2.6. Automatic Reporting"}], "external": false};
window.dfnpanelData['finalize-a-reporting-destination'] = {"dfnID": "finalize-a-reporting-destination", "url": "#finalize-a-reporting-destination", "dfnText": "finalize a reporting destination", "refSections": [{"refs": [{"id": "ref-for-finalize-a-reporting-destination"}], "title": "2.3.3. The fenced frame config struct"}], "external": false};
window.dfnpanelData['fencedframetype-fenced-frame-reporting-metadata'] = {"dfnID": "fencedframetype-fenced-frame-reporting-metadata", "url": "#fencedframetype-fenced-frame-reporting-metadata", "dfnText": "fenced frame reporting metadata", "refSections": [{"refs": [{"id": "ref-for-fencedframetype-fenced-frame-reporting-metadata"}, {"id": "ref-for-fencedframetype-fenced-frame-reporting-metadata\u2460"}], "title": "2.3.3. The fenced frame config struct"}], "external": false};
window.dfnpanelData['fenced-frame-reporting-metadata-fenced-frame-reporting-map'] = {"dfnID": "fenced-frame-reporting-metadata-fenced-frame-reporting-map", "url": "#fenced-frame-reporting-metadata-fenced-frame-reporting-map", "dfnText": "fenced frame reporting map", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-reporting-metadata-fenced-frame-reporting-map"}], "title": "2.3.3. The fenced frame config struct"}], "external": false};
window.dfnpanelData['fenced-frame-reporting-metadata-direct-seller-is-seller'] = {"dfnID": "fenced-frame-reporting-metadata-direct-seller-is-seller", "url": "#fenced-frame-reporting-metadata-direct-seller-is-seller", "dfnText": "direct seller is seller", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-reporting-metadata-direct-seller-is-seller"}], "title": "2.3.3. The fenced frame config struct"}], "external": false};
window.dfnpanelData['fenced-frame-reporting-metadata-allowed-reporting-origins'] = {"dfnID": "fenced-frame-reporting-metadata-allowed-reporting-origins", "url": "#fenced-frame-reporting-metadata-allowed-reporting-origins", "dfnText": "allowed reporting origins", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-reporting-metadata-allowed-reporting-origins"}], "title": "2.3.3. The fenced frame config struct"}], "external": false};
window.dfnpanelData['fenced-frame-reporting-metadata-attempted-custom-url-report-to-disallowed-origin'] = {"dfnID": "fenced-frame-reporting-metadata-attempted-custom-url-report-to-disallowed-origin", "url": "#fenced-frame-reporting-metadata-attempted-custom-url-report-to-disallowed-origin", "dfnText": "attempted custom url report to disallowed origin", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-reporting-metadata-attempted-custom-url-report-to-disallowed-origin"}, {"id": "ref-for-fenced-frame-reporting-metadata-attempted-custom-url-report-to-disallowed-origin\u2460"}], "title": "2.3.3. The fenced frame config struct"}], "external": false};
window.dfnpanelData['fencedframetype-automatic-beacon-event-type'] = {"dfnID": "fencedframetype-automatic-beacon-event-type", "url": "#fencedframetype-automatic-beacon-event-type", "dfnText": "automatic beacon event type", "refSections": [{"refs": [{"id": "ref-for-fencedframetype-automatic-beacon-event-type"}, {"id": "ref-for-fencedframetype-automatic-beacon-event-type\u2460"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-fencedframetype-automatic-beacon-event-type\u2461"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-fencedframetype-automatic-beacon-event-type\u2462"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-fencedframetype-automatic-beacon-event-type\u2463"}], "title": "3.2. Document supporting concepts"}, {"refs": [{"id": "ref-for-fencedframetype-automatic-beacon-event-type\u2464"}], "title": "3.8.5. Actual navigation changes"}], "external": false};
window.dfnpanelData['automatic-beacon-event-type-reservedtop_navigation_start'] = {"dfnID": "automatic-beacon-event-type-reservedtop_navigation_start", "url": "#automatic-beacon-event-type-reservedtop_navigation_start", "dfnText": "reserved.top_navigation_start", "refSections": [{"refs": [{"id": "ref-for-automatic-beacon-event-type-reservedtop_navigation_start"}, {"id": "ref-for-automatic-beacon-event-type-reservedtop_navigation_start\u2460"}], "title": "2.6. Automatic Reporting"}], "external": false};
window.dfnpanelData['automatic-beacon-event-type-reservedtop_navigation_commit'] = {"dfnID": "automatic-beacon-event-type-reservedtop_navigation_commit", "url": "#automatic-beacon-event-type-reservedtop_navigation_commit", "dfnText": "reserved.top_navigation_commit", "refSections": [{"refs": [{"id": "ref-for-automatic-beacon-event-type-reservedtop_navigation_commit"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-automatic-beacon-event-type-reservedtop_navigation_commit\u2460"}, {"id": "ref-for-automatic-beacon-event-type-reservedtop_navigation_commit\u2461"}], "title": "2.6. Automatic Reporting"}], "external": false};
window.dfnpanelData['automatic-beacon-event-type-reservedtop_navigation'] = {"dfnID": "automatic-beacon-event-type-reservedtop_navigation", "url": "#automatic-beacon-event-type-reservedtop_navigation", "dfnText": "reserved.top_navigation", "refSections": [{"refs": [{"id": "ref-for-automatic-beacon-event-type-reservedtop_navigation"}, {"id": "ref-for-automatic-beacon-event-type-reservedtop_navigation\u2460"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-automatic-beacon-event-type-reservedtop_navigation\u2461"}], "title": "2.6. Automatic Reporting"}], "external": false};
window.dfnpanelData['fencedframetype-fenced-frame-reporter'] = {"dfnID": "fencedframetype-fenced-frame-reporter", "url": "#fencedframetype-fenced-frame-reporter", "dfnText": "fenced frame reporter", "refSections": [{"refs": [{"id": "ref-for-fencedframetype-fenced-frame-reporter"}, {"id": "ref-for-fencedframetype-fenced-frame-reporter\u2460"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-fencedframetype-fenced-frame-reporter\u2461"}, {"id": "ref-for-fencedframetype-fenced-frame-reporter\u2462"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['fenced-frame-reporter-fenced-frame-reporting-metadata-reference'] = {"dfnID": "fenced-frame-reporter-fenced-frame-reporting-metadata-reference", "url": "#fenced-frame-reporter-fenced-frame-reporting-metadata-reference", "dfnText": "fenced frame reporting metadata reference", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-reporter-fenced-frame-reporting-metadata-reference"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-fenced-frame-reporter-fenced-frame-reporting-metadata-reference\u2460"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-fenced-frame-reporter-fenced-frame-reporting-metadata-reference\u2461"}], "title": "2.6. Automatic Reporting"}], "external": false};
window.dfnpanelData['fencedframetype-destination-enum-event'] = {"dfnID": "fencedframetype-destination-enum-event", "url": "#fencedframetype-destination-enum-event", "dfnText": "destination enum event", "refSections": [{"refs": [{"id": "ref-for-fencedframetype-destination-enum-event"}, {"id": "ref-for-fencedframetype-destination-enum-event\u2460"}, {"id": "ref-for-fencedframetype-destination-enum-event\u2461"}, {"id": "ref-for-fencedframetype-destination-enum-event\u2462"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-fencedframetype-destination-enum-event\u2463"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['destination-enum-event-type'] = {"dfnID": "destination-enum-event-type", "url": "#destination-enum-event-type", "dfnText": "type", "refSections": [{"refs": [{"id": "ref-for-destination-enum-event-type"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-destination-enum-event-type\u2460"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['destination-enum-event-data'] = {"dfnID": "destination-enum-event-data", "url": "#destination-enum-event-data", "dfnText": "data", "refSections": [{"refs": [{"id": "ref-for-destination-enum-event-data"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-destination-enum-event-data\u2460"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['destination-enum-event-attributionreportingenabled'] = {"dfnID": "destination-enum-event-attributionreportingenabled", "url": "#destination-enum-event-attributionreportingenabled", "dfnText": "attributionReportingEnabled", "refSections": [{"refs": [{"id": "ref-for-destination-enum-event-attributionreportingenabled"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-destination-enum-event-attributionreportingenabled\u2460"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['destination-enum-event-attributionreportingcontextorigin'] = {"dfnID": "destination-enum-event-attributionreportingcontextorigin", "url": "#destination-enum-event-attributionreportingcontextorigin", "dfnText": "attributionReportingContextOrigin", "refSections": [{"refs": [{"id": "ref-for-destination-enum-event-attributionreportingcontextorigin"}, {"id": "ref-for-destination-enum-event-attributionreportingcontextorigin\u2460"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-destination-enum-event-attributionreportingcontextorigin\u2461"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['fencedframetype-destination-url-event'] = {"dfnID": "fencedframetype-destination-url-event", "url": "#fencedframetype-destination-url-event", "dfnText": "destination URL event", "refSections": [{"refs": [{"id": "ref-for-fencedframetype-destination-url-event"}, {"id": "ref-for-fencedframetype-destination-url-event\u2460"}, {"id": "ref-for-fencedframetype-destination-url-event\u2461"}, {"id": "ref-for-fencedframetype-destination-url-event\u2462"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-fencedframetype-destination-url-event\u2463"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['fencedframetype-automatic-beacon-event'] = {"dfnID": "fencedframetype-automatic-beacon-event", "url": "#fencedframetype-automatic-beacon-event", "dfnText": "automatic beacon event", "refSections": [{"refs": [{"id": "ref-for-fencedframetype-automatic-beacon-event"}, {"id": "ref-for-fencedframetype-automatic-beacon-event\u2460"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-fencedframetype-automatic-beacon-event\u2461"}], "title": "2.6. Automatic Reporting"}], "external": false};
window.dfnpanelData['automatic-beacon-event-type'] = {"dfnID": "automatic-beacon-event-type", "url": "#automatic-beacon-event-type", "dfnText": "type", "refSections": [{"refs": [{"id": "ref-for-automatic-beacon-event-type"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-automatic-beacon-event-type\u2460"}, {"id": "ref-for-automatic-beacon-event-type\u2461"}], "title": "2.6. Automatic Reporting"}], "external": false};
window.dfnpanelData['automatic-beacon-event-data'] = {"dfnID": "automatic-beacon-event-data", "url": "#automatic-beacon-event-data", "dfnText": "data", "refSections": [{"refs": [{"id": "ref-for-automatic-beacon-event-data"}], "title": "2.6. Automatic Reporting"}], "external": false};
window.dfnpanelData['automatic-beacon-event-attributionreportingenabled'] = {"dfnID": "automatic-beacon-event-attributionreportingenabled", "url": "#automatic-beacon-event-attributionreportingenabled", "dfnText": "attributionReportingEnabled", "refSections": [{"refs": [{"id": "ref-for-automatic-beacon-event-attributionreportingenabled"}], "title": "2.6. Automatic Reporting"}], "external": false};
window.dfnpanelData['automatic-beacon-event-attributionreportingcontextorigin'] = {"dfnID": "automatic-beacon-event-attributionreportingcontextorigin", "url": "#automatic-beacon-event-attributionreportingcontextorigin", "dfnText": "attributionReportingContextOrigin", "refSections": [{"refs": [{"id": "ref-for-automatic-beacon-event-attributionreportingcontextorigin"}], "title": "2.6. Automatic Reporting"}], "external": false};
window.dfnpanelData['fencedframetype-destination-event'] = {"dfnID": "fencedframetype-destination-event", "url": "#fencedframetype-destination-event", "dfnText": "destination event", "refSections": [{"refs": [{"id": "ref-for-fencedframetype-destination-event"}, {"id": "ref-for-fencedframetype-destination-event\u2460"}, {"id": "ref-for-fencedframetype-destination-event\u2461"}], "title": "2.3.3. The fenced frame config struct"}], "external": false};
window.dfnpanelData['send-a-beacon'] = {"dfnID": "send-a-beacon", "url": "#send-a-beacon", "dfnText": "send a beacon", "refSections": [{"refs": [{"id": "ref-for-send-a-beacon"}, {"id": "ref-for-send-a-beacon\u2460"}], "title": "2.3.3. The fenced frame config struct"}], "external": false};
window.dfnpanelData['report-an-event'] = {"dfnID": "report-an-event", "url": "#report-an-event", "dfnText": "report an event", "refSections": [{"refs": [{"id": "ref-for-report-an-event"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-report-an-event\u2460"}, {"id": "ref-for-report-an-event\u2461"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-report-an-event\u2462"}, {"id": "ref-for-report-an-event\u2463"}], "title": "2.6. Automatic Reporting"}], "external": false};
window.dfnpanelData['report-a-private-aggregation-event'] = {"dfnID": "report-a-private-aggregation-event", "url": "#report-a-private-aggregation-event", "dfnText": "report a private aggregation event", "refSections": [{"refs": [{"id": "ref-for-report-a-private-aggregation-event"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['fencedframetype-exfiltration-budget-metadata'] = {"dfnID": "fencedframetype-exfiltration-budget-metadata", "url": "#fencedframetype-exfiltration-budget-metadata", "dfnText": "exfiltration budget metadata", "refSections": [{"refs": [{"id": "ref-for-fencedframetype-exfiltration-budget-metadata"}], "title": "2.3.3. The fenced frame config struct"}], "external": false};
window.dfnpanelData['exfiltration-budget-metadata-origin'] = {"dfnID": "exfiltration-budget-metadata-origin", "url": "#exfiltration-budget-metadata-origin", "dfnText": "origin", "refSections": [{"refs": [{"id": "ref-for-exfiltration-budget-metadata-origin"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['exfiltration-budget-metadata-amount-to-debit'] = {"dfnID": "exfiltration-budget-metadata-amount-to-debit", "url": "#exfiltration-budget-metadata-amount-to-debit", "dfnText": "amount to debit", "refSections": [{"refs": [{"id": "ref-for-exfiltration-budget-metadata-amount-to-debit"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['fencedframetype-exfiltration-budget-metadata-reference'] = {"dfnID": "fencedframetype-exfiltration-budget-metadata-reference", "url": "#fencedframetype-exfiltration-budget-metadata-reference", "dfnText": "exfiltration budget metadata reference", "refSections": [{"refs": [{"id": "ref-for-fencedframetype-exfiltration-budget-metadata-reference"}, {"id": "ref-for-fencedframetype-exfiltration-budget-metadata-reference\u2460"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['exfiltration-budget-metadata-reference-origin'] = {"dfnID": "exfiltration-budget-metadata-reference-origin", "url": "#exfiltration-budget-metadata-reference-origin", "dfnText": "origin", "refSections": [{"refs": [{"id": "ref-for-exfiltration-budget-metadata-reference-origin"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['exfiltration-budget-metadata-reference-amount-to-debit-reference'] = {"dfnID": "exfiltration-budget-metadata-reference-amount-to-debit-reference", "url": "#exfiltration-budget-metadata-reference-amount-to-debit-reference", "dfnText": "amount to debit reference", "refSections": [{"refs": [{"id": "ref-for-exfiltration-budget-metadata-reference-amount-to-debit-reference"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['partition-nonce'] = {"dfnID": "partition-nonce", "url": "#partition-nonce", "dfnText": "partition nonce", "refSections": [{"refs": [{"id": "ref-for-partition-nonce"}, {"id": "ref-for-partition-nonce\u2460"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['fenced-frame-config'] = {"dfnID": "fenced-frame-config", "url": "#fenced-frame-config", "dfnText": "fenced frame config", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config"}, {"id": "ref-for-fenced-frame-config\u2460"}, {"id": "ref-for-fenced-frame-config\u2461"}, {"id": "ref-for-fenced-frame-config\u2462"}, {"id": "ref-for-fenced-frame-config\u2463"}, {"id": "ref-for-fenced-frame-config\u2464"}, {"id": "ref-for-fenced-frame-config\u2465"}, {"id": "ref-for-fenced-frame-config\u2466"}], "title": "2.2. Fenced frame config mapping"}, {"refs": [{"id": "ref-for-fenced-frame-config\u2467"}, {"id": "ref-for-fenced-frame-config\u2468"}, {"id": "ref-for-fenced-frame-config\u2460\u24ea"}, {"id": "ref-for-fenced-frame-config\u2460\u2460"}, {"id": "ref-for-fenced-frame-config\u2460\u2461"}], "title": "2.3.1. Introduction"}, {"refs": [{"id": "ref-for-fenced-frame-config\u2460\u2462"}, {"id": "ref-for-fenced-frame-config\u2460\u2463"}], "title": "2.3.2. Use cases"}, {"refs": [{"id": "ref-for-fenced-frame-config\u2460\u2464"}, {"id": "ref-for-fenced-frame-config\u2460\u2465"}, {"id": "ref-for-fenced-frame-config\u2460\u2466"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-fenced-frame-config\u2460\u2467"}, {"id": "ref-for-fenced-frame-config\u2460\u2468"}, {"id": "ref-for-fenced-frame-config\u2461\u24ea"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-fenced-frame-config\u2461\u2460"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-fenced-frame-config\u2461\u2461"}, {"id": "ref-for-fenced-frame-config\u2461\u2462"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-fenced-frame-config\u2461\u2463"}, {"id": "ref-for-fenced-frame-config\u2461\u2464"}, {"id": "ref-for-fenced-frame-config\u2461\u2465"}, {"id": "ref-for-fenced-frame-config\u2461\u2466"}, {"id": "ref-for-fenced-frame-config\u2461\u2467"}], "title": "4.3. Permissions Policies"}, {"refs": [{"id": "ref-for-fenced-frame-config\u2461\u2468"}, {"id": "ref-for-fenced-frame-config\u2462\u24ea"}], "title": "4.3.1. Algorithm patches"}], "external": false};
window.dfnpanelData['fenced-frame-config-mapped-url'] = {"dfnID": "fenced-frame-config-mapped-url", "url": "#fenced-frame-config-mapped-url", "dfnText": "mapped url", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-mapped-url"}], "title": "2.3.2. Use cases"}, {"refs": [{"id": "ref-for-fenced-frame-config-mapped-url\u2460"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-fenced-frame-config-mapped-url\u2461"}, {"id": "ref-for-fenced-frame-config-mapped-url\u2462"}, {"id": "ref-for-fenced-frame-config-mapped-url\u2463"}, {"id": "ref-for-fenced-frame-config-mapped-url\u2464"}, {"id": "ref-for-fenced-frame-config-mapped-url\u2465"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-fenced-frame-config-mapped-url\u2466"}, {"id": "ref-for-fenced-frame-config-mapped-url\u2467"}], "title": "3.8.5. Actual navigation changes"}], "external": false};
window.dfnpanelData['mapped-url-value'] = {"dfnID": "mapped-url-value", "url": "#mapped-url-value", "dfnText": "value", "refSections": [{"refs": [{"id": "ref-for-mapped-url-value"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-mapped-url-value\u2460"}, {"id": "ref-for-mapped-url-value\u2461"}, {"id": "ref-for-mapped-url-value\u2462"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-mapped-url-value\u2463"}, {"id": "ref-for-mapped-url-value\u2464"}], "title": "3.8.5. Actual navigation changes"}], "external": false};
window.dfnpanelData['fenced-frame-config-container-size'] = {"dfnID": "fenced-frame-config-container-size", "url": "#fenced-frame-config-container-size", "dfnText": "container size", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-container-size"}], "title": "2.3.2. Use cases"}, {"refs": [{"id": "ref-for-fenced-frame-config-container-size\u2460"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-fenced-frame-config-container-size\u2461"}, {"id": "ref-for-fenced-frame-config-container-size\u2462"}, {"id": "ref-for-fenced-frame-config-container-size\u2463"}, {"id": "ref-for-fenced-frame-config-container-size\u2464"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['fenced-frame-config-content-size'] = {"dfnID": "fenced-frame-config-content-size", "url": "#fenced-frame-config-content-size", "dfnText": "content size", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-content-size"}], "title": "2.3.2. Use cases"}, {"refs": [{"id": "ref-for-fenced-frame-config-content-size\u2460"}, {"id": "ref-for-fenced-frame-config-content-size\u2461"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-fenced-frame-config-content-size\u2462"}, {"id": "ref-for-fenced-frame-config-content-size\u2463"}, {"id": "ref-for-fenced-frame-config-content-size\u2464"}, {"id": "ref-for-fenced-frame-config-content-size\u2465"}, {"id": "ref-for-fenced-frame-config-content-size\u2466"}, {"id": "ref-for-fenced-frame-config-content-size\u2467"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['content-size-value'] = {"dfnID": "content-size-value", "url": "#content-size-value", "dfnText": "value", "refSections": [{"refs": [{"id": "ref-for-content-size-value"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['content-size-visibility'] = {"dfnID": "content-size-visibility", "url": "#content-size-visibility", "dfnText": "visibility", "refSections": [{"refs": [{"id": "ref-for-content-size-visibility"}, {"id": "ref-for-content-size-visibility\u2460"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['fenced-frame-config-interest-group-descriptor'] = {"dfnID": "fenced-frame-config-interest-group-descriptor", "url": "#fenced-frame-config-interest-group-descriptor", "dfnText": "interest group descriptor", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-interest-group-descriptor"}, {"id": "ref-for-fenced-frame-config-interest-group-descriptor\u2460"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['interest-group-descriptor-value'] = {"dfnID": "interest-group-descriptor-value", "url": "#interest-group-descriptor-value", "dfnText": "value", "refSections": [{"refs": [{"id": "ref-for-interest-group-descriptor-value"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['fenced-frame-config-on-navigate-callback'] = {"dfnID": "fenced-frame-config-on-navigate-callback", "url": "#fenced-frame-config-on-navigate-callback", "dfnText": "on navigate callback", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-on-navigate-callback"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-fenced-frame-config-on-navigate-callback\u2460"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-fenced-frame-config-on-navigate-callback\u2461"}], "title": "3.8.5. Actual navigation changes"}], "external": false};
window.dfnpanelData['fenced-frame-config-effective-sandboxing-flags'] = {"dfnID": "fenced-frame-config-effective-sandboxing-flags", "url": "#fenced-frame-config-effective-sandboxing-flags", "dfnText": "effective sandboxing flags", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-effective-sandboxing-flags"}, {"id": "ref-for-fenced-frame-config-effective-sandboxing-flags\u2460"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-fenced-frame-config-effective-sandboxing-flags\u2461"}, {"id": "ref-for-fenced-frame-config-effective-sandboxing-flags\u2462"}, {"id": "ref-for-fenced-frame-config-effective-sandboxing-flags\u2463"}, {"id": "ref-for-fenced-frame-config-effective-sandboxing-flags\u2464"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-fenced-frame-config-effective-sandboxing-flags\u2465"}], "title": "4.3.1. Algorithm patches"}], "external": false};
window.dfnpanelData['effective-sandboxing-flags-value'] = {"dfnID": "effective-sandboxing-flags-value", "url": "#effective-sandboxing-flags-value", "dfnText": "value", "refSections": [{"refs": [{"id": "ref-for-effective-sandboxing-flags-value"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-effective-sandboxing-flags-value\u2460"}], "title": "3.8.5. Actual navigation changes"}], "external": false};
window.dfnpanelData['fenced-frame-config-effective-enabled-permissions'] = {"dfnID": "fenced-frame-config-effective-enabled-permissions", "url": "#fenced-frame-config-effective-enabled-permissions", "dfnText": "effective enabled permissions", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-effective-enabled-permissions"}], "title": "2.3.2. Use cases"}, {"refs": [{"id": "ref-for-fenced-frame-config-effective-enabled-permissions\u2460"}, {"id": "ref-for-fenced-frame-config-effective-enabled-permissions\u2461"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-fenced-frame-config-effective-enabled-permissions\u2462"}, {"id": "ref-for-fenced-frame-config-effective-enabled-permissions\u2463"}, {"id": "ref-for-fenced-frame-config-effective-enabled-permissions\u2464"}, {"id": "ref-for-fenced-frame-config-effective-enabled-permissions\u2465"}, {"id": "ref-for-fenced-frame-config-effective-enabled-permissions\u2466"}, {"id": "ref-for-fenced-frame-config-effective-enabled-permissions\u2467"}, {"id": "ref-for-fenced-frame-config-effective-enabled-permissions\u2468"}], "title": "4.3. Permissions Policies"}, {"refs": [{"id": "ref-for-fenced-frame-config-effective-enabled-permissions\u2460\u24ea"}, {"id": "ref-for-fenced-frame-config-effective-enabled-permissions\u2460\u2460"}, {"id": "ref-for-fenced-frame-config-effective-enabled-permissions\u2460\u2461"}, {"id": "ref-for-fenced-frame-config-effective-enabled-permissions\u2460\u2462"}, {"id": "ref-for-fenced-frame-config-effective-enabled-permissions\u2460\u2463"}, {"id": "ref-for-fenced-frame-config-effective-enabled-permissions\u2460\u2464"}], "title": "4.3.1. Algorithm patches"}], "external": false};
window.dfnpanelData['effective-enabled-permissions-value'] = {"dfnID": "effective-enabled-permissions-value", "url": "#effective-enabled-permissions-value", "dfnText": "value", "refSections": [{"refs": [{"id": "ref-for-effective-enabled-permissions-value"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['fenced-frame-config-fenced-frame-reporting-metadata'] = {"dfnID": "fenced-frame-config-fenced-frame-reporting-metadata", "url": "#fenced-frame-config-fenced-frame-reporting-metadata", "dfnText": "fenced frame reporting metadata", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-fenced-frame-reporting-metadata"}, {"id": "ref-for-fenced-frame-config-fenced-frame-reporting-metadata\u2460"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['fenced-frame-reporting-metadata-value'] = {"dfnID": "fenced-frame-reporting-metadata-value", "url": "#fenced-frame-reporting-metadata-value", "dfnText": "value", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-reporting-metadata-value"}, {"id": "ref-for-fenced-frame-reporting-metadata-value\u2460"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['fenced-frame-config-exfiltration-budget-metadata'] = {"dfnID": "fenced-frame-config-exfiltration-budget-metadata", "url": "#fenced-frame-config-exfiltration-budget-metadata", "dfnText": "exfiltration budget metadata", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-exfiltration-budget-metadata"}, {"id": "ref-for-fenced-frame-config-exfiltration-budget-metadata\u2460"}, {"id": "ref-for-fenced-frame-config-exfiltration-budget-metadata\u2461"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['exfiltration-budget-metadata-value'] = {"dfnID": "exfiltration-budget-metadata-value", "url": "#exfiltration-budget-metadata-value", "dfnText": "value", "refSections": [{"refs": [{"id": "ref-for-exfiltration-budget-metadata-value"}, {"id": "ref-for-exfiltration-budget-metadata-value\u2460"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['fenced-frame-config-nested-configs'] = {"dfnID": "fenced-frame-config-nested-configs", "url": "#fenced-frame-config-nested-configs", "dfnText": "nested configs", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-nested-configs"}, {"id": "ref-for-fenced-frame-config-nested-configs\u2460"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['nested-configs-value'] = {"dfnID": "nested-configs-value", "url": "#nested-configs-value", "dfnText": "value", "refSections": [{"refs": [{"id": "ref-for-nested-configs-value"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['fenced-frame-config-embedder-shared-storage-context'] = {"dfnID": "fenced-frame-config-embedder-shared-storage-context", "url": "#fenced-frame-config-embedder-shared-storage-context", "dfnText": "embedder shared storage context", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-embedder-shared-storage-context"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-fenced-frame-config-embedder-shared-storage-context\u2460"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-fenced-frame-config-embedder-shared-storage-context\u2461"}], "title": "3.8.5. Actual navigation changes"}], "external": false};
window.dfnpanelData['fenced-frame-config-is-ad-component'] = {"dfnID": "fenced-frame-config-is-ad-component", "url": "#fenced-frame-config-is-ad-component", "dfnText": "is ad component", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-is-ad-component"}], "title": "2.2. Fenced frame config mapping"}, {"refs": [{"id": "ref-for-fenced-frame-config-is-ad-component\u2460"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['fenced-frame-config-cross-origin-reporting-allowed'] = {"dfnID": "fenced-frame-config-cross-origin-reporting-allowed", "url": "#fenced-frame-config-cross-origin-reporting-allowed", "dfnText": "cross-origin reporting allowed", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-cross-origin-reporting-allowed"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-fenced-frame-config-cross-origin-reporting-allowed\u2460"}], "title": "3.8.5. Actual navigation changes"}], "external": false};
window.dfnpanelData['fenced-frame-config-instance'] = {"dfnID": "fenced-frame-config-instance", "url": "#fenced-frame-config-instance", "dfnText": "fenced frame config instance", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-instance"}], "title": "2.3.1. Introduction"}, {"refs": [{"id": "ref-for-fenced-frame-config-instance\u2460"}, {"id": "ref-for-fenced-frame-config-instance\u2461"}, {"id": "ref-for-fenced-frame-config-instance\u2462"}, {"id": "ref-for-fenced-frame-config-instance\u2463"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-fenced-frame-config-instance\u2464"}], "title": "3.8.2. The\n`Allow-Fenced-Frame-Automatic-Beacons` HTTP response header"}, {"refs": [{"id": "ref-for-fenced-frame-config-instance\u2465"}], "title": "3.8.3. The\n`Allow-Cross-Origin-Event-Reporting` HTTP response header"}, {"refs": [{"id": "ref-for-fenced-frame-config-instance\u2466"}, {"id": "ref-for-fenced-frame-config-instance\u2467"}, {"id": "ref-for-fenced-frame-config-instance\u2468"}, {"id": "ref-for-fenced-frame-config-instance\u2460\u24ea"}], "title": "3.8.5. Actual navigation changes"}], "external": false};
window.dfnpanelData['fenced-frame-config-instance-mapped-url'] = {"dfnID": "fenced-frame-config-instance-mapped-url", "url": "#fenced-frame-config-instance-mapped-url", "dfnText": "mapped url", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-instance-mapped-url"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-fenced-frame-config-instance-mapped-url\u2460"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-fenced-frame-config-instance-mapped-url\u2461"}, {"id": "ref-for-fenced-frame-config-instance-mapped-url\u2462"}, {"id": "ref-for-fenced-frame-config-instance-mapped-url\u2463"}, {"id": "ref-for-fenced-frame-config-instance-mapped-url\u2464"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-fenced-frame-config-instance-mapped-url\u2465"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-fenced-frame-config-instance-mapped-url\u2466"}], "title": "3.8.2. The\n`Allow-Fenced-Frame-Automatic-Beacons` HTTP response header"}], "external": false};
window.dfnpanelData['fenced-frame-config-instance-container-size'] = {"dfnID": "fenced-frame-config-instance-container-size", "url": "#fenced-frame-config-instance-container-size", "dfnText": "container size", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-instance-container-size"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['fenced-frame-config-instance-content-size'] = {"dfnID": "fenced-frame-config-instance-content-size", "url": "#fenced-frame-config-instance-content-size", "dfnText": "content size", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-instance-content-size"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['fenced-frame-config-instance-interest-group-descriptor'] = {"dfnID": "fenced-frame-config-instance-interest-group-descriptor", "url": "#fenced-frame-config-instance-interest-group-descriptor", "dfnText": "interest group descriptor", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-instance-interest-group-descriptor"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['fenced-frame-config-instance-on-navigate-callback'] = {"dfnID": "fenced-frame-config-instance-on-navigate-callback", "url": "#fenced-frame-config-instance-on-navigate-callback", "dfnText": "on navigate callback", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-instance-on-navigate-callback"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['fenced-frame-config-instance-effective-sandboxing-flags'] = {"dfnID": "fenced-frame-config-instance-effective-sandboxing-flags", "url": "#fenced-frame-config-instance-effective-sandboxing-flags", "dfnText": "effective sandboxing flags", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-instance-effective-sandboxing-flags"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-fenced-frame-config-instance-effective-sandboxing-flags\u2460"}, {"id": "ref-for-fenced-frame-config-instance-effective-sandboxing-flags\u2461"}], "title": "4.3.1. Algorithm patches"}], "external": false};
window.dfnpanelData['fenced-frame-config-instance-effective-enabled-permissions'] = {"dfnID": "fenced-frame-config-instance-effective-enabled-permissions", "url": "#fenced-frame-config-instance-effective-enabled-permissions", "dfnText": "effective enabled permissions", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-instance-effective-enabled-permissions"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-fenced-frame-config-instance-effective-enabled-permissions\u2460"}], "title": "4.3. Permissions Policies"}, {"refs": [{"id": "ref-for-fenced-frame-config-instance-effective-enabled-permissions\u2461"}], "title": "4.3.1. Algorithm patches"}], "external": false};
window.dfnpanelData['fenced-frame-config-instance-fenced-frame-reporter'] = {"dfnID": "fenced-frame-config-instance-fenced-frame-reporter", "url": "#fenced-frame-config-instance-fenced-frame-reporter", "dfnText": "fenced frame reporter", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-instance-fenced-frame-reporter"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-fenced-frame-config-instance-fenced-frame-reporter\u2460"}, {"id": "ref-for-fenced-frame-config-instance-fenced-frame-reporter\u2461"}, {"id": "ref-for-fenced-frame-config-instance-fenced-frame-reporter\u2462"}, {"id": "ref-for-fenced-frame-config-instance-fenced-frame-reporter\u2463"}, {"id": "ref-for-fenced-frame-config-instance-fenced-frame-reporter\u2464"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-fenced-frame-config-instance-fenced-frame-reporter\u2465"}, {"id": "ref-for-fenced-frame-config-instance-fenced-frame-reporter\u2466"}], "title": "2.6. Automatic Reporting"}], "external": false};
window.dfnpanelData['fenced-frame-config-instance-exfiltration-budget-metadata-reference'] = {"dfnID": "fenced-frame-config-instance-exfiltration-budget-metadata-reference", "url": "#fenced-frame-config-instance-exfiltration-budget-metadata-reference", "dfnText": "exfiltration budget metadata reference", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-instance-exfiltration-budget-metadata-reference"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['fenced-frame-config-instance-nested-configs'] = {"dfnID": "fenced-frame-config-instance-nested-configs", "url": "#fenced-frame-config-instance-nested-configs", "dfnText": "nested configs", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-instance-nested-configs"}], "title": "2.2. Fenced frame config mapping"}, {"refs": [{"id": "ref-for-fenced-frame-config-instance-nested-configs\u2460"}, {"id": "ref-for-fenced-frame-config-instance-nested-configs\u2461"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-fenced-frame-config-instance-nested-configs\u2462"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-fenced-frame-config-instance-nested-configs\u2463"}, {"id": "ref-for-fenced-frame-config-instance-nested-configs\u2464"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['fenced-frame-config-instance-partition-nonce'] = {"dfnID": "fenced-frame-config-instance-partition-nonce", "url": "#fenced-frame-config-instance-partition-nonce", "dfnText": "partition nonce", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-instance-partition-nonce"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['fenced-frame-config-instance-embedder-shared-storage-context'] = {"dfnID": "fenced-frame-config-instance-embedder-shared-storage-context", "url": "#fenced-frame-config-instance-embedder-shared-storage-context", "dfnText": "embedder shared storage context", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-instance-embedder-shared-storage-context"}], "title": "2.3.4. The fenced frame config instance struct"}], "external": false};
window.dfnpanelData['fenced-frame-config-instance-is-ad-component'] = {"dfnID": "fenced-frame-config-instance-is-ad-component", "url": "#fenced-frame-config-instance-is-ad-component", "dfnText": "is ad component", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-instance-is-ad-component"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-fenced-frame-config-instance-is-ad-component\u2460"}, {"id": "ref-for-fenced-frame-config-instance-is-ad-component\u2461"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-fenced-frame-config-instance-is-ad-component\u2462"}], "title": "2.6. Automatic Reporting"}], "external": false};
window.dfnpanelData['fenced-frame-config-instance-cross-origin-reporting-allowed'] = {"dfnID": "fenced-frame-config-instance-cross-origin-reporting-allowed", "url": "#fenced-frame-config-instance-cross-origin-reporting-allowed", "dfnText": "cross-origin reporting allowed", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-config-instance-cross-origin-reporting-allowed"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-fenced-frame-config-instance-cross-origin-reporting-allowed\u2460"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['instantiate-a-config'] = {"dfnID": "instantiate-a-config", "url": "#instantiate-a-config", "dfnText": "instantiate a config", "refSections": [{"refs": [{"id": "ref-for-instantiate-a-config"}, {"id": "ref-for-instantiate-a-config\u2460"}, {"id": "ref-for-instantiate-a-config\u2461"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-instantiate-a-config\u2462"}], "title": "4.3. Permissions Policies"}], "external": false};
window.dfnpanelData['browsing-context-fenced-frame-config-instance'] = {"dfnID": "browsing-context-fenced-frame-config-instance", "url": "#browsing-context-fenced-frame-config-instance", "dfnText": "fenced frame config instance", "refSections": [{"refs": [{"id": "ref-for-browsing-context-fenced-frame-config-instance"}], "title": "2.3.4. The fenced frame config instance struct"}, {"refs": [{"id": "ref-for-browsing-context-fenced-frame-config-instance\u2460"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-browsing-context-fenced-frame-config-instance\u2461"}, {"id": "ref-for-browsing-context-fenced-frame-config-instance\u2462"}, {"id": "ref-for-browsing-context-fenced-frame-config-instance\u2463"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-browsing-context-fenced-frame-config-instance\u2464"}], "title": "3.1. Extensions to the Window interface"}, {"refs": [{"id": "ref-for-browsing-context-fenced-frame-config-instance\u2465"}, {"id": "ref-for-browsing-context-fenced-frame-config-instance\u2466"}], "title": "3.3. Modifications to creating browsing contexts"}, {"refs": [{"id": "ref-for-browsing-context-fenced-frame-config-instance\u2467"}, {"id": "ref-for-browsing-context-fenced-frame-config-instance\u2468"}, {"id": "ref-for-browsing-context-fenced-frame-config-instance\u2460\u24ea"}, {"id": "ref-for-browsing-context-fenced-frame-config-instance\u2460\u2460"}, {"id": "ref-for-browsing-context-fenced-frame-config-instance\u2460\u2461"}, {"id": "ref-for-browsing-context-fenced-frame-config-instance\u2460\u2462"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-browsing-context-fenced-frame-config-instance\u2460\u2463"}, {"id": "ref-for-browsing-context-fenced-frame-config-instance\u2460\u2464"}], "title": "4.3. Permissions Policies"}, {"refs": [{"id": "ref-for-browsing-context-fenced-frame-config-instance\u2460\u2465"}, {"id": "ref-for-browsing-context-fenced-frame-config-instance\u2460\u2466"}], "title": "4.3.1. Algorithm patches"}], "external": false};
window.dfnpanelData['enumdef-opaqueproperty'] = {"dfnID": "enumdef-opaqueproperty", "url": "#enumdef-opaqueproperty", "dfnText": "OpaqueProperty", "refSections": [{"refs": [{"id": "ref-for-enumdef-opaqueproperty"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-enumdef-opaqueproperty\u2460"}, {"id": "ref-for-enumdef-opaqueproperty\u2461"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['typedefdef-fencedframeconfigsize'] = {"dfnID": "typedefdef-fencedframeconfigsize", "url": "#typedefdef-fencedframeconfigsize", "dfnText": "FencedFrameConfigSize", "refSections": [{"refs": [{"id": "ref-for-typedefdef-fencedframeconfigsize"}, {"id": "ref-for-typedefdef-fencedframeconfigsize\u2460"}, {"id": "ref-for-typedefdef-fencedframeconfigsize\u2461"}, {"id": "ref-for-typedefdef-fencedframeconfigsize\u2462"}, {"id": "ref-for-typedefdef-fencedframeconfigsize\u2463"}, {"id": "ref-for-typedefdef-fencedframeconfigsize\u2464"}, {"id": "ref-for-typedefdef-fencedframeconfigsize\u2465"}, {"id": "ref-for-typedefdef-fencedframeconfigsize\u2466"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": false};
window.dfnpanelData['fencedframeconfig'] = {"dfnID": "fencedframeconfig", "url": "#fencedframeconfig", "dfnText": "FencedFrameConfig", "refSections": [{"refs": [{"id": "ref-for-fencedframeconfig"}], "title": "1. Introduction"}, {"refs": [{"id": "ref-for-fencedframeconfig\u2460"}, {"id": "ref-for-fencedframeconfig\u2461"}, {"id": "ref-for-fencedframeconfig\u2462"}, {"id": "ref-for-fencedframeconfig\u2463"}, {"id": "ref-for-fencedframeconfig\u2464"}, {"id": "ref-for-fencedframeconfig\u2465"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-fencedframeconfig\u2466"}, {"id": "ref-for-fencedframeconfig\u2467"}], "title": "2.2. Fenced frame config mapping"}, {"refs": [{"id": "ref-for-fencedframeconfig\u2468"}], "title": "2.3.1. Introduction"}, {"refs": [{"id": "ref-for-fencedframeconfig\u2460\u24ea"}], "title": "2.3.2. Use cases"}, {"refs": [{"id": "ref-for-fencedframeconfig\u2460\u2460"}, {"id": "ref-for-fencedframeconfig\u2460\u2461"}, {"id": "ref-for-fencedframeconfig\u2460\u2462"}, {"id": "ref-for-fencedframeconfig\u2460\u2463"}, {"id": "ref-for-fencedframeconfig\u2460\u2464"}, {"id": "ref-for-fencedframeconfig\u2460\u2465"}, {"id": "ref-for-fencedframeconfig\u2460\u2466"}, {"id": "ref-for-fencedframeconfig\u2460\u2467"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-fencedframeconfig\u2460\u2468"}, {"id": "ref-for-fencedframeconfig\u2461\u24ea"}, {"id": "ref-for-fencedframeconfig\u2461\u2460"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['dom-fencedframeconfig-containerwidth'] = {"dfnID": "dom-fencedframeconfig-containerwidth", "url": "#dom-fencedframeconfig-containerwidth", "dfnText": "containerWidth", "refSections": [{"refs": [{"id": "ref-for-dom-fencedframeconfig-containerwidth"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": false};
window.dfnpanelData['dom-fencedframeconfig-containerheight'] = {"dfnID": "dom-fencedframeconfig-containerheight", "url": "#dom-fencedframeconfig-containerheight", "dfnText": "containerHeight", "refSections": [{"refs": [{"id": "ref-for-dom-fencedframeconfig-containerheight"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": false};
window.dfnpanelData['dom-fencedframeconfig-contentwidth'] = {"dfnID": "dom-fencedframeconfig-contentwidth", "url": "#dom-fencedframeconfig-contentwidth", "dfnText": "contentWidth", "refSections": [{"refs": [{"id": "ref-for-dom-fencedframeconfig-contentwidth"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": false};
window.dfnpanelData['dom-fencedframeconfig-contentheight'] = {"dfnID": "dom-fencedframeconfig-contentheight", "url": "#dom-fencedframeconfig-contentheight", "dfnText": "contentHeight", "refSections": [{"refs": [{"id": "ref-for-dom-fencedframeconfig-contentheight"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": false};
window.dfnpanelData['fencedframeconfig-url'] = {"dfnID": "fencedframeconfig-url", "url": "#fencedframeconfig-url", "dfnText": "url", "refSections": [{"refs": [{"id": "ref-for-fencedframeconfig-url"}, {"id": "ref-for-fencedframeconfig-url\u2460"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-fencedframeconfig-url\u2461"}, {"id": "ref-for-fencedframeconfig-url\u2462"}, {"id": "ref-for-fencedframeconfig-url\u2463"}, {"id": "ref-for-fencedframeconfig-url\u2464"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": false};
window.dfnpanelData['fencedframeconfig-urn'] = {"dfnID": "fencedframeconfig-urn", "url": "#fencedframeconfig-urn", "dfnText": "urn", "refSections": [{"refs": [{"id": "ref-for-fencedframeconfig-urn"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-fencedframeconfig-urn\u2460"}], "title": "2.2. Fenced frame config mapping"}, {"refs": [{"id": "ref-for-fencedframeconfig-urn\u2461"}, {"id": "ref-for-fencedframeconfig-urn\u2462"}, {"id": "ref-for-fencedframeconfig-urn\u2463"}, {"id": "ref-for-fencedframeconfig-urn\u2464"}, {"id": "ref-for-fencedframeconfig-urn\u2465"}, {"id": "ref-for-fencedframeconfig-urn\u2466"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-fencedframeconfig-urn\u2467"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['fencedframeconfig-sharedstoragecontext'] = {"dfnID": "fencedframeconfig-sharedstoragecontext", "url": "#fencedframeconfig-sharedstoragecontext", "dfnText": "sharedStorageContext", "refSections": [{"refs": [{"id": "ref-for-fencedframeconfig-sharedstoragecontext"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-fencedframeconfig-sharedstoragecontext\u2460"}, {"id": "ref-for-fencedframeconfig-sharedstoragecontext\u2461"}, {"id": "ref-for-fencedframeconfig-sharedstoragecontext\u2462"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-fencedframeconfig-sharedstoragecontext\u2463"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['fencedframeconfig-containerwidth'] = {"dfnID": "fencedframeconfig-containerwidth", "url": "#fencedframeconfig-containerwidth", "dfnText": "containerWidth", "refSections": [{"refs": [{"id": "ref-for-fencedframeconfig-containerwidth"}, {"id": "ref-for-fencedframeconfig-containerwidth\u2460"}, {"id": "ref-for-fencedframeconfig-containerwidth\u2461"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-fencedframeconfig-containerwidth\u2462"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['fencedframeconfig-containerheight'] = {"dfnID": "fencedframeconfig-containerheight", "url": "#fencedframeconfig-containerheight", "dfnText": "containerHeight", "refSections": [{"refs": [{"id": "ref-for-fencedframeconfig-containerheight"}, {"id": "ref-for-fencedframeconfig-containerheight\u2460"}, {"id": "ref-for-fencedframeconfig-containerheight\u2461"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-fencedframeconfig-containerheight\u2462"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['fencedframeconfig-contentwidth'] = {"dfnID": "fencedframeconfig-contentwidth", "url": "#fencedframeconfig-contentwidth", "dfnText": "contentWidth", "refSections": [{"refs": [{"id": "ref-for-fencedframeconfig-contentwidth"}, {"id": "ref-for-fencedframeconfig-contentwidth\u2460"}, {"id": "ref-for-fencedframeconfig-contentwidth\u2461"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-fencedframeconfig-contentwidth\u2462"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['fencedframeconfig-contentheight'] = {"dfnID": "fencedframeconfig-contentheight", "url": "#fencedframeconfig-contentheight", "dfnText": "contentHeight", "refSections": [{"refs": [{"id": "ref-for-fencedframeconfig-contentheight"}, {"id": "ref-for-fencedframeconfig-contentheight\u2460"}, {"id": "ref-for-fencedframeconfig-contentheight\u2461"}], "title": "2.3.5. The FencedFrameConfig interface"}, {"refs": [{"id": "ref-for-fencedframeconfig-contentheight\u2462"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['dom-fencedframeconfig-fencedframeconfig'] = {"dfnID": "dom-fencedframeconfig-fencedframeconfig", "url": "#dom-fencedframeconfig-fencedframeconfig", "dfnText": "FencedFrameConfig(url)", "refSections": [{"refs": [{"id": "ref-for-dom-fencedframeconfig-fencedframeconfig"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": false};
window.dfnpanelData['dom-fencedframeconfig-setsharedstoragecontext'] = {"dfnID": "dom-fencedframeconfig-setsharedstoragecontext", "url": "#dom-fencedframeconfig-setsharedstoragecontext", "dfnText": "setSharedStorageContext(contextString)", "refSections": [{"refs": [{"id": "ref-for-dom-fencedframeconfig-setsharedstoragecontext"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": false};
window.dfnpanelData['typedefdef-urnorconfig'] = {"dfnID": "typedefdef-urnorconfig", "url": "#typedefdef-urnorconfig", "dfnText": "UrnOrConfig", "refSections": [{"refs": [{"id": "ref-for-typedefdef-urnorconfig"}, {"id": "ref-for-typedefdef-urnorconfig\u2460"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": false};
window.dfnpanelData['fencedframeutil-substitute-macros'] = {"dfnID": "fencedframeutil-substitute-macros", "url": "#fencedframeutil-substitute-macros", "dfnText": "substitute macros", "refSections": [{"refs": [{"id": "ref-for-fencedframeutil-substitute-macros"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-fencedframeutil-substitute-macros\u2460"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": false};
window.dfnpanelData['dom-navigator-deprecatedreplaceinurn'] = {"dfnID": "dom-navigator-deprecatedreplaceinurn", "url": "#dom-navigator-deprecatedreplaceinurn", "dfnText": "deprecatedReplaceInURN(urnOrConfig, replacements)", "refSections": [{"refs": [{"id": "ref-for-dom-navigator-deprecatedreplaceinurn"}, {"id": "ref-for-dom-navigator-deprecatedreplaceinurn\u2460"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": false};
window.dfnpanelData['dom-navigator-deprecatedurntourl'] = {"dfnID": "dom-navigator-deprecatedurntourl", "url": "#dom-navigator-deprecatedurntourl", "dfnText": "deprecatedURNtoURL(urnOrConfig, send_reports)", "refSections": [{"refs": [{"id": "ref-for-dom-navigator-deprecatedurntourl"}, {"id": "ref-for-dom-navigator-deprecatedurntourl\u2460"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": false};
window.dfnpanelData['dom-navigator-adauctioncomponents'] = {"dfnID": "dom-navigator-adauctioncomponents", "url": "#dom-navigator-adauctioncomponents", "dfnText": "adAuctionComponents(numAdComponents)", "refSections": [{"refs": [{"id": "ref-for-dom-navigator-adauctioncomponents"}], "title": "2.3.5. The FencedFrameConfig interface"}], "external": false};
window.dfnpanelData['enumdef-fencereportingdestination'] = {"dfnID": "enumdef-fencereportingdestination", "url": "#enumdef-fencereportingdestination", "dfnText": "FenceReportingDestination", "refSections": [{"refs": [{"id": "ref-for-enumdef-fencereportingdestination"}, {"id": "ref-for-enumdef-fencereportingdestination\u2460"}, {"id": "ref-for-enumdef-fencereportingdestination\u2461"}, {"id": "ref-for-enumdef-fencereportingdestination\u2462"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-enumdef-fencereportingdestination\u2463"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-enumdef-fencereportingdestination\u2464"}], "title": "3.2. Document supporting concepts"}, {"refs": [{"id": "ref-for-enumdef-fencereportingdestination\u2465"}], "title": "3.8.5. Actual navigation changes"}], "external": false};
window.dfnpanelData['dom-fencereportingdestination-buyer'] = {"dfnID": "dom-fencereportingdestination-buyer", "url": "#dom-fencereportingdestination-buyer", "dfnText": "\"buyer\"", "refSections": [{"refs": [{"id": "ref-for-dom-fencereportingdestination-buyer"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['dictdef-fenceevent'] = {"dfnID": "dictdef-fenceevent", "url": "#dictdef-fenceevent", "dfnText": "FenceEvent", "refSections": [{"refs": [{"id": "ref-for-dictdef-fenceevent"}, {"id": "ref-for-dictdef-fenceevent\u2460"}, {"id": "ref-for-dictdef-fenceevent\u2461"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['dom-fenceevent-eventtype'] = {"dfnID": "dom-fenceevent-eventtype", "url": "#dom-fenceevent-eventtype", "dfnText": "eventType", "refSections": [{"refs": [{"id": "ref-for-dom-fenceevent-eventtype"}, {"id": "ref-for-dom-fenceevent-eventtype\u2460"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-dom-fenceevent-eventtype\u2461"}, {"id": "ref-for-dom-fenceevent-eventtype\u2462"}, {"id": "ref-for-dom-fenceevent-eventtype\u2463"}, {"id": "ref-for-dom-fenceevent-eventtype\u2464"}, {"id": "ref-for-dom-fenceevent-eventtype\u2465"}, {"id": "ref-for-dom-fenceevent-eventtype\u2466"}, {"id": "ref-for-dom-fenceevent-eventtype\u2467"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['dom-fenceevent-eventdata'] = {"dfnID": "dom-fenceevent-eventdata", "url": "#dom-fenceevent-eventdata", "dfnText": "eventData", "refSections": [{"refs": [{"id": "ref-for-dom-fenceevent-eventdata"}, {"id": "ref-for-dom-fenceevent-eventdata\u2460"}, {"id": "ref-for-dom-fenceevent-eventdata\u2461"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['dom-fenceevent-destination'] = {"dfnID": "dom-fenceevent-destination", "url": "#dom-fenceevent-destination", "dfnText": "destination", "refSections": [{"refs": [{"id": "ref-for-dom-fenceevent-destination"}, {"id": "ref-for-dom-fenceevent-destination\u2460"}, {"id": "ref-for-dom-fenceevent-destination\u2461"}, {"id": "ref-for-dom-fenceevent-destination\u2462"}, {"id": "ref-for-dom-fenceevent-destination\u2463"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['dom-fenceevent-crossoriginexposed'] = {"dfnID": "dom-fenceevent-crossoriginexposed", "url": "#dom-fenceevent-crossoriginexposed", "dfnText": "crossOriginExposed", "refSections": [{"refs": [{"id": "ref-for-dom-fenceevent-crossoriginexposed"}, {"id": "ref-for-dom-fenceevent-crossoriginexposed\u2460"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['dom-fenceevent-once'] = {"dfnID": "dom-fenceevent-once", "url": "#dom-fenceevent-once", "dfnText": "once", "refSections": [{"refs": [{"id": "ref-for-dom-fenceevent-once"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['dom-fenceevent-destinationurl'] = {"dfnID": "dom-fenceevent-destinationurl", "url": "#dom-fenceevent-destinationurl", "dfnText": "destinationURL", "refSections": [{"refs": [{"id": "ref-for-dom-fenceevent-destinationurl"}, {"id": "ref-for-dom-fenceevent-destinationurl\u2460"}, {"id": "ref-for-dom-fenceevent-destinationurl\u2461"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['typedefdef-reporteventtype'] = {"dfnID": "typedefdef-reporteventtype", "url": "#typedefdef-reporteventtype", "dfnText": "ReportEventType", "refSections": [{"refs": [{"id": "ref-for-typedefdef-reporteventtype"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['fence'] = {"dfnID": "fence", "url": "#fence", "dfnText": "Fence", "refSections": [{"refs": [{"id": "ref-for-fence"}, {"id": "ref-for-fence\u2460"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-fence\u2461"}, {"id": "ref-for-fence\u2462"}], "title": "3.1. Extensions to the Window interface"}], "external": false};
window.dfnpanelData['dom-fence-reportevent'] = {"dfnID": "dom-fence-reportevent", "url": "#dom-fence-reportevent", "dfnText": "reportEvent(event)", "refSections": [{"refs": [{"id": "ref-for-dom-fence-reportevent"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-dom-fence-reportevent\u2460"}], "title": "3.8.3. The\n`Allow-Cross-Origin-Event-Reporting` HTTP response header"}], "external": false};
window.dfnpanelData['dom-fence-setreporteventdataforautomaticbeacons'] = {"dfnID": "dom-fence-setreporteventdataforautomaticbeacons", "url": "#dom-fence-setreporteventdataforautomaticbeacons", "dfnText": "setReportEventDataForAutomaticBeacons(event)", "refSections": [{"refs": [{"id": "ref-for-dom-fence-setreporteventdataforautomaticbeacons"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['dom-fence-getnestedconfigs'] = {"dfnID": "dom-fence-getnestedconfigs", "url": "#dom-fence-getnestedconfigs", "dfnText": "getNestedConfigs()", "refSections": [{"refs": [{"id": "ref-for-dom-fence-getnestedconfigs"}], "title": "2.4. The Fence interface"}], "external": false};
window.dfnpanelData['attempt-to-send-an-automatic-beacon'] = {"dfnID": "attempt-to-send-an-automatic-beacon", "url": "#attempt-to-send-an-automatic-beacon", "dfnText": "attempt to send an automatic beacon", "refSections": [{"refs": [{"id": "ref-for-attempt-to-send-an-automatic-beacon"}, {"id": "ref-for-attempt-to-send-an-automatic-beacon\u2460"}, {"id": "ref-for-attempt-to-send-an-automatic-beacon\u2461"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-attempt-to-send-an-automatic-beacon\u2462"}, {"id": "ref-for-attempt-to-send-an-automatic-beacon\u2463"}], "title": "3.8.5. Actual navigation changes"}], "external": false};
window.dfnpanelData['window-fence'] = {"dfnID": "window-fence", "url": "#window-fence", "dfnText": "fence", "refSections": [{"refs": [{"id": "ref-for-window-fence"}], "title": "3.1. Extensions to the Window interface"}], "external": false};
window.dfnpanelData['dom-window-fence'] = {"dfnID": "dom-window-fence", "url": "#dom-window-fence", "dfnText": "fence", "refSections": [{"refs": [{"id": "ref-for-dom-window-fence"}], "title": "3.1. Extensions to the Window interface"}], "external": false};
window.dfnpanelData['fencedframetype-automatic-beacon-data'] = {"dfnID": "fencedframetype-automatic-beacon-data", "url": "#fencedframetype-automatic-beacon-data", "dfnText": "automatic beacon data", "refSections": [{"refs": [{"id": "ref-for-fencedframetype-automatic-beacon-data"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-fencedframetype-automatic-beacon-data\u2460"}], "title": "3.2. Document supporting concepts"}, {"refs": [{"id": "ref-for-fencedframetype-automatic-beacon-data\u2461"}], "title": "3.8.5. Actual navigation changes"}], "external": false};
window.dfnpanelData['automatic-beacon-data-eventdata'] = {"dfnID": "automatic-beacon-data-eventdata", "url": "#automatic-beacon-data-eventdata", "dfnText": "eventData", "refSections": [{"refs": [{"id": "ref-for-automatic-beacon-data-eventdata"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-automatic-beacon-data-eventdata\u2460"}], "title": "2.6. Automatic Reporting"}], "external": false};
window.dfnpanelData['automatic-beacon-data-destination'] = {"dfnID": "automatic-beacon-data-destination", "url": "#automatic-beacon-data-destination", "dfnText": "destination", "refSections": [{"refs": [{"id": "ref-for-automatic-beacon-data-destination"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-automatic-beacon-data-destination\u2460"}], "title": "2.6. Automatic Reporting"}], "external": false};
window.dfnpanelData['automatic-beacon-data-once'] = {"dfnID": "automatic-beacon-data-once", "url": "#automatic-beacon-data-once", "dfnText": "once", "refSections": [{"refs": [{"id": "ref-for-automatic-beacon-data-once"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-automatic-beacon-data-once\u2460"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-automatic-beacon-data-once\u2461"}], "title": "3.8.5. Actual navigation changes"}], "external": false};
window.dfnpanelData['automatic-beacon-data-crossoriginexposed'] = {"dfnID": "automatic-beacon-data-crossoriginexposed", "url": "#automatic-beacon-data-crossoriginexposed", "dfnText": "crossOriginExposed", "refSections": [{"refs": [{"id": "ref-for-automatic-beacon-data-crossoriginexposed"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-automatic-beacon-data-crossoriginexposed\u2460"}], "title": "2.6. Automatic Reporting"}], "external": false};
window.dfnpanelData['document-automatic-beacon-data-map'] = {"dfnID": "document-automatic-beacon-data-map", "url": "#document-automatic-beacon-data-map", "dfnText": "automatic beacon data map", "refSections": [{"refs": [{"id": "ref-for-document-automatic-beacon-data-map"}], "title": "2.4. The Fence interface"}, {"refs": [{"id": "ref-for-document-automatic-beacon-data-map\u2460"}, {"id": "ref-for-document-automatic-beacon-data-map\u2461"}, {"id": "ref-for-document-automatic-beacon-data-map\u2462"}], "title": "3.8.5. Actual navigation changes"}], "external": false};
window.dfnpanelData['document-automatic-beacons-allowed'] = {"dfnID": "document-automatic-beacons-allowed", "url": "#document-automatic-beacons-allowed", "dfnText": "automatic beacons allowed", "refSections": [{"refs": [{"id": "ref-for-document-automatic-beacons-allowed"}, {"id": "ref-for-document-automatic-beacons-allowed\u2460"}], "title": "3.8.5. Actual navigation changes"}], "external": false};
window.dfnpanelData['traversable-navigable-unfenced-parent'] = {"dfnID": "traversable-navigable-unfenced-parent", "url": "#traversable-navigable-unfenced-parent", "dfnText": "unfenced parent", "refSections": [{"refs": [{"id": "ref-for-traversable-navigable-unfenced-parent"}, {"id": "ref-for-traversable-navigable-unfenced-parent\u2460"}], "title": "3.5.1. Introduction"}, {"refs": [{"id": "ref-for-traversable-navigable-unfenced-parent\u2461"}, {"id": "ref-for-traversable-navigable-unfenced-parent\u2462"}, {"id": "ref-for-traversable-navigable-unfenced-parent\u2463"}], "title": "3.5.2. Traversable navigables"}, {"refs": [{"id": "ref-for-traversable-navigable-unfenced-parent\u2464"}, {"id": "ref-for-traversable-navigable-unfenced-parent\u2465"}], "title": "3.5.3. Nested traversables"}, {"refs": [{"id": "ref-for-traversable-navigable-unfenced-parent\u2466"}, {"id": "ref-for-traversable-navigable-unfenced-parent\u2467"}, {"id": "ref-for-traversable-navigable-unfenced-parent\u2468"}, {"id": "ref-for-traversable-navigable-unfenced-parent\u2460\u24ea"}, {"id": "ref-for-traversable-navigable-unfenced-parent\u2460\u2460"}], "title": "3.5.4. Top-level traversables"}, {"refs": [{"id": "ref-for-traversable-navigable-unfenced-parent\u2460\u2461"}, {"id": "ref-for-traversable-navigable-unfenced-parent\u2460\u2462"}], "title": "3.7. Modifications to the focusing algorithms"}, {"refs": [{"id": "ref-for-traversable-navigable-unfenced-parent\u2460\u2463"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}], "external": false};
window.dfnpanelData['navigable-unfenced-parent'] = {"dfnID": "navigable-unfenced-parent", "url": "#navigable-unfenced-parent", "dfnText": "unfenced parent", "refSections": [{"refs": [{"id": "ref-for-navigable-unfenced-parent"}], "title": "3.4. Policy container inheritance"}, {"refs": [{"id": "ref-for-navigable-unfenced-parent\u2460"}], "title": "3.5.2. Traversable navigables"}, {"refs": [{"id": "ref-for-navigable-unfenced-parent\u2461"}], "title": "3.7. Modifications to the focusing algorithms"}, {"refs": [{"id": "ref-for-navigable-unfenced-parent\u2462"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}], "external": false};
window.dfnpanelData['navigable-unfenced-container-document'] = {"dfnID": "navigable-unfenced-container-document", "url": "#navigable-unfenced-container-document", "dfnText": "unfenced container document", "refSections": [{"refs": [{"id": "ref-for-navigable-unfenced-container-document"}, {"id": "ref-for-navigable-unfenced-container-document\u2460"}, {"id": "ref-for-navigable-unfenced-container-document\u2461"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}], "external": false};
window.dfnpanelData['fenced-navigable-containers'] = {"dfnID": "fenced-navigable-containers", "url": "#fenced-navigable-containers", "dfnText": "fenced navigable containers", "refSections": [{"refs": [{"id": "ref-for-fenced-navigable-containers"}], "title": "3.5.3. Nested traversables"}, {"refs": [{"id": "ref-for-fenced-navigable-containers\u2460"}], "title": "3.6. Modifications to navigable-traversing algorithms"}, {"refs": [{"id": "ref-for-fenced-navigable-containers\u2461"}, {"id": "ref-for-fenced-navigable-containers\u2462"}, {"id": "ref-for-fenced-navigable-containers\u2463"}, {"id": "ref-for-fenced-navigable-containers\u2464"}, {"id": "ref-for-fenced-navigable-containers\u2465"}, {"id": "ref-for-fenced-navigable-containers\u2466"}, {"id": "ref-for-fenced-navigable-containers\u2467"}, {"id": "ref-for-fenced-navigable-containers\u2468"}, {"id": "ref-for-fenced-navigable-containers\u2460\u24ea"}], "title": "3.7. Modifications to the focusing algorithms"}, {"refs": [{"id": "ref-for-fenced-navigable-containers\u2460\u2460"}, {"id": "ref-for-fenced-navigable-containers\u2460\u2461"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-fenced-navigable-containers\u2460\u2462"}, {"id": "ref-for-fenced-navigable-containers\u2460\u2463"}, {"id": "ref-for-fenced-navigable-containers\u2460\u2464"}, {"id": "ref-for-fenced-navigable-containers\u2460\u2465"}], "title": "4.3.1. Algorithm patches"}], "external": false};
window.dfnpanelData['fenced-navigable-container-fenced-navigable'] = {"dfnID": "fenced-navigable-container-fenced-navigable", "url": "#fenced-navigable-container-fenced-navigable", "dfnText": "fenced navigable", "refSections": [{"refs": [{"id": "ref-for-fenced-navigable-container-fenced-navigable"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2460"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2461"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2462"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2463"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-fenced-navigable-container-fenced-navigable\u2464"}], "title": "2.3.1. Introduction"}, {"refs": [{"id": "ref-for-fenced-navigable-container-fenced-navigable\u2465"}], "title": "2.3.3. The fenced frame config struct"}, {"refs": [{"id": "ref-for-fenced-navigable-container-fenced-navigable\u2466"}], "title": "3.4. Policy container inheritance"}, {"refs": [{"id": "ref-for-fenced-navigable-container-fenced-navigable\u2467"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2468"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2460\u24ea"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2460\u2460"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2460\u2461"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2460\u2462"}], "title": "3.5.1. Introduction"}, {"refs": [{"id": "ref-for-fenced-navigable-container-fenced-navigable\u2460\u2463"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2460\u2464"}], "title": "3.5.2. Traversable navigables"}, {"refs": [{"id": "ref-for-fenced-navigable-container-fenced-navigable\u2460\u2465"}], "title": "3.5.3. Nested traversables"}, {"refs": [{"id": "ref-for-fenced-navigable-container-fenced-navigable\u2460\u2466"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2460\u2467"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2460\u2468"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2461\u24ea"}], "title": "3.5.4. Top-level traversables"}, {"refs": [{"id": "ref-for-fenced-navigable-container-fenced-navigable\u2461\u2460"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2461\u2461"}], "title": "3.6. Modifications to navigable-traversing algorithms"}, {"refs": [{"id": "ref-for-fenced-navigable-container-fenced-navigable\u2461\u2462"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2461\u2463"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2461\u2464"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2461\u2465"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2461\u2466"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2461\u2467"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2461\u2468"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2462\u24ea"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2462\u2460"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2462\u2461"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2462\u2462"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2462\u2463"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2462\u2464"}], "title": "3.7. Modifications to the focusing algorithms"}, {"refs": [{"id": "ref-for-fenced-navigable-container-fenced-navigable\u2462\u2465"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2462\u2466"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2462\u2467"}], "title": "3.8.1. The `Supports-Loading-Mode` HTTP response header"}, {"refs": [{"id": "ref-for-fenced-navigable-container-fenced-navigable\u2462\u2468"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2463\u24ea"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2463\u2460"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2463\u2461"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}, {"refs": [{"id": "ref-for-fenced-navigable-container-fenced-navigable\u2463\u2462"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2463\u2463"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2463\u2464"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2463\u2465"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2463\u2466"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2463\u2467"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2463\u2468"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-fenced-navigable-container-fenced-navigable\u2464\u24ea"}], "title": "3.8.6. Browsing context group swap"}, {"refs": [{"id": "ref-for-fenced-navigable-container-fenced-navigable\u2464\u2460"}], "title": "4.2.2. New fenced-frame-src [CSP] directive"}, {"refs": [{"id": "ref-for-fenced-navigable-container-fenced-navigable\u2464\u2461"}], "title": "4.3. Permissions Policies"}, {"refs": [{"id": "ref-for-fenced-navigable-container-fenced-navigable\u2464\u2462"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2464\u2463"}], "title": "4.3.1. Algorithm patches"}, {"refs": [{"id": "ref-for-fenced-navigable-container-fenced-navigable\u2464\u2464"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2464\u2465"}, {"id": "ref-for-fenced-navigable-container-fenced-navigable\u2464\u2466"}], "title": "4.4. CSSOM View"}], "external": false};
window.dfnpanelData['initialize-the-nested-traversable'] = {"dfnID": "initialize-the-nested-traversable", "url": "#initialize-the-nested-traversable", "dfnText": "initialize the nested traversable", "refSections": [{"refs": [{"id": "ref-for-initialize-the-nested-traversable"}], "title": "3.5.3. Nested traversables"}], "external": false};
window.dfnpanelData['create-a-new-nested-traversable'] = {"dfnID": "create-a-new-nested-traversable", "url": "#create-a-new-nested-traversable", "dfnText": "create a new nested traversable", "refSections": [{"refs": [{"id": "ref-for-create-a-new-nested-traversable"}], "title": "2. The fencedframe element"}, {"refs": [{"id": "ref-for-create-a-new-nested-traversable\u2460"}], "title": "3.5.1. Introduction"}, {"refs": [{"id": "ref-for-create-a-new-nested-traversable\u2461"}], "title": "3.5.3. Nested traversables"}], "external": false};
window.dfnpanelData['top-level-traversable'] = {"dfnID": "top-level-traversable", "url": "#top-level-traversable", "dfnText": "top-level traversable", "refSections": [{"refs": [{"id": "ref-for-top-level-traversable"}, {"id": "ref-for-top-level-traversable\u2460"}, {"id": "ref-for-top-level-traversable\u2461"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-top-level-traversable\u2462"}], "title": "3.5.1. Introduction"}, {"refs": [{"id": "ref-for-top-level-traversable\u2463"}], "title": "3.5.3. Nested traversables"}, {"refs": [{"id": "ref-for-top-level-traversable\u2464"}, {"id": "ref-for-top-level-traversable\u2465"}, {"id": "ref-for-top-level-traversable\u2466"}, {"id": "ref-for-top-level-traversable\u2467"}, {"id": "ref-for-top-level-traversable\u2468"}, {"id": "ref-for-top-level-traversable\u2460\u24ea"}, {"id": "ref-for-top-level-traversable\u2460\u2460"}], "title": "3.5.4. Top-level traversables"}, {"refs": [{"id": "ref-for-top-level-traversable\u2460\u2461"}], "title": "3.8.4. COOP, COEP, and cross-origin isolation"}], "external": false};
window.dfnpanelData['inclusive-dn-unfenced'] = {"dfnID": "inclusive-dn-unfenced", "url": "#inclusive-dn-unfenced", "dfnText": "unfenced", "refSections": [{"refs": [{"id": "ref-for-inclusive-dn-unfenced"}, {"id": "ref-for-inclusive-dn-unfenced\u2460"}], "title": "3.6. Modifications to navigable-traversing algorithms"}, {"refs": [{"id": "ref-for-inclusive-dn-unfenced\u2461"}], "title": "3.9. Page visibility"}], "external": false};
window.dfnpanelData['dn-unfenced'] = {"dfnID": "dn-unfenced", "url": "#dn-unfenced", "dfnText": "unfenced", "refSections": [{"refs": [{"id": "ref-for-dn-unfenced"}, {"id": "ref-for-dn-unfenced\u2460"}, {"id": "ref-for-dn-unfenced\u2461"}], "title": "3.6. Modifications to navigable-traversing algorithms"}], "external": false};
window.dfnpanelData['focus-unfenced'] = {"dfnID": "focus-unfenced", "url": "#focus-unfenced", "dfnText": "unfenced", "refSections": [{"refs": [{"id": "ref-for-focus-unfenced"}, {"id": "ref-for-focus-unfenced\u2460"}, {"id": "ref-for-focus-unfenced\u2461"}, {"id": "ref-for-focus-unfenced\u2462"}, {"id": "ref-for-focus-unfenced\u2463"}, {"id": "ref-for-focus-unfenced\u2464"}, {"id": "ref-for-focus-unfenced\u2465"}, {"id": "ref-for-focus-unfenced\u2466"}], "title": "3.7. Modifications to the focusing algorithms"}], "external": false};
window.dfnpanelData['supports-loading-mode-fenced-frame'] = {"dfnID": "supports-loading-mode-fenced-frame", "url": "#supports-loading-mode-fenced-frame", "dfnText": "fenced-frame", "refSections": [{"refs": [{"id": "ref-for-supports-loading-mode-fenced-frame"}], "title": "3.8.1. The `Supports-Loading-Mode` HTTP response header"}], "external": false};
window.dfnpanelData['http-headerdef-allow-fenced-frame-automatic-beacons'] = {"dfnID": "http-headerdef-allow-fenced-frame-automatic-beacons", "url": "#http-headerdef-allow-fenced-frame-automatic-beacons", "dfnText": "Allow-Fenced-Frame-Automatic-Beacons", "refSections": [{"refs": [{"id": "ref-for-http-headerdef-allow-fenced-frame-automatic-beacons"}], "title": "3.8.2. The\n`Allow-Fenced-Frame-Automatic-Beacons` HTTP response header"}, {"refs": [{"id": "ref-for-http-headerdef-allow-fenced-frame-automatic-beacons\u2460"}], "title": "3.8.5. Actual navigation changes"}], "external": false};
window.dfnpanelData['http-headerdef-allow-cross-origin-event-reporting'] = {"dfnID": "http-headerdef-allow-cross-origin-event-reporting", "url": "#http-headerdef-allow-cross-origin-event-reporting", "dfnText": "Allow-Cross-Origin-Event-Reporting", "refSections": [{"refs": [{"id": "ref-for-http-headerdef-allow-cross-origin-event-reporting"}], "title": "3.8.3. The\n`Allow-Cross-Origin-Event-Reporting` HTTP response header"}, {"refs": [{"id": "ref-for-http-headerdef-allow-cross-origin-event-reporting\u2460"}], "title": "3.8.5. Actual navigation changes"}], "external": false};
window.dfnpanelData['source-snapshot-params-initiator-fenced-frame-config-instance'] = {"dfnID": "source-snapshot-params-initiator-fenced-frame-config-instance", "url": "#source-snapshot-params-initiator-fenced-frame-config-instance", "dfnText": "initiator fenced frame config instance", "refSections": [{"refs": [{"id": "ref-for-source-snapshot-params-initiator-fenced-frame-config-instance"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-source-snapshot-params-initiator-fenced-frame-config-instance\u2460"}, {"id": "ref-for-source-snapshot-params-initiator-fenced-frame-config-instance\u2461"}], "title": "3.8.5. Actual navigation changes"}], "external": false};
window.dfnpanelData['source-snapshot-params-target-fenced-frame-config'] = {"dfnID": "source-snapshot-params-target-fenced-frame-config", "url": "#source-snapshot-params-target-fenced-frame-config", "dfnText": "target fenced frame config", "refSections": [{"refs": [{"id": "ref-for-source-snapshot-params-target-fenced-frame-config"}, {"id": "ref-for-source-snapshot-params-target-fenced-frame-config\u2460"}, {"id": "ref-for-source-snapshot-params-target-fenced-frame-config\u2461"}, {"id": "ref-for-source-snapshot-params-target-fenced-frame-config\u2462"}, {"id": "ref-for-source-snapshot-params-target-fenced-frame-config\u2463"}, {"id": "ref-for-source-snapshot-params-target-fenced-frame-config\u2464"}, {"id": "ref-for-source-snapshot-params-target-fenced-frame-config\u2465"}, {"id": "ref-for-source-snapshot-params-target-fenced-frame-config\u2466"}, {"id": "ref-for-source-snapshot-params-target-fenced-frame-config\u2467"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-source-snapshot-params-target-fenced-frame-config\u2468"}], "title": "4.3.1. Algorithm patches"}], "external": false};
window.dfnpanelData['source-snapshot-params-attribution-reporting-enabled'] = {"dfnID": "source-snapshot-params-attribution-reporting-enabled", "url": "#source-snapshot-params-attribution-reporting-enabled", "dfnText": "attribution reporting enabled", "refSections": [{"refs": [{"id": "ref-for-source-snapshot-params-attribution-reporting-enabled"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-source-snapshot-params-attribution-reporting-enabled\u2460"}], "title": "3.8.5. Actual navigation changes"}], "external": false};
window.dfnpanelData['source-snapshot-params-attribution-reporting-context-origin'] = {"dfnID": "source-snapshot-params-attribution-reporting-context-origin", "url": "#source-snapshot-params-attribution-reporting-context-origin", "dfnText": "attribution reporting context origin", "refSections": [{"refs": [{"id": "ref-for-source-snapshot-params-attribution-reporting-context-origin"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-source-snapshot-params-attribution-reporting-context-origin\u2460"}], "title": "3.8.5. Actual navigation changes"}], "external": false};
window.dfnpanelData['source-snapshot-params-automatic-beacons-allowed'] = {"dfnID": "source-snapshot-params-automatic-beacons-allowed", "url": "#source-snapshot-params-automatic-beacons-allowed", "dfnText": "automatic beacons allowed", "refSections": [{"refs": [{"id": "ref-for-source-snapshot-params-automatic-beacons-allowed"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-source-snapshot-params-automatic-beacons-allowed\u2460"}], "title": "3.8.5. Actual navigation changes"}], "external": false};
window.dfnpanelData['source-snapshot-params-automatic-beacon-data-map'] = {"dfnID": "source-snapshot-params-automatic-beacon-data-map", "url": "#source-snapshot-params-automatic-beacon-data-map", "dfnText": "automatic beacon data map", "refSections": [{"refs": [{"id": "ref-for-source-snapshot-params-automatic-beacon-data-map"}, {"id": "ref-for-source-snapshot-params-automatic-beacon-data-map\u2460"}], "title": "2.6. Automatic Reporting"}, {"refs": [{"id": "ref-for-source-snapshot-params-automatic-beacon-data-map\u2461"}], "title": "3.8.5. Actual navigation changes"}], "external": false};
window.dfnpanelData['get-the-automatic-beacon-data-mapping-to-use'] = {"dfnID": "get-the-automatic-beacon-data-mapping-to-use", "url": "#get-the-automatic-beacon-data-mapping-to-use", "dfnText": "get the automatic beacon data mapping to use", "refSections": [{"refs": [{"id": "ref-for-get-the-automatic-beacon-data-mapping-to-use"}], "title": "3.8.5. Actual navigation changes"}], "external": false};
window.dfnpanelData['navigation-params-fenced-frame-config-instance'] = {"dfnID": "navigation-params-fenced-frame-config-instance", "url": "#navigation-params-fenced-frame-config-instance", "dfnText": "fenced frame config instance", "refSections": [{"refs": [{"id": "ref-for-navigation-params-fenced-frame-config-instance"}, {"id": "ref-for-navigation-params-fenced-frame-config-instance\u2460"}, {"id": "ref-for-navigation-params-fenced-frame-config-instance\u2461"}, {"id": "ref-for-navigation-params-fenced-frame-config-instance\u2462"}, {"id": "ref-for-navigation-params-fenced-frame-config-instance\u2463"}, {"id": "ref-for-navigation-params-fenced-frame-config-instance\u2464"}, {"id": "ref-for-navigation-params-fenced-frame-config-instance\u2465"}], "title": "3.8.5. Actual navigation changes"}], "external": false};
window.dfnpanelData['fenced-frame-src'] = {"dfnID": "fenced-frame-src", "url": "#fenced-frame-src", "dfnText": "fenced-frame-src", "refSections": [{"refs": [{"id": "ref-for-fenced-frame-src"}, {"id": "ref-for-fenced-frame-src\u2460"}], "title": "4.2.2. New fenced-frame-src [CSP] directive"}], "external": false};
window.dfnpanelData['derive-a-permissions-policy-directly-from-a-fenced-frame-config-instance'] = {"dfnID": "derive-a-permissions-policy-directly-from-a-fenced-frame-config-instance", "url": "#derive-a-permissions-policy-directly-from-a-fenced-frame-config-instance", "dfnText": "Derive a permissions policy directly from a fenced frame\n  config instance", "refSections": [{"refs": [{"id": "ref-for-derive-a-permissions-policy-directly-from-a-fenced-frame-config-instance"}, {"id": "ref-for-derive-a-permissions-policy-directly-from-a-fenced-frame-config-instance\u2460"}], "title": "4.3.1. Algorithm patches"}], "external": false};
window.dfnpanelData['should-navigation-response-to-navigation-request-be-blocked-by-permissions-policy'] = {"dfnID": "should-navigation-response-to-navigation-request-be-blocked-by-permissions-policy", "url": "#should-navigation-response-to-navigation-request-be-blocked-by-permissions-policy", "dfnText": "should navigation response to navigation request be blocked by\n  Permissions Policy?", "refSections": [{"refs": [{"id": "ref-for-should-navigation-response-to-navigation-request-be-blocked-by-permissions-policy"}], "title": "4.3. Permissions Policies"}, {"refs": [{"id": "ref-for-should-navigation-response-to-navigation-request-be-blocked-by-permissions-policy\u2460"}, {"id": "ref-for-should-navigation-response-to-navigation-request-be-blocked-by-permissions-policy\u2461"}], "title": "4.3.1. Algorithm patches"}], "external": false};
window.dfnpanelData['should-navigation-response-to-navigation-request-be-blocked-by-sandboxing-flags'] = {"dfnID": "should-navigation-response-to-navigation-request-be-blocked-by-sandboxing-flags", "url": "#should-navigation-response-to-navigation-request-be-blocked-by-sandboxing-flags", "dfnText": "Should navigation response to navigation request be blocked by sandboxing flags?", "refSections": [{"refs": [{"id": "ref-for-should-navigation-response-to-navigation-request-be-blocked-by-sandboxing-flags"}], "title": "3.8.5. Actual navigation changes"}, {"refs": [{"id": "ref-for-should-navigation-response-to-navigation-request-be-blocked-by-sandboxing-flags\u2460"}], "title": "4.3.1. Algorithm patches"}], "external": false};
</script>
<script>/* Boilerplate: script-dom-helper */
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}
</script>
<script>/* Boilerplate: script-var-click-highlighting */
/*
Color-choosing design:

Colors are ordered by goodness.
Each color has a usage count (initially zero).
Each variable has a last-used color.

* If the var has a last-used color, and that color's usage is 0,
    return that color.
* Otherwise, return the lowest-indexed color with the lowest usage.
    Increment the color's usage and set it as the last-used color
    for that var.
* On unclicking, decrement usage of the color.
*/
"use strict";
{
    document.addEventListener("click", e=>{
        if(e.target.nodeName == "VAR") {
            highlightSameAlgoVars(e.target);
        }
    });
    const indexCounts = new Map();
    const indexNames = new Map();
    function highlightSameAlgoVars(v) {
        // Find the algorithm container.
        let algoContainer = null;
        let searchEl = v;
        while(algoContainer == null && searchEl != document.body) {
            searchEl = searchEl.parentNode;
            if(searchEl.hasAttribute("data-algorithm")) {
                algoContainer = searchEl;
            }
        }

        // Not highlighting document-global vars,
        // too likely to be unrelated.
        if(algoContainer == null) return;

        const algoName = algoContainer.getAttribute("data-algorithm");
        const varName = getVarName(v);
        const addClass = !v.classList.contains("selected");
        let highlightClass = null;
        if(addClass) {
            const index = chooseHighlightIndex(algoName, varName);
            indexCounts.get(algoName)[index] += 1;
            indexNames.set(algoName+"///"+varName, index);
            highlightClass = nameFromIndex(index);
        } else {
            const index = previousHighlightIndex(algoName, varName);
            indexCounts.get(algoName)[index] -= 1;
            highlightClass = nameFromIndex(index);
        }

        // Find all same-name vars, and toggle their class appropriately.
        for(const el of algoContainer.querySelectorAll("var")) {
            if(getVarName(el) == varName) {
                el.classList.toggle("selected", addClass);
                el.classList.toggle(highlightClass, addClass);
            }
        }
    }
    function getVarName(el) {
        return el.textContent.replace(/(\s|\xa0)+/, " ").trim();
    }
    function chooseHighlightIndex(algoName, varName) {
        let indexes = null;
        if(indexCounts.has(algoName)) {
            indexes = indexCounts.get(algoName);
        } else {
            // 7 classes right now
            indexes = [0,0,0,0,0,0,0];
            indexCounts.set(algoName, indexes);
        }

        // If the element was recently unclicked,
        // *and* that color is still unclaimed,
        // give it back the same color.
        const lastIndex = previousHighlightIndex(algoName, varName);
        if(indexes[lastIndex] === 0) return lastIndex;

        // Find the earliest index with the lowest count.
        const minCount = Math.min.apply(null, indexes);
        let index = null;
        for(var i = 0; i < indexes.length; i++) {
            if(indexes[i] == minCount) {
                return i;
            }
        }
    }
    function previousHighlightIndex(algoName, varName) {
        return indexNames.get(algoName+"///"+varName);
    }
    function nameFromIndex(index) {
        return "selected" + index;
    }
}
</script>
<script>/* Boilerplate: script-wpt */
let wptPath = "/fenced-frame/";
"use strict";

document.addEventListener("DOMContentLoaded", async ()=>{
    if(wptPath == "/") return;

    const runsUrl = "https://wpt.fyi/api/runs?label=master&label=stable&max-count=1&product=chrome&product=firefox&product=safari&product=edge";
    const runs = await (await fetch(runsUrl)).json();

    const testResults = await (await fetch("https://wpt.fyi/api/search", {
        method:"POST",
        headers:{
            "Content-Type":"application/json",
        },
        body: JSON.stringify({
            "run_ids": runs.map(x=>x.id),
            "query": {"path": wptPath},
        })
    })).json();

    const browsers = runs.map(x=>({name:x.browser_name, version:x.browser_version, passes:0, total: 0}));
    const resultsFromPath = new Map(testResults.results.map(result=>{
        const testPath = result.test;
        const passes = result.legacy_status.map(x=>[x.passes, x.total]);
        return [testPath, passes];
    }));
    const seenTests = new Set();
    document.querySelectorAll(".wpt-name").forEach(nameEl=>{
        const passData = resultsFromPath.get("/" + nameEl.getAttribute("title"));
        if(!passData) {
            console.log("Couldn't find test in results:", nameEl);
            return
        }
        const numTests = passData[0][1];
        if(numTests > 1) {
            nameEl.insertAdjacentElement("beforeend",
                el("small", {}, ` (${numTests} tests)`));
        }
        if(passData == undefined) return;
        const resultsEl = el("span",{"class":"wpt-results"},
            ...passData.map((p,i) => el("span",
            {
                "title": `${browsers[i].name} ${p[0]}/${p[1]}`,
                "class": "wpt-result",
                "style": `background: conic-gradient(forestgreen ${p[0]/p[1]*360}deg, darkred 0deg);`,
            })),
        );
        nameEl.insertAdjacentElement("afterend", resultsEl);

        // Only update the summary pass/total count if we haven't seen this
        // test before, to support authors listing the same test multiple times
        // in a spec.
        if (!seenTests.has(nameEl.getAttribute("title"))) {
            seenTests.add(nameEl.getAttribute("title"));
            passData.forEach((p,i) => {
                browsers[i].passes += p[0];
                browsers[i].total += p[1];
            });
        }
    });
    const overview = document.querySelector(".wpt-overview");
    if(overview) {
        overview.appendChild(el('ul',{}, ...browsers.map(formatWptResult)));
        document.head.appendChild(el('style', {},
            `.wpt-overview ul { display: flex; flex-flow: row wrap; gap: .2em; justify-content: start; list-style: none; padding: 0; margin: 0;}
             .wpt-overview li { padding: .25em 1em; color: black; text-align: center; }
             .wpt-overview img { height: 1.5em; height: max(1.5em, 32px); background: transparent; }
             .wpt-overview .browser { font-weight: bold; }
             .wpt-overview .passes-none { background: #e57373; }
             .wpt-overview .passes-hardly { background: #ffb74d; }
             .wpt-overview .passes-a-few { background: #ffd54f; }
             .wpt-overview .passes-half { background: #fff176; }
             .wpt-overview .passes-lots { background: #dce775; }
             .wpt-overview .passes-most { background: #aed581; }
             .wpt-overview .passes-all { background: #81c784; }`));
    }
});
function el(name, attrs, ...content) {
    const x = document.createElement(name);
    for(const [k,v] of Object.entries(attrs)) {
        x.setAttribute(k, v);
    }
    for(let child of content) {
        if(typeof child == "string") child = document.createTextNode(child);
        try {
        x.appendChild(child);
        } catch(e) { console.log({x, child}); }
    }
    return x;
}
function formatWptResult({name, version, passes, total}) {
    const passRate = passes/total;
    let passClass = "";
    if(passRate == 0)      passClass = "passes-none";
    else if(passRate < .2) passClass = "passes-hardly";
    else if(passRate < .4) passClass = "passes-a-few";
    else if(passRate < .6) passClass = "passes-half";
    else if(passRate < .8) passClass = "passes-lots";
    else if(passRate < 1)  passClass = "passes-most";
    else                   passClass = "passes-all";

    name = name[0].toUpperCase() + name.slice(1);
    const shortVersion = /^\d+/.exec(version);
    const icon = []

    if(name == "Chrome") icon.push(el('img', {alt:"", src:"https://wpt.fyi/static/chrome_64x64.png"}));
    if(name == "Edge") icon.push(el('img', {alt:"", src:"https://wpt.fyi/static/edge_64x64.png"}));
    if(name == "Safari") icon.push(el('img', {alt:"", src:"https://wpt.fyi/static/safari_64x64.png"}));
    if(name == "Firefox") icon.push(el('img', {alt:"", src:"https://wpt.fyi/static/firefox_64x64.png"}));

    return el('li', {"class":passClass},
        el('nobr', {'class':'browser'}, ...icon, ` ${name} ${shortVersion}`),
        el('br', {}),
        el('nobr', {'class':'pass-rate'}, `${passes}/${total}`)
    );
}
</script>